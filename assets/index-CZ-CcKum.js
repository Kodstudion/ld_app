(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function p0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ac={exports:{}},ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function v0(){if(hm)return ws;hm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var _ in o)_!=="key"&&(f[_]=o[_])}else f=o;return o=f.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:f}}return ws.Fragment=n,ws.jsx=l,ws.jsxs=l,ws}var dm;function y0(){return dm||(dm=1,ac.exports=v0()),ac.exports}var ft=y0(),rc={exports:{}},P={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function E0(){if(_m)return P;_m=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function R(y){return y===null||typeof y!="object"?null:(y=b&&y[b]||y["@@iterator"],typeof y=="function"?y:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Y={};function W(y,x,Q){this.props=y,this.context=x,this.refs=Y,this.updater=Q||z}W.prototype.isReactComponent={},W.prototype.setState=function(y,x){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,x,"setState")},W.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function me(){}me.prototype=W.prototype;function de(y,x,Q){this.props=y,this.context=x,this.refs=Y,this.updater=Q||z}var De=de.prototype=new me;De.constructor=de,H(De,W.prototype),De.isPureReactComponent=!0;var gt=Array.isArray,ae={H:null,A:null,T:null,S:null},at=Object.prototype.hasOwnProperty;function Rn(y,x,Q,G,B,re){return Q=re.ref,{$$typeof:s,type:y,key:x,ref:Q!==void 0?Q:null,props:re}}function Dn(y,x){return Rn(y.type,x,void 0,void 0,void 0,y.props)}function j(y){return typeof y=="object"&&y!==null&&y.$$typeof===s}function fe(y){var x={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(Q){return x[Q]})}var At=/\/+/g;function en(y,x){return typeof y=="object"&&y!==null&&y.key!=null?fe(""+y.key):x.toString(36)}function Xt(){}function tn(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(Xt,Xt):(y.status="pending",y.then(function(x){y.status==="pending"&&(y.status="fulfilled",y.value=x)},function(x){y.status==="pending"&&(y.status="rejected",y.reason=x)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function rt(y,x,Q,G,B){var re=typeof y;(re==="undefined"||re==="boolean")&&(y=null);var J=!1;if(y===null)J=!0;else switch(re){case"bigint":case"string":case"number":J=!0;break;case"object":switch(y.$$typeof){case s:case n:J=!0;break;case T:return J=y._init,rt(J(y._payload),x,Q,G,B)}}if(J)return B=B(y),J=G===""?"."+en(y,0):G,gt(B)?(Q="",J!=null&&(Q=J.replace(At,"$&/")+"/"),rt(B,x,Q,"",function(He){return He})):B!=null&&(j(B)&&(B=Dn(B,Q+(B.key==null||y&&y.key===B.key?"":(""+B.key).replace(At,"$&/")+"/")+J)),x.push(B)),1;J=0;var it=G===""?".":G+":";if(gt(y))for(var _e=0;_e<y.length;_e++)G=y[_e],re=it+en(G,_e),J+=rt(G,x,Q,re,B);else if(_e=R(y),typeof _e=="function")for(y=_e.call(y),_e=0;!(G=y.next()).done;)G=G.value,re=it+en(G,_e++),J+=rt(G,x,Q,re,B);else if(re==="object"){if(typeof y.then=="function")return rt(tn(y),x,Q,G,B);throw x=String(y),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return J}function L(y,x,Q){if(y==null)return y;var G=[],B=0;return rt(y,G,"","",function(re){return x.call(Q,re,B++)}),G}function Z(y){if(y._status===-1){var x=y._result;x=x(),x.then(function(Q){(y._status===0||y._status===-1)&&(y._status=1,y._result=Q)},function(Q){(y._status===0||y._status===-1)&&(y._status=2,y._result=Q)}),y._status===-1&&(y._status=0,y._result=x)}if(y._status===1)return y._result.default;throw y._result}var X=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)};function Ee(){}return P.Children={map:L,forEach:function(y,x,Q){L(y,function(){x.apply(this,arguments)},Q)},count:function(y){var x=0;return L(y,function(){x++}),x},toArray:function(y){return L(y,function(x){return x})||[]},only:function(y){if(!j(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},P.Component=W,P.Fragment=l,P.Profiler=o,P.PureComponent=de,P.StrictMode=r,P.Suspense=p,P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,P.act=function(){throw Error("act(...) is not supported in production builds of React.")},P.cache=function(y){return function(){return y.apply(null,arguments)}},P.cloneElement=function(y,x,Q){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var G=H({},y.props),B=y.key,re=void 0;if(x!=null)for(J in x.ref!==void 0&&(re=void 0),x.key!==void 0&&(B=""+x.key),x)!at.call(x,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&x.ref===void 0||(G[J]=x[J]);var J=arguments.length-2;if(J===1)G.children=Q;else if(1<J){for(var it=Array(J),_e=0;_e<J;_e++)it[_e]=arguments[_e+2];G.children=it}return Rn(y.type,B,void 0,void 0,re,G)},P.createContext=function(y){return y={$$typeof:h,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:f,_context:y},y},P.createElement=function(y,x,Q){var G,B={},re=null;if(x!=null)for(G in x.key!==void 0&&(re=""+x.key),x)at.call(x,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(B[G]=x[G]);var J=arguments.length-2;if(J===1)B.children=Q;else if(1<J){for(var it=Array(J),_e=0;_e<J;_e++)it[_e]=arguments[_e+2];B.children=it}if(y&&y.defaultProps)for(G in J=y.defaultProps,J)B[G]===void 0&&(B[G]=J[G]);return Rn(y,re,void 0,void 0,null,B)},P.createRef=function(){return{current:null}},P.forwardRef=function(y){return{$$typeof:_,render:y}},P.isValidElement=j,P.lazy=function(y){return{$$typeof:T,_payload:{_status:-1,_result:y},_init:Z}},P.memo=function(y,x){return{$$typeof:g,type:y,compare:x===void 0?null:x}},P.startTransition=function(y){var x=ae.T,Q={};ae.T=Q;try{var G=y(),B=ae.S;B!==null&&B(Q,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ee,X)}catch(re){X(re)}finally{ae.T=x}},P.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},P.use=function(y){return ae.H.use(y)},P.useActionState=function(y,x,Q){return ae.H.useActionState(y,x,Q)},P.useCallback=function(y,x){return ae.H.useCallback(y,x)},P.useContext=function(y){return ae.H.useContext(y)},P.useDebugValue=function(){},P.useDeferredValue=function(y,x){return ae.H.useDeferredValue(y,x)},P.useEffect=function(y,x){return ae.H.useEffect(y,x)},P.useId=function(){return ae.H.useId()},P.useImperativeHandle=function(y,x,Q){return ae.H.useImperativeHandle(y,x,Q)},P.useInsertionEffect=function(y,x){return ae.H.useInsertionEffect(y,x)},P.useLayoutEffect=function(y,x){return ae.H.useLayoutEffect(y,x)},P.useMemo=function(y,x){return ae.H.useMemo(y,x)},P.useOptimistic=function(y,x){return ae.H.useOptimistic(y,x)},P.useReducer=function(y,x,Q){return ae.H.useReducer(y,x,Q)},P.useRef=function(y){return ae.H.useRef(y)},P.useState=function(y){return ae.H.useState(y)},P.useSyncExternalStore=function(y,x,Q){return ae.H.useSyncExternalStore(y,x,Q)},P.useTransition=function(){return ae.H.useTransition()},P.version="19.0.0",P}var mm;function jc(){return mm||(mm=1,rc.exports=E0()),rc.exports}var Jn=jc();const br=p0(Jn);var uc={exports:{}},xs={},oc={exports:{}},cc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function S0(){return gm||(gm=1,function(s){function n(L,Z){var X=L.length;L.push(Z);e:for(;0<X;){var Ee=X-1>>>1,y=L[Ee];if(0<o(y,Z))L[Ee]=Z,L[X]=y,X=Ee;else break e}}function l(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Z=L[0],X=L.pop();if(X!==Z){L[0]=X;e:for(var Ee=0,y=L.length,x=y>>>1;Ee<x;){var Q=2*(Ee+1)-1,G=L[Q],B=Q+1,re=L[B];if(0>o(G,X))B<y&&0>o(re,G)?(L[Ee]=re,L[B]=X,Ee=B):(L[Ee]=G,L[Q]=X,Ee=Q);else if(B<y&&0>o(re,X))L[Ee]=re,L[B]=X,Ee=B;else break e}}return Z}function o(L,Z){var X=L.sortIndex-Z.sortIndex;return X!==0?X:L.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,_=h.now();s.unstable_now=function(){return h.now()-_}}var p=[],g=[],T=1,b=null,R=3,z=!1,H=!1,Y=!1,W=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function De(L){for(var Z=l(g);Z!==null;){if(Z.callback===null)r(g);else if(Z.startTime<=L)r(g),Z.sortIndex=Z.expirationTime,n(p,Z);else break;Z=l(g)}}function gt(L){if(Y=!1,De(L),!H)if(l(p)!==null)H=!0,tn();else{var Z=l(g);Z!==null&&rt(gt,Z.startTime-L)}}var ae=!1,at=-1,Rn=5,Dn=-1;function j(){return!(s.unstable_now()-Dn<Rn)}function fe(){if(ae){var L=s.unstable_now();Dn=L;var Z=!0;try{e:{H=!1,Y&&(Y=!1,me(at),at=-1),z=!0;var X=R;try{t:{for(De(L),b=l(p);b!==null&&!(b.expirationTime>L&&j());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,R=b.priorityLevel;var y=Ee(b.expirationTime<=L);if(L=s.unstable_now(),typeof y=="function"){b.callback=y,De(L),Z=!0;break t}b===l(p)&&r(p),De(L)}else r(p);b=l(p)}if(b!==null)Z=!0;else{var x=l(g);x!==null&&rt(gt,x.startTime-L),Z=!1}}break e}finally{b=null,R=X,z=!1}Z=void 0}}finally{Z?At():ae=!1}}}var At;if(typeof de=="function")At=function(){de(fe)};else if(typeof MessageChannel<"u"){var en=new MessageChannel,Xt=en.port2;en.port1.onmessage=fe,At=function(){Xt.postMessage(null)}}else At=function(){W(fe,0)};function tn(){ae||(ae=!0,At())}function rt(L,Z){at=W(function(){L(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_continueExecution=function(){H||z||(H=!0,tn())},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rn=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_getFirstCallbackNode=function(){return l(p)},s.unstable_next=function(L){switch(R){case 1:case 2:case 3:var Z=3;break;default:Z=R}var X=R;R=Z;try{return L()}finally{R=X}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=R;R=L;try{return Z()}finally{R=X}},s.unstable_scheduleCallback=function(L,Z,X){var Ee=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ee+X:Ee):X=Ee,L){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=X+y,L={id:T++,callback:Z,priorityLevel:L,startTime:X,expirationTime:y,sortIndex:-1},X>Ee?(L.sortIndex=X,n(g,L),l(p)===null&&L===l(g)&&(Y?(me(at),at=-1):Y=!0,rt(gt,X-Ee))):(L.sortIndex=y,n(p,L),H||z||(H=!0,tn())),L},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(L){var Z=R;return function(){var X=R;R=Z;try{return L.apply(this,arguments)}finally{R=X}}}}(cc)),cc}var pm;function b0(){return pm||(pm=1,oc.exports=S0()),oc.exports}var fc={exports:{}},tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function T0(){if(vm)return tt;vm=1;var s=jc();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(p,g,null,T)},tt.flushSync=function(p){var g=h.T,T=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=T,r.d.f()}},tt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},tt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},tt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=_(T,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,z=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:z}):T==="script"&&r.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:z,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=_(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},tt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=_(T,g.crossOrigin);r.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=_(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},tt.requestFormReset=function(p){r.d.r(p)},tt.unstable_batchedUpdates=function(p,g){return p(g)},tt.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},tt.useFormStatus=function(){return h.H.useHostTransitionStatus()},tt.version="19.0.0",tt}var ym;function C0(){if(ym)return fc.exports;ym=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),fc.exports=T0(),fc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function A0(){if(Em)return xs;Em=1;var s=b0(),n=jc(),l=C0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),z=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),gt=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function at(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var Rn=Symbol.for("react.client.reference");function Dn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Rn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case _:return"Portal";case T:return"Profiler";case g:return"StrictMode";case Y:return"Suspense";case W:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case me:return t=e.displayName||null,t!==null?t:Dn(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return Dn(e(t))}catch{}}return null}var j=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=Object.assign,At,en;function Xt(e){if(At===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);At=t&&t[1]||"",en=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+e+en}var tn=!1;function rt(e,t){if(!e||tn)return"";tn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var w=function(){throw Error()};if(Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(O){var D=O}Reflect.construct(e,[],w)}else{try{w.call()}catch(O){D=O}e.call(w.prototype)}}else{try{throw Error()}catch(O){D=O}(w=e())&&typeof w.catch=="function"&&w.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),d=c[0],m=c[1];if(d&&m){var v=d.split(`
`),S=m.split(`
`);for(u=a=0;a<v.length&&!v[a].includes("DetermineComponentFrameRoot");)a++;for(;u<S.length&&!S[u].includes("DetermineComponentFrameRoot");)u++;if(a===v.length||u===S.length)for(a=v.length-1,u=S.length-1;1<=a&&0<=u&&v[a]!==S[u];)u--;for(;1<=a&&0<=u;a--,u--)if(v[a]!==S[u]){if(a!==1||u!==1)do if(a--,u--,0>u||v[a]!==S[u]){var N=`
`+v[a].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=a&&0<=u);break}}}finally{tn=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Xt(i):""}function L(e){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return e=rt(e.type,!1),e;case 11:return e=rt(e.type.render,!1),e;case 1:return e=rt(e.type,!0),e;default:return""}}function Z(e){try{var t="";do t+=L(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function X(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Ee(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(X(e)!==e)throw Error(r(188))}function x(e){var t=e.alternate;if(!t){if(t=X(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return y(u),e;if(c===a)return y(u),t;c=c.sibling}throw Error(r(188))}if(i.return!==a.return)i=u,a=c;else{for(var d=!1,m=u.child;m;){if(m===i){d=!0,i=u,a=c;break}if(m===a){d=!0,a=u,i=c;break}m=m.sibling}if(!d){for(m=c.child;m;){if(m===i){d=!0,i=c,a=u;break}if(m===a){d=!0,a=c,i=u;break}m=m.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function Q(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Q(e),t!==null)return t;e=e.sibling}return null}var G=Array.isArray,B=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},J=[],it=-1;function _e(e){return{current:e}}function He(e){0>it||(e.current=J[it],J[it]=null,it--)}function Re(e,t){it++,J[it]=e.current,e.current=t}var Kt=_e(null),Ul=_e(null),On=_e(null),sa=_e(null);function aa(e,t){switch(Re(On,t),Re(Ul,e),Re(Kt,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Y_(e),t=G_(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}He(Kt),Re(Kt,t)}function Bi(){He(Kt),He(Ul),He(On)}function Wr(e){e.memoizedState!==null&&Re(sa,e);var t=Kt.current,i=G_(t,e.type);t!==i&&(Re(Ul,e),Re(Kt,i))}function ra(e){Ul.current===e&&(He(Kt),He(Ul)),sa.current===e&&(He(sa),Rs._currentValue=re)}var Pr=Object.prototype.hasOwnProperty,Jr=s.unstable_scheduleCallback,$r=s.unstable_cancelCallback,Zp=s.unstable_shouldYield,Wp=s.unstable_requestPaint,Ft=s.unstable_now,Pp=s.unstable_getCurrentPriorityLevel,Mf=s.unstable_ImmediatePriority,wf=s.unstable_UserBlockingPriority,ua=s.unstable_NormalPriority,Jp=s.unstable_LowPriority,xf=s.unstable_IdlePriority,$p=s.log,ev=s.unstable_setDisableYieldValue,Hl=null,pt=null;function tv(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Hl,e,void 0,(e.current.flags&128)===128)}catch{}}function Nn(e){if(typeof $p=="function"&&ev(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Hl,e)}catch{}}var vt=Math.clz32?Math.clz32:lv,nv=Math.log,iv=Math.LN2;function lv(e){return e>>>=0,e===0?32:31-(nv(e)/iv|0)|0}var oa=128,ca=4194304;function ai(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fa(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,c=e.pingedLanes,d=e.warmLanes;e=e.finishedLanes!==0;var m=i&134217727;return m!==0?(i=m&~u,i!==0?a=ai(i):(c&=m,c!==0?a=ai(c):e||(d=m&~d,d!==0&&(a=ai(d))))):(m=i&~u,m!==0?a=ai(m):c!==0?a=ai(c):e||(d=i&~d,d!==0&&(a=ai(d)))),a===0?0:t!==0&&t!==a&&!(t&u)&&(u=a&-a,d=t&-t,u>=d||u===32&&(d&4194176)!==0)?t:a}function Ll(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sv(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(){var e=oa;return oa<<=1,!(oa&4194176)&&(oa=128),e}function Uf(){var e=ca;return ca<<=1,!(ca&62914560)&&(ca=4194304),e}function eu(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Bl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function av(e,t,i,a,u,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var m=e.entanglements,v=e.expirationTimes,S=e.hiddenUpdates;for(i=d&~i;0<i;){var N=31-vt(i),w=1<<N;m[N]=0,v[N]=-1;var D=S[N];if(D!==null)for(S[N]=null,N=0;N<D.length;N++){var O=D[N];O!==null&&(O.lane&=-536870913)}i&=~w}a!==0&&Hf(e,a,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function Hf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-vt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&4194218}function Lf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-vt(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}function Bf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function If(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:am(e.type))}function rv(e,t){var i=B.p;try{return B.p=e,t()}finally{B.p=i}}var Mn=Math.random().toString(36).slice(2),$e="__reactFiber$"+Mn,ut="__reactProps$"+Mn,Ii="__reactContainer$"+Mn,tu="__reactEvents$"+Mn,uv="__reactListeners$"+Mn,ov="__reactHandles$"+Mn,qf="__reactResources$"+Mn,Il="__reactMarker$"+Mn;function nu(e){delete e[$e],delete e[ut],delete e[tu],delete e[uv],delete e[ov]}function ri(e){var t=e[$e];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ii]||i[$e]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Q_(e);e!==null;){if(i=e[$e])return i;e=Q_(e)}return t}e=i,i=e.parentNode}return null}function qi(e){if(e=e[$e]||e[Ii]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ki(e){var t=e[qf];return t||(t=e[qf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Il]=!0}var kf=new Set,Yf={};function ui(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(Yf[e]=t,e=0;e<t.length;e++)kf.add(t[e])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gf={},Vf={};function fv(e){return Pr.call(Vf,e)?!0:Pr.call(Gf,e)?!1:cv.test(e)?Vf[e]=!0:(Gf[e]=!0,!1)}function ha(e,t,i){if(fv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function da(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ln(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hv(e){var t=jf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _a(e){e._valueTracker||(e._valueTracker=hv(e))}function Qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=jf(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dv=/[\n"\\]/g;function Dt(e){return e.replace(dv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function iu(e,t,i,a,u,c,d,m){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?lu(e,d,Rt(t)):i!=null?lu(e,d,Rt(i)):a!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+Rt(m):e.removeAttribute("name")}function Xf(e,t,i,a,u,c,d,m){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+Rt(i):"",t=t!=null?""+Rt(t):i,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function lu(e,t,i){t==="number"&&ma(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Gi(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Rt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Kf(e,t,i){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Rt(i):""}function Ff(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(G(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Rt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a)}function Vi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var _v=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zf(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||_v.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Wf(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in t)a=t[u],t.hasOwnProperty(u)&&i[u]!==a&&Zf(e,u,a)}else for(var c in t)t.hasOwnProperty(c)&&Zf(e,c,t[c])}function su(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return gv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var au=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ji=null,Qi=null;function Pf(e){var t=qi(e);if(t&&(e=t.stateNode)){var i=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(iu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=a[ut]||null;if(!u)throw Error(r(90));iu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&Qf(a)}break e;case"textarea":Kf(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Gi(e,!!i.multiple,t,!1)}}}var uu=!1;function Jf(e,t,i){if(uu)return e(t,i);uu=!0;try{var a=e(t);return a}finally{if(uu=!1,(ji!==null||Qi!==null)&&($a(),ji&&(t=ji,e=Qi,Qi=ji=null,Pf(t),e)))for(t=0;t<e.length;t++)Pf(e[t])}}function kl(e,t){var i=e.stateNode;if(i===null)return null;var a=i[ut]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var ou=!1;if(nn)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{ou=!1}var wn=null,cu=null,pa=null;function $f(){if(pa)return pa;var e,t=cu,i=t.length,a,u="value"in wn?wn.value:wn.textContent,c=u.length;for(e=0;e<i&&t[e]===u[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===u[c-a];a++);return pa=u.slice(e,1<a?1-a:void 0)}function va(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function eh(){return!1}function ot(e){function t(i,a,u,c,d){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ya:eh,this.isPropagationStopped=eh,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),t}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=ot(oi),Gl=fe({},oi,{view:0,detail:0}),pv=ot(Gl),fu,hu,Vl,Sa=fe({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vl&&(Vl&&e.type==="mousemove"?(fu=e.screenX-Vl.screenX,hu=e.screenY-Vl.screenY):hu=fu=0,Vl=e),fu)},movementY:function(e){return"movementY"in e?e.movementY:hu}}),th=ot(Sa),vv=fe({},Sa,{dataTransfer:0}),yv=ot(vv),Ev=fe({},Gl,{relatedTarget:0}),du=ot(Ev),Sv=fe({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=ot(Sv),Tv=fe({},oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cv=ot(Tv),Av=fe({},oi,{data:0}),nh=ot(Av),Rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ov[e])?!!t[e]:!1}function _u(){return Nv}var Mv=fe({},Gl,{key:function(e){if(e.key){var t=Rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wv=ot(Mv),xv=fe({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=ot(xv),zv=fe({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Uv=ot(zv),Hv=fe({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lv=ot(Hv),Bv=fe({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iv=ot(Bv),qv=fe({},oi,{newState:0,oldState:0}),kv=ot(qv),Yv=[9,13,27,32],mu=nn&&"CompositionEvent"in window,jl=null;nn&&"documentMode"in document&&(jl=document.documentMode);var Gv=nn&&"TextEvent"in window&&!jl,lh=nn&&(!mu||jl&&8<jl&&11>=jl),sh=" ",ah=!1;function rh(e,t){switch(e){case"keyup":return Yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function Vv(e,t){switch(e){case"compositionend":return uh(t);case"keypress":return t.which!==32?null:(ah=!0,sh);case"textInput":return e=t.data,e===sh&&ah?null:e;default:return null}}function jv(e,t){if(Xi)return e==="compositionend"||!mu&&rh(e,t)?(e=$f(),pa=cu=wn=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lh&&t.locale!=="ko"?null:t.data;default:return null}}var Qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qv[e.type]:t==="textarea"}function ch(e,t,i,a){ji?Qi?Qi.push(a):Qi=[a]:ji=a,t=lr(t,"onChange"),0<t.length&&(i=new Ea("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Ql=null,Xl=null;function Xv(e){L_(e,0)}function ba(e){var t=ql(e);if(Qf(t))return e}function fh(e,t){if(e==="change")return t}var hh=!1;if(nn){var gu;if(nn){var pu="oninput"in document;if(!pu){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),pu=typeof dh.oninput=="function"}gu=pu}else gu=!1;hh=gu&&(!document.documentMode||9<document.documentMode)}function _h(){Ql&&(Ql.detachEvent("onpropertychange",mh),Xl=Ql=null)}function mh(e){if(e.propertyName==="value"&&ba(Xl)){var t=[];ch(t,Xl,e,ru(e)),Jf(Xv,t)}}function Kv(e,t,i){e==="focusin"?(_h(),Ql=t,Xl=i,Ql.attachEvent("onpropertychange",mh)):e==="focusout"&&_h()}function Fv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(Xl)}function Zv(e,t){if(e==="click")return ba(t)}function Wv(e,t){if(e==="input"||e==="change")return ba(t)}function Pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:Pv;function Kl(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!Pr.call(t,u)||!yt(e[u],t[u]))return!1}return!0}function gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ph(e,t){var i=gh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=gh(i)}}function vh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ma(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ma(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jv(e,t){var i=yh(t);t=e.focusedElem;var a=e.selectionRange;if(i!==t&&t&&t.ownerDocument&&vh(t.ownerDocument.documentElement,t)){if(a!==null&&vu(t)){if(e=a.start,i=a.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var u=t.textContent.length,c=Math.min(a.start,u);a=a.end===void 0?c:Math.min(a.end,u),!i.extend&&c>a&&(u=a,a=c,c=u),u=ph(t,c);var d=ph(t,a);u&&d&&(i.rangeCount!==1||i.anchorNode!==u.node||i.anchorOffset!==u.offset||i.focusNode!==d.node||i.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(u.node,u.offset),i.removeAllRanges(),c>a?(i.addRange(e),i.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var $v=nn&&"documentMode"in document&&11>=document.documentMode,Ki=null,yu=null,Fl=null,Eu=!1;function Eh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Eu||Ki==null||Ki!==ma(a)||(a=Ki,"selectionStart"in a&&vu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fl&&Kl(Fl,a)||(Fl=a,a=lr(yu,"onSelect"),0<a.length&&(t=new Ea("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Ki)))}function ci(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Fi={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},Su={},Sh={};nn&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function fi(e){if(Su[e])return Su[e];if(!Fi[e])return e;var t=Fi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Sh)return Su[e]=t[i];return e}var bh=fi("animationend"),Th=fi("animationiteration"),Ch=fi("animationstart"),ey=fi("transitionrun"),ty=fi("transitionstart"),ny=fi("transitioncancel"),Ah=fi("transitionend"),Rh=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function It(e,t){Rh.set(e,t),ui(t,[e])}var Ot=[],Zi=0,bu=0;function Ta(){for(var e=Zi,t=bu=Zi=0;t<e;){var i=Ot[t];Ot[t++]=null;var a=Ot[t];Ot[t++]=null;var u=Ot[t];Ot[t++]=null;var c=Ot[t];if(Ot[t++]=null,a!==null&&u!==null){var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}c!==0&&Oh(i,u,c)}}function Ca(e,t,i,a){Ot[Zi++]=e,Ot[Zi++]=t,Ot[Zi++]=i,Ot[Zi++]=a,bu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Tu(e,t,i,a){return Ca(e,t,i,a),Aa(e)}function xn(e,t){return Ca(e,null,null,t),Aa(e)}function Oh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var u=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;u&&t!==null&&e.tag===3&&(c=e.stateNode,u=31-vt(i),c=c.hiddenUpdates,e=c[u],e===null?c[u]=[t]:e.push(t),t.lane=i|536870912)}function Aa(e){if(50<ys)throw ys=0,Mo=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Wi={},Nh=new WeakMap;function Nt(e,t){if(typeof e=="object"&&e!==null){var i=Nh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Z(t)},Nh.set(e,t),t)}return{value:e,source:t,stack:Z(t)}}var Pi=[],Ji=0,Ra=null,Da=0,Mt=[],wt=0,hi=null,sn=1,an="";function di(e,t){Pi[Ji++]=Da,Pi[Ji++]=Ra,Ra=e,Da=t}function Mh(e,t,i){Mt[wt++]=sn,Mt[wt++]=an,Mt[wt++]=hi,hi=e;var a=sn;e=an;var u=32-vt(a)-1;a&=~(1<<u),i+=1;var c=32-vt(t)+u;if(30<c){var d=u-u%5;c=(a&(1<<d)-1).toString(32),a>>=d,u-=d,sn=1<<32-vt(t)+u|i<<u|a,an=c+e}else sn=1<<c|i<<u|a,an=e}function Cu(e){e.return!==null&&(di(e,1),Mh(e,1,0))}function Au(e){for(;e===Ra;)Ra=Pi[--Ji],Pi[Ji]=null,Da=Pi[--Ji],Pi[Ji]=null;for(;e===hi;)hi=Mt[--wt],Mt[wt]=null,an=Mt[--wt],Mt[wt]=null,sn=Mt[--wt],Mt[wt]=null}var lt=null,Ze=null,oe=!1,qt=null,Zt=!1,Ru=Error(r(519));function _i(e){var t=Error(r(418,""));throw Pl(Nt(t,e)),Ru}function wh(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[$e]=e,t[ut]=a,i){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(i=0;i<Ss.length;i++)se(Ss[i],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),Xf(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),_a(t);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),Ff(t,a.value,a.defaultValue,a.children),_a(t)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||k_(t.textContent,i)?(a.popover!=null&&(se("beforetoggle",t),se("toggle",t)),a.onScroll!=null&&se("scroll",t),a.onScrollEnd!=null&&se("scrollend",t),a.onClick!=null&&(t.onclick=sr),t=!0):t=!1,t||_i(e)}function xh(e){for(lt=e.return;lt;)switch(lt.tag){case 3:case 27:Zt=!0;return;case 5:case 13:Zt=!1;return;default:lt=lt.return}}function Zl(e){if(e!==lt)return!1;if(!oe)return xh(e),oe=!0,!1;var t=!1,i;if((i=e.tag!==3&&e.tag!==27)&&((i=e.tag===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ko(e.type,e.memoizedProps)),i=!i),i&&(t=!0),t&&Ze&&_i(e),xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Ze=Yt(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Ze=null}}else Ze=lt?Yt(e.stateNode.nextSibling):null;return!0}function Wl(){Ze=lt=null,oe=!1}function Pl(e){qt===null?qt=[e]:qt.push(e)}var Jl=Error(r(460)),zh=Error(r(474)),Du={then:function(){}};function Uh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Oa(){}function Hh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Oa,Oa),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Jl?Error(r(483)):e;default:if(typeof t.status=="string")t.then(Oa,Oa);else{if(e=Se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=a}},function(a){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Jl?Error(r(483)):e}throw $l=t,Jl}}var $l=null;function Lh(){if($l===null)throw Error(r(459));var e=$l;return $l=null,e}var $i=null,es=0;function Na(e){var t=es;return es+=1,$i===null&&($i=[]),Hh($i,e,t)}function ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ma(e,t){throw t.$$typeof===f?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bh(e){var t=e._init;return t(e._payload)}function Ih(e){function t(C,E){if(e){var A=C.deletions;A===null?(C.deletions=[E],C.flags|=16):A.push(E)}}function i(C,E){if(!e)return null;for(;E!==null;)t(C,E),E=E.sibling;return null}function a(C){for(var E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function u(C,E){return C=jn(C,E),C.index=0,C.sibling=null,C}function c(C,E,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<E?(C.flags|=33554434,E):A):(C.flags|=33554434,E)):(C.flags|=1048576,E)}function d(C){return e&&C.alternate===null&&(C.flags|=33554434),C}function m(C,E,A,M){return E===null||E.tag!==6?(E=bo(A,C.mode,M),E.return=C,E):(E=u(E,A),E.return=C,E)}function v(C,E,A,M){var I=A.type;return I===p?N(C,E,A.props.children,M,A.key):E!==null&&(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===de&&Bh(I)===E.type)?(E=u(E,A.props),ts(E,A),E.return=C,E):(E=Fa(A.type,A.key,A.props,null,C.mode,M),ts(E,A),E.return=C,E)}function S(C,E,A,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=To(A,C.mode,M),E.return=C,E):(E=u(E,A.children||[]),E.return=C,E)}function N(C,E,A,M,I){return E===null||E.tag!==7?(E=Ci(A,C.mode,M,I),E.return=C,E):(E=u(E,A),E.return=C,E)}function w(C,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=bo(""+E,C.mode,A),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case h:return A=Fa(E.type,E.key,E.props,null,C.mode,A),ts(A,E),A.return=C,A;case _:return E=To(E,C.mode,A),E.return=C,E;case de:var M=E._init;return E=M(E._payload),w(C,E,A)}if(G(E)||at(E))return E=Ci(E,C.mode,A,null),E.return=C,E;if(typeof E.then=="function")return w(C,Na(E),A);if(E.$$typeof===z)return w(C,Qa(C,E),A);Ma(C,E)}return null}function D(C,E,A,M){var I=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return I!==null?null:m(C,E,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case h:return A.key===I?v(C,E,A,M):null;case _:return A.key===I?S(C,E,A,M):null;case de:return I=A._init,A=I(A._payload),D(C,E,A,M)}if(G(A)||at(A))return I!==null?null:N(C,E,A,M,null);if(typeof A.then=="function")return D(C,E,Na(A),M);if(A.$$typeof===z)return D(C,E,Qa(C,A),M);Ma(C,A)}return null}function O(C,E,A,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return C=C.get(A)||null,m(E,C,""+M,I);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case h:return C=C.get(M.key===null?A:M.key)||null,v(E,C,M,I);case _:return C=C.get(M.key===null?A:M.key)||null,S(E,C,M,I);case de:var ee=M._init;return M=ee(M._payload),O(C,E,A,M,I)}if(G(M)||at(M))return C=C.get(A)||null,N(E,C,M,I,null);if(typeof M.then=="function")return O(C,E,A,Na(M),I);if(M.$$typeof===z)return O(C,E,A,Qa(E,M),I);Ma(E,M)}return null}function q(C,E,A,M){for(var I=null,ee=null,k=E,V=E=0,Qe=null;k!==null&&V<A.length;V++){k.index>V?(Qe=k,k=null):Qe=k.sibling;var ce=D(C,k,A[V],M);if(ce===null){k===null&&(k=Qe);break}e&&k&&ce.alternate===null&&t(C,k),E=c(ce,E,V),ee===null?I=ce:ee.sibling=ce,ee=ce,k=Qe}if(V===A.length)return i(C,k),oe&&di(C,V),I;if(k===null){for(;V<A.length;V++)k=w(C,A[V],M),k!==null&&(E=c(k,E,V),ee===null?I=k:ee.sibling=k,ee=k);return oe&&di(C,V),I}for(k=a(k);V<A.length;V++)Qe=O(k,C,V,A[V],M),Qe!==null&&(e&&Qe.alternate!==null&&k.delete(Qe.key===null?V:Qe.key),E=c(Qe,E,V),ee===null?I=Qe:ee.sibling=Qe,ee=Qe);return e&&k.forEach(function(Pn){return t(C,Pn)}),oe&&di(C,V),I}function F(C,E,A,M){if(A==null)throw Error(r(151));for(var I=null,ee=null,k=E,V=E=0,Qe=null,ce=A.next();k!==null&&!ce.done;V++,ce=A.next()){k.index>V?(Qe=k,k=null):Qe=k.sibling;var Pn=D(C,k,ce.value,M);if(Pn===null){k===null&&(k=Qe);break}e&&k&&Pn.alternate===null&&t(C,k),E=c(Pn,E,V),ee===null?I=Pn:ee.sibling=Pn,ee=Pn,k=Qe}if(ce.done)return i(C,k),oe&&di(C,V),I;if(k===null){for(;!ce.done;V++,ce=A.next())ce=w(C,ce.value,M),ce!==null&&(E=c(ce,E,V),ee===null?I=ce:ee.sibling=ce,ee=ce);return oe&&di(C,V),I}for(k=a(k);!ce.done;V++,ce=A.next())ce=O(k,C,V,ce.value,M),ce!==null&&(e&&ce.alternate!==null&&k.delete(ce.key===null?V:ce.key),E=c(ce,E,V),ee===null?I=ce:ee.sibling=ce,ee=ce);return e&&k.forEach(function(g0){return t(C,g0)}),oe&&di(C,V),I}function xe(C,E,A,M){if(typeof A=="object"&&A!==null&&A.type===p&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case h:e:{for(var I=A.key;E!==null;){if(E.key===I){if(I=A.type,I===p){if(E.tag===7){i(C,E.sibling),M=u(E,A.props.children),M.return=C,C=M;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===de&&Bh(I)===E.type){i(C,E.sibling),M=u(E,A.props),ts(M,A),M.return=C,C=M;break e}i(C,E);break}else t(C,E);E=E.sibling}A.type===p?(M=Ci(A.props.children,C.mode,M,A.key),M.return=C,C=M):(M=Fa(A.type,A.key,A.props,null,C.mode,M),ts(M,A),M.return=C,C=M)}return d(C);case _:e:{for(I=A.key;E!==null;){if(E.key===I)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){i(C,E.sibling),M=u(E,A.children||[]),M.return=C,C=M;break e}else{i(C,E);break}else t(C,E);E=E.sibling}M=To(A,C.mode,M),M.return=C,C=M}return d(C);case de:return I=A._init,A=I(A._payload),xe(C,E,A,M)}if(G(A))return q(C,E,A,M);if(at(A)){if(I=at(A),typeof I!="function")throw Error(r(150));return A=I.call(A),F(C,E,A,M)}if(typeof A.then=="function")return xe(C,E,Na(A),M);if(A.$$typeof===z)return xe(C,E,Qa(C,A),M);Ma(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(i(C,E.sibling),M=u(E,A),M.return=C,C=M):(i(C,E),M=bo(A,C.mode,M),M.return=C,C=M),d(C)):i(C,E)}return function(C,E,A,M){try{es=0;var I=xe(C,E,A,M);return $i=null,I}catch(k){if(k===Jl)throw k;var ee=Ht(29,k,null,C.mode);return ee.lanes=M,ee.return=C,ee}finally{}}}var mi=Ih(!0),qh=Ih(!1),el=_e(null),wa=_e(0);function kh(e,t){e=pn,Re(wa,e),Re(el,t),pn=e|t.baseLanes}function Ou(){Re(wa,pn),Re(el,el.current)}function Nu(){pn=wa.current,He(el),He(wa)}var xt=_e(null),Wt=null;function zn(e){var t=e.alternate;Re(qe,qe.current&1),Re(xt,e),Wt===null&&(t===null||el.current!==null||t.memoizedState!==null)&&(Wt=e)}function Yh(e){if(e.tag===22){if(Re(qe,qe.current),Re(xt,e),Wt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Wt=e)}}else Un()}function Un(){Re(qe,qe.current),Re(xt,xt.current)}function rn(e){He(xt),Wt===e&&(Wt=null),He(qe)}var qe=_e(0);function xa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},ly=s.unstable_scheduleCallback,sy=s.unstable_NormalPriority,ke={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new iy,data:new Map,refCount:0}}function ns(e){e.refCount--,e.refCount===0&&ly(sy,function(){e.controller.abort()})}var is=null,wu=0,tl=0,nl=null;function ay(e,t){if(is===null){var i=is=[];wu=0,tl=Io(),nl={status:"pending",value:void 0,then:function(a){i.push(a)}}}return wu++,t.then(Gh,Gh),t}function Gh(){if(--wu===0&&is!==null){nl!==null&&(nl.status="fulfilled");var e=is;is=null,tl=0,nl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ry(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(a.status="rejected",a.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),a}var Vh=j.S;j.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ay(e,t),Vh!==null&&Vh(e,t)};var gi=_e(null);function xu(){var e=gi.current;return e!==null?e:Se.pooledCache}function za(e,t){t===null?Re(gi,gi.current):Re(gi,t.pool)}function jh(){var e=xu();return e===null?null:{parent:ke._currentValue,pool:e}}var Hn=0,$=null,ge=null,Le=null,Ua=!1,il=!1,pi=!1,Ha=0,ls=0,ll=null,uy=0;function Ue(){throw Error(r(321))}function zu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!yt(e[i],t[i]))return!1;return!0}function Uu(e,t,i,a,u,c){return Hn=c,$=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?vi:Ln,pi=!1,c=i(a,u),pi=!1,il&&(c=Xh(t,i,a,u)),Qh(e),c}function Qh(e){j.H=Pt;var t=ge!==null&&ge.next!==null;if(Hn=0,Le=ge=$=null,Ua=!1,ls=0,ll=null,t)throw Error(r(300));e===null||Ve||(e=e.dependencies,e!==null&&ja(e)&&(Ve=!0))}function Xh(e,t,i,a){$=e;var u=0;do{if(il&&(ll=null),ls=0,il=!1,25<=u)throw Error(r(301));if(u+=1,Le=ge=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}j.H=yi,c=t(i,a)}while(il);return c}function oy(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?ss(t):t,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&($.flags|=1024),t}function Hu(){var e=Ha!==0;return Ha=0,e}function Lu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Bu(e){if(Ua){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ua=!1}Hn=0,Le=ge=$=null,il=!1,ls=Ha=0,ll=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?$.memoizedState=Le=e:Le=Le.next=e,Le}function Be(){if(ge===null){var e=$.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=Le===null?$.memoizedState:Le.next;if(t!==null)Le=t,ge=e;else{if(e===null)throw $.alternate===null?Error(r(467)):Error(r(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Le===null?$.memoizedState=Le=e:Le=Le.next=e}return Le}var La;La=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ss(e){var t=ls;return ls+=1,ll===null&&(ll=[]),e=Hh(ll,e,t),t=$,(Le===null?t.memoizedState:Le.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?vi:Ln),e}function Ba(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ss(e);if(e.$$typeof===z)return et(e)}throw Error(r(438,String(e)))}function Iu(e){var t=null,i=$.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=$.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=La(),$.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=gt;return t.index++,i}function un(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=Be();return qu(t,ge,e)}function qu(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var u=e.baseQueue,c=a.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}t.baseQueue=u=c,a.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var m=d=null,v=null,S=t,N=!1;do{var w=S.lane&-536870913;if(w!==S.lane?(ue&w)===w:(Hn&w)===w){var D=S.revertLane;if(D===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),w===tl&&(N=!0);else if((Hn&D)===D){S=S.next,D===tl&&(N=!0);continue}else w={lane:0,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},v===null?(m=v=w,d=c):v=v.next=w,$.lanes|=D,Qn|=D;w=S.action,pi&&i(c,w),c=S.hasEagerState?S.eagerState:i(c,w)}else D={lane:w,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},v===null?(m=v=D,d=c):v=v.next=D,$.lanes|=w,Qn|=w;S=S.next}while(S!==null&&S!==t);if(v===null?d=c:v.next=m,!yt(c,e.memoizedState)&&(Ve=!0,N&&(i=nl,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=v,a.lastRenderedState=c}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ku(e){var t=Be(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,c=t.memoizedState;if(u!==null){i.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);yt(c,t.memoizedState)||(Ve=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function Kh(e,t,i){var a=$,u=Be(),c=oe;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!yt((ge||u).memoizedState,i);if(d&&(u.memoizedState=i,Ve=!0),u=u.queue,Vu(Wh.bind(null,a,u,e),[e]),u.getSnapshot!==t||d||Le!==null&&Le.memoizedState.tag&1){if(a.flags|=2048,sl(9,Zh.bind(null,a,u,i,t),{destroy:void 0},null),Se===null)throw Error(r(349));c||Hn&60||Fh(a,t,i)}return i}function Fh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=$.updateQueue,t===null?(t=La(),$.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Zh(e,t,i,a){t.value=i,t.getSnapshot=a,Ph(t)&&Jh(e)}function Wh(e,t,i){return i(function(){Ph(t)&&Jh(e)})}function Ph(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!yt(e,i)}catch{return!0}}function Jh(e){var t=xn(e,2);t!==null&&st(t,e,2)}function Yu(e){var t=ct();if(typeof e=="function"){var i=e;if(e=i(),pi){Nn(!0);try{i()}finally{Nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:e},t}function $h(e,t,i,a){return e.baseState=i,qu(e,ge,typeof a=="function"?a:un)}function cy(e,t,i,a,u){if(Ya(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};j.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,ed(t,c)):(c.next=i.next,t.pending=i.next=c)}}function ed(e,t){var i=t.action,a=t.payload,u=e.state;if(t.isTransition){var c=j.T,d={};j.T=d;try{var m=i(u,a),v=j.S;v!==null&&v(d,m),td(e,t,m)}catch(S){Gu(e,t,S)}finally{j.T=c}}else try{c=i(u,a),td(e,t,c)}catch(S){Gu(e,t,S)}}function td(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){nd(e,t,a)},function(a){return Gu(e,t,a)}):nd(e,t,i)}function nd(e,t,i){t.status="fulfilled",t.value=i,id(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ed(e,i)))}function Gu(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,id(t),t=t.next;while(t!==a)}e.action=null}function id(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ld(e,t){return t}function sd(e,t){if(oe){var i=Se.formState;if(i!==null){e:{var a=$;if(oe){if(Ze){t:{for(var u=Ze,c=Zt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Yt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Ze=Yt(u.nextSibling),a=u.data==="F!";break e}}_i(a)}a=!1}a&&(t=i[0])}}return i=ct(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:t},i.queue=a,i=Td.bind(null,$,a),a.dispatch=i,a=Yu(!1),c=Fu.bind(null,$,!1,a.queue),a=ct(),u={state:t,dispatch:null,action:e,pending:null},a.queue=u,i=cy.bind(null,$,u,c,i),u.dispatch=i,a.memoizedState=e,[t,i,!1]}function ad(e){var t=Be();return rd(t,ge,e)}function rd(e,t,i){t=qu(e,t,ld)[0],e=Ia(un)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?ss(t):t;var a=Be(),u=a.queue,c=u.dispatch;return i!==a.memoizedState&&($.flags|=2048,sl(9,fy.bind(null,u,i),{destroy:void 0},null)),[t,c,e]}function fy(e,t){e.action=t}function ud(e){var t=Be(),i=ge;if(i!==null)return rd(t,i,e);Be(),t=t.memoizedState,i=Be();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function sl(e,t,i,a){return e={tag:e,create:t,inst:i,deps:a,next:null},t=$.updateQueue,t===null&&(t=La(),$.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function od(){return Be().memoizedState}function qa(e,t,i,a){var u=ct();$.flags|=e,u.memoizedState=sl(1|t,i,{destroy:void 0},a===void 0?null:a)}function ka(e,t,i,a){var u=Be();a=a===void 0?null:a;var c=u.memoizedState.inst;ge!==null&&a!==null&&zu(a,ge.memoizedState.deps)?u.memoizedState=sl(t,i,c,a):($.flags|=e,u.memoizedState=sl(1|t,i,c,a))}function cd(e,t){qa(8390656,8,e,t)}function Vu(e,t){ka(2048,8,e,t)}function fd(e,t){return ka(4,2,e,t)}function hd(e,t){return ka(4,4,e,t)}function dd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _d(e,t,i){i=i!=null?i.concat([e]):null,ka(4,4,dd.bind(null,t,e),i)}function ju(){}function md(e,t){var i=Be();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&zu(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function gd(e,t){var i=Be();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&zu(t,a[1]))return a[0];if(a=e(),pi){Nn(!0);try{e()}finally{Nn(!1)}}return i.memoizedState=[a,t],a}function Qu(e,t,i){return i===void 0||Hn&1073741824?e.memoizedState=t:(e.memoizedState=i,e=v_(),$.lanes|=e,Qn|=e,i)}function pd(e,t,i,a){return yt(i,t)?i:el.current!==null?(e=Qu(e,i,a),yt(e,t)||(Ve=!0),e):Hn&42?(e=v_(),$.lanes|=e,Qn|=e,t):(Ve=!0,e.memoizedState=i)}function vd(e,t,i,a,u){var c=B.p;B.p=c!==0&&8>c?c:8;var d=j.T,m={};j.T=m,Fu(e,!1,t,i);try{var v=u(),S=j.S;if(S!==null&&S(m,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var N=ry(v,a);as(e,t,N,Tt(e))}else as(e,t,a,Tt(e))}catch(w){as(e,t,{then:function(){},status:"rejected",reason:w},Tt())}finally{B.p=c,j.T=d}}function hy(){}function Xu(e,t,i,a){if(e.tag!==5)throw Error(r(476));var u=yd(e).queue;vd(e,u,t,re,i===null?hy:function(){return Ed(e),i(a)})}function yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:re},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ed(e){var t=yd(e).next.queue;as(e,t,{},Tt())}function Ku(){return et(Rs)}function Sd(){return Be().memoizedState}function bd(){return Be().memoizedState}function dy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Tt();e=qn(i);var a=kn(t,e,i);a!==null&&(st(a,t,i),os(a,t,i)),t={cache:Mu()},e.payload=t;return}t=t.return}}function _y(e,t,i){var a=Tt();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ya(e)?Cd(t,i):(i=Tu(e,t,i,a),i!==null&&(st(i,e,a),Ad(i,t,a)))}function Td(e,t,i){var a=Tt();as(e,t,i,a)}function as(e,t,i,a){var u={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Cd(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,m=c(d,i);if(u.hasEagerState=!0,u.eagerState=m,yt(m,d))return Ca(e,t,u,0),Se===null&&Ta(),!1}catch{}finally{}if(i=Tu(e,t,u,a),i!==null)return st(i,e,a),Ad(i,t,a),!0}return!1}function Fu(e,t,i,a){if(a={lane:2,revertLane:Io(),action:a,hasEagerState:!1,eagerState:null,next:null},Ya(e)){if(t)throw Error(r(479))}else t=Tu(e,i,a,2),t!==null&&st(t,e,2)}function Ya(e){var t=e.alternate;return e===$||t!==null&&t===$}function Cd(e,t){il=Ua=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ad(e,t,i){if(i&4194176){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Lf(e,i)}}var Pt={readContext:et,use:Ba,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue};Pt.useCacheRefresh=Ue,Pt.useMemoCache=Ue,Pt.useHostTransitionStatus=Ue,Pt.useFormState=Ue,Pt.useActionState=Ue,Pt.useOptimistic=Ue;var vi={readContext:et,use:Ba,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:cd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,qa(4194308,4,dd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return qa(4194308,4,e,t)},useInsertionEffect:function(e,t){qa(4,2,e,t)},useMemo:function(e,t){var i=ct();t=t===void 0?null:t;var a=e();if(pi){Nn(!0);try{e()}finally{Nn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=ct();if(i!==void 0){var u=i(t);if(pi){Nn(!0);try{i(t)}finally{Nn(!1)}}}else u=t;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=_y.bind(null,$,e),[a.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Yu(e);var t=e.queue,i=Td.bind(null,$,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ju,useDeferredValue:function(e,t){var i=ct();return Qu(i,e,t)},useTransition:function(){var e=Yu(!1);return e=vd.bind(null,$,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=$,u=ct();if(oe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Se===null)throw Error(r(349));ue&60||Fh(a,t,i)}u.memoizedState=i;var c={value:i,getSnapshot:t};return u.queue=c,cd(Wh.bind(null,a,c,e),[e]),a.flags|=2048,sl(9,Zh.bind(null,a,c,i,t),{destroy:void 0},null),i},useId:function(){var e=ct(),t=Se.identifierPrefix;if(oe){var i=an,a=sn;i=(a&~(1<<32-vt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Ha++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=uy++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ct().memoizedState=dy.bind(null,$)}};vi.useMemoCache=Iu,vi.useHostTransitionStatus=Ku,vi.useFormState=sd,vi.useActionState=sd,vi.useOptimistic=function(e){var t=ct();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Fu.bind(null,$,!0,i),i.dispatch=t,[e,t]};var Ln={readContext:et,use:Ba,useCallback:md,useContext:et,useEffect:Vu,useImperativeHandle:_d,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:gd,useReducer:Ia,useRef:od,useState:function(){return Ia(un)},useDebugValue:ju,useDeferredValue:function(e,t){var i=Be();return pd(i,ge.memoizedState,e,t)},useTransition:function(){var e=Ia(un)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:Kh,useId:Sd};Ln.useCacheRefresh=bd,Ln.useMemoCache=Iu,Ln.useHostTransitionStatus=Ku,Ln.useFormState=ad,Ln.useActionState=ad,Ln.useOptimistic=function(e,t){var i=Be();return $h(i,ge,e,t)};var yi={readContext:et,use:Ba,useCallback:md,useContext:et,useEffect:Vu,useImperativeHandle:_d,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:gd,useReducer:ku,useRef:od,useState:function(){return ku(un)},useDebugValue:ju,useDeferredValue:function(e,t){var i=Be();return ge===null?Qu(i,e,t):pd(i,ge.memoizedState,e,t)},useTransition:function(){var e=ku(un)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:Kh,useId:Sd};yi.useCacheRefresh=bd,yi.useMemoCache=Iu,yi.useHostTransitionStatus=Ku,yi.useFormState=ud,yi.useActionState=ud,yi.useOptimistic=function(e,t){var i=Be();return ge!==null?$h(i,ge,e,t):(i.baseState=e,[e,i.queue.dispatch])};function Zu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:fe({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Wu={isMounted:function(e){return(e=e._reactInternals)?X(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Tt(),u=qn(a);u.payload=t,i!=null&&(u.callback=i),t=kn(e,u,a),t!==null&&(st(t,e,a),os(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Tt(),u=qn(a);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=kn(e,u,a),t!==null&&(st(t,e,a),os(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Tt(),a=qn(i);a.tag=2,t!=null&&(a.callback=t),t=kn(e,a,i),t!==null&&(st(t,e,i),os(t,e,i))}};function Rd(e,t,i,a,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):t.prototype&&t.prototype.isPureReactComponent?!Kl(i,a)||!Kl(u,c):!0}function Dd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Wu.enqueueReplaceState(t,t.state,null)}function Ei(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=fe({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}var Ga=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Od(e){Ga(e)}function Nd(e){console.error(e)}function Md(e){Ga(e)}function Va(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function wd(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Pu(e,t,i){return i=qn(i),i.tag=3,i.payload={element:null},i.callback=function(){Va(e,t)},i}function xd(e){return e=qn(e),e.tag=3,e}function zd(e,t,i,a){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var c=a.value;e.payload=function(){return u(c)},e.callback=function(){wd(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){wd(t,i,a),typeof u!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function my(e,t,i,a,u){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&us(t,i,u,!0),i=xt.current,i!==null){switch(i.tag){case 13:return Wt===null?zo():i.alternate===null&&we===0&&(we=3),i.flags&=-257,i.flags|=65536,i.lanes=u,a===Du?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),Ho(e,a,u)),!1;case 22:return i.flags|=65536,a===Du?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),Ho(e,a,u)),!1}throw Error(r(435,i.tag))}return Ho(e,a,u),zo(),!1}if(oe)return t=xt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=u,a!==Ru&&(e=Error(r(422),{cause:a}),Pl(Nt(e,i)))):(a!==Ru&&(t=Error(r(423),{cause:a}),Pl(Nt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=Nt(a,i),u=Pu(e.stateNode,a,u),ho(e,u),we!==4&&(we=2)),!1;var c=Error(r(520),{cause:a});if(c=Nt(c,i),ps===null?ps=[c]:ps.push(c),we!==4&&(we=2),t===null)return!0;a=Nt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Pu(i.stateNode,a,e),ho(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Xn===null||!Xn.has(c))))return i.flags|=65536,u&=-u,i.lanes|=u,u=xd(u),zd(u,e,i,a),ho(i,u),!1}i=i.return}while(i!==null);return!1}var Ud=Error(r(461)),Ve=!1;function We(e,t,i,a){t.child=e===null?qh(t,null,i,a):mi(t,e.child,i,a)}function Hd(e,t,i,a,u){i=i.render;var c=t.ref;if("ref"in a){var d={};for(var m in a)m!=="ref"&&(d[m]=a[m])}else d=a;return bi(t),a=Uu(e,t,i,d,c,u),m=Hu(),e!==null&&!Ve?(Lu(e,t,u),on(e,t,u)):(oe&&m&&Cu(t),t.flags|=1,We(e,t,a,u),t.child)}function Ld(e,t,i,a,u){if(e===null){var c=i.type;return typeof c=="function"&&!So(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Bd(e,t,c,a,u)):(e=Fa(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!ao(e,u)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Kl,i(d,a)&&e.ref===t.ref)return on(e,t,u)}return t.flags|=1,e=jn(c,a),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,i,a,u){if(e!==null){var c=e.memoizedProps;if(Kl(c,a)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=a=c,ao(e,u))e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,on(e,t,u)}return Ju(e,t,i,a,u)}function Id(e,t,i){var a=t.pendingProps,u=a.children,c=(t.stateNode._pendingVisibility&2)!==0,d=e!==null?e.memoizedState:null;if(rs(e,t),a.mode==="hidden"||c){if(t.flags&128){if(a=d!==null?d.baseLanes|i:i,e!==null){for(u=t.child=e.child,c=0;u!==null;)c=c|u.lanes|u.childLanes,u=u.sibling;t.childLanes=c&~a}else t.childLanes=0,t.child=null;return qd(e,t,a,i)}if(i&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&za(t,d!==null?d.cachePool:null),d!==null?kh(t,d):Ou(),Yh(t);else return t.lanes=t.childLanes=536870912,qd(e,t,d!==null?d.baseLanes|i:i,i)}else d!==null?(za(t,d.cachePool),kh(t,d),Un(),t.memoizedState=null):(e!==null&&za(t,null),Ou(),Un());return We(e,t,u,i),t.child}function qd(e,t,i,a){var u=xu();return u=u===null?null:{parent:ke._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&za(t,null),Ou(),Yh(t),e!==null&&us(e,t,a,!0),null}function rs(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=2097664)}}function Ju(e,t,i,a,u){return bi(t),i=Uu(e,t,i,a,void 0,u),a=Hu(),e!==null&&!Ve?(Lu(e,t,u),on(e,t,u)):(oe&&a&&Cu(t),t.flags|=1,We(e,t,i,u),t.child)}function kd(e,t,i,a,u,c){return bi(t),t.updateQueue=null,i=Xh(t,a,i,u),Qh(e),a=Hu(),e!==null&&!Ve?(Lu(e,t,c),on(e,t,c)):(oe&&a&&Cu(t),t.flags|=1,We(e,t,i,c),t.child)}function Yd(e,t,i,a,u){if(bi(t),t.stateNode===null){var c=Wi,d=i.contextType;typeof d=="object"&&d!==null&&(c=et(d)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Wu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},co(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?et(d):Wi,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Zu(t,i,d,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Wu.enqueueReplaceState(c,c.state,null),fs(t,a,c,u),cs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var m=t.memoizedProps,v=Ei(i,m);c.props=v;var S=c.context,N=i.contextType;d=Wi,typeof N=="object"&&N!==null&&(d=et(N));var w=i.getDerivedStateFromProps;N=typeof w=="function"||typeof c.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,N||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m||S!==d)&&Dd(t,c,a,d),In=!1;var D=t.memoizedState;c.state=D,fs(t,a,c,u),cs(),S=t.memoizedState,m||D!==S||In?(typeof w=="function"&&(Zu(t,i,w,a),S=t.memoizedState),(v=In||Rd(t,i,v,a,D,S,d))?(N||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),c.props=a,c.state=S,c.context=d,a=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,fo(e,t),d=t.memoizedProps,N=Ei(i,d),c.props=N,w=t.pendingProps,D=c.context,S=i.contextType,v=Wi,typeof S=="object"&&S!==null&&(v=et(S)),m=i.getDerivedStateFromProps,(S=typeof m=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==w||D!==v)&&Dd(t,c,a,v),In=!1,D=t.memoizedState,c.state=D,fs(t,a,c,u),cs();var O=t.memoizedState;d!==w||D!==O||In||e!==null&&e.dependencies!==null&&ja(e.dependencies)?(typeof m=="function"&&(Zu(t,i,m,a),O=t.memoizedState),(N=In||Rd(t,i,N,a,D,O,v)||e!==null&&e.dependencies!==null&&ja(e.dependencies))?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,O,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,O,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=O),c.props=a,c.state=O,c.context=v,a=N):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,rs(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=mi(t,e.child,null,u),t.child=mi(t,null,i,u)):We(e,t,i,u),t.memoizedState=c.state,e=t.child):e=on(e,t,u),e}function Gd(e,t,i,a){return Wl(),t.flags|=256,We(e,t,i,a),t.child}var $u={dehydrated:null,treeContext:null,retryLane:0};function eo(e){return{baseLanes:e,cachePool:jh()}}function to(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Lt),e}function Vd(e,t,i){var a=t.pendingProps,u=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(oe){if(u?zn(t):Un(),oe){var m=Ze,v;if(v=m){e:{for(v=m,m=Zt;v.nodeType!==8;){if(!m){m=null;break e}if(v=Yt(v.nextSibling),v===null){m=null;break e}}m=v}m!==null?(t.memoizedState={dehydrated:m,treeContext:hi!==null?{id:sn,overflow:an}:null,retryLane:536870912},v=Ht(18,null,null,0),v.stateNode=m,v.return=t,t.child=v,lt=t,Ze=null,v=!0):v=!1}v||_i(t)}if(m=t.memoizedState,m!==null&&(m=m.dehydrated,m!==null))return m.data==="$!"?t.lanes=16:t.lanes=536870912,null;rn(t)}return m=a.children,a=a.fallback,u?(Un(),u=t.mode,m=io({mode:"hidden",children:m},u),a=Ci(a,u,i,null),m.return=t,a.return=t,m.sibling=a,t.child=m,u=t.child,u.memoizedState=eo(i),u.childLanes=to(e,d,i),t.memoizedState=$u,a):(zn(t),no(t,m))}if(v=e.memoizedState,v!==null&&(m=v.dehydrated,m!==null)){if(c)t.flags&256?(zn(t),t.flags&=-257,t=lo(e,t,i)):t.memoizedState!==null?(Un(),t.child=e.child,t.flags|=128,t=null):(Un(),u=a.fallback,m=t.mode,a=io({mode:"visible",children:a.children},m),u=Ci(u,m,i,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,mi(t,e.child,null,i),a=t.child,a.memoizedState=eo(i),a.childLanes=to(e,d,i),t.memoizedState=$u,t=u);else if(zn(t),m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var S=d.dgst;d=S,a=Error(r(419)),a.stack="",a.digest=d,Pl({value:a,source:null,stack:null}),t=lo(e,t,i)}else if(Ve||us(e,t,i,!1),d=(i&e.childLanes)!==0,Ve||d){if(d=Se,d!==null){if(a=i&-i,a&42)a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(a=a&(d.suspendedLanes|i)?0:a,a!==0&&a!==v.retryLane)throw v.retryLane=a,xn(e,a),st(d,e,a),Ud}m.data==="$?"||zo(),t=lo(e,t,i)}else m.data==="$?"?(t.flags|=128,t.child=e.child,t=My.bind(null,e),m._reactRetry=t,t=null):(e=v.treeContext,Ze=Yt(m.nextSibling),lt=t,oe=!0,qt=null,Zt=!1,e!==null&&(Mt[wt++]=sn,Mt[wt++]=an,Mt[wt++]=hi,sn=e.id,an=e.overflow,hi=t),t=no(t,a.children),t.flags|=4096);return t}return u?(Un(),u=a.fallback,m=t.mode,v=e.child,S=v.sibling,a=jn(v,{mode:"hidden",children:a.children}),a.subtreeFlags=v.subtreeFlags&31457280,S!==null?u=jn(S,u):(u=Ci(u,m,i,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,a=u,u=t.child,m=e.child.memoizedState,m===null?m=eo(i):(v=m.cachePool,v!==null?(S=ke._currentValue,v=v.parent!==S?{parent:S,pool:S}:v):v=jh(),m={baseLanes:m.baseLanes|i,cachePool:v}),u.memoizedState=m,u.childLanes=to(e,d,i),t.memoizedState=$u,a):(zn(t),i=e.child,e=i.sibling,i=jn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function no(e,t){return t=io({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function io(e,t){return m_(e,t,0,null)}function lo(e,t,i){return mi(t,e.child,null,i),e=no(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jd(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),uo(e.return,t,i)}function so(e,t,i,a,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=u)}function Qd(e,t,i){var a=t.pendingProps,u=a.revealOrder,c=a.tail;if(We(e,t,a.children,i),a=qe.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,i,t);else if(e.tag===19)jd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(Re(qe,a),u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&xa(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),so(t,!1,u,i,c);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&xa(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}so(t,!0,i,null,c);break;case"together":so(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function on(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(i&t.childLanes))if(e!==null){if(us(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=jn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=jn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function ao(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ja(e)))}function gy(e,t,i){switch(t.tag){case 3:aa(t,t.stateNode.containerInfo),Bn(t,ke,e.memoizedState.cache),Wl();break;case 27:case 5:Wr(t);break;case 4:aa(t,t.stateNode.containerInfo);break;case 10:Bn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(zn(t),t.flags|=128,null):i&t.child.childLanes?Vd(e,t,i):(zn(t),e=on(e,t,i),e!==null?e.sibling:null);zn(t);break;case 19:var u=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(us(e,t,i,!1),a=(i&t.childLanes)!==0),u){if(a)return Qd(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Re(qe,qe.current),a)break;return null;case 22:case 23:return t.lanes=0,Id(e,t,i);case 24:Bn(t,ke,e.memoizedState.cache)}return on(e,t,i)}function Xd(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!ao(e,i)&&!(t.flags&128))return Ve=!1,gy(e,t,i);Ve=!!(e.flags&131072)}else Ve=!1,oe&&t.flags&1048576&&Mh(t,Da,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,u=a._init;if(a=u(a._payload),t.type=a,typeof a=="function")So(a)?(e=Ei(a,e),t.tag=1,t=Yd(null,t,a,e,i)):(t.tag=0,t=Ju(null,t,a,e,i));else{if(a!=null){if(u=a.$$typeof,u===H){t.tag=11,t=Hd(null,t,a,e,i);break e}else if(u===me){t.tag=14,t=Ld(null,t,a,e,i);break e}}throw t=Dn(a)||a,Error(r(306,t,""))}}return t;case 0:return Ju(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,u=Ei(a,t.pendingProps),Yd(e,t,a,u,i);case 3:e:{if(aa(t,t.stateNode.containerInfo),e===null)throw Error(r(387));var c=t.pendingProps;u=t.memoizedState,a=u.element,fo(e,t),fs(t,c,null,i);var d=t.memoizedState;if(c=d.cache,Bn(t,ke,c),c!==u.cache&&oo(t,[ke],i,!0),cs(),c=d.element,u.isDehydrated)if(u={element:c,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Gd(e,t,c,i);break e}else if(c!==a){a=Nt(Error(r(424)),t),Pl(a),t=Gd(e,t,c,i);break e}else for(Ze=Yt(t.stateNode.containerInfo.firstChild),lt=t,oe=!0,qt=null,Zt=!0,i=qh(t,null,c,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Wl(),c===a){t=on(e,t,i);break e}We(e,t,c,i)}t=t.child}return t;case 26:return rs(e,t),e===null?(i=Z_(t.type,null,t.pendingProps,null))?t.memoizedState=i:oe||(i=t.type,e=t.pendingProps,a=ar(On.current).createElement(i),a[$e]=t,a[ut]=e,Pe(a,i,e),Ge(a),t.stateNode=a):t.memoizedState=Z_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wr(t),e===null&&oe&&(a=t.stateNode=X_(t.type,t.pendingProps,On.current),lt=t,Zt=!0,Ze=Yt(a.firstChild)),a=t.pendingProps.children,e!==null||oe?We(e,t,a,i):t.child=mi(t,null,a,i),rs(e,t),t.child;case 5:return e===null&&oe&&((u=a=Ze)&&(a=Xy(a,t.type,t.pendingProps,Zt),a!==null?(t.stateNode=a,lt=t,Ze=Yt(a.firstChild),Zt=!1,u=!0):u=!1),u||_i(t)),Wr(t),u=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,a=c.children,Ko(u,c)?a=null:d!==null&&Ko(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=Uu(e,t,oy,null,null,i),Rs._currentValue=u),rs(e,t),We(e,t,a,i),t.child;case 6:return e===null&&oe&&((e=i=Ze)&&(i=Ky(i,t.pendingProps,Zt),i!==null?(t.stateNode=i,lt=t,Ze=null,e=!0):e=!1),e||_i(t)),null;case 13:return Vd(e,t,i);case 4:return aa(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=mi(t,null,a,i):We(e,t,a,i),t.child;case 11:return Hd(e,t,t.type,t.pendingProps,i);case 7:return We(e,t,t.pendingProps,i),t.child;case 8:return We(e,t,t.pendingProps.children,i),t.child;case 12:return We(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,Bn(t,t.type,a.value),We(e,t,a.children,i),t.child;case 9:return u=t.type._context,a=t.pendingProps.children,bi(t),u=et(u),a=a(u),t.flags|=1,We(e,t,a,i),t.child;case 14:return Ld(e,t,t.type,t.pendingProps,i);case 15:return Bd(e,t,t.type,t.pendingProps,i);case 19:return Qd(e,t,i);case 22:return Id(e,t,i);case 24:return bi(t),a=et(ke),e===null?(u=xu(),u===null&&(u=Se,c=Mu(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=i),u=c),t.memoizedState={parent:a,cache:u},co(t),Bn(t,ke,u)):(e.lanes&i&&(fo(e,t),fs(t,null,null,i),cs()),u=e.memoizedState,c=t.memoizedState,u.parent!==a?(u={parent:a,cache:a},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Bn(t,ke,a)):(a=c.cache,Bn(t,ke,a),a!==u.cache&&oo(t,[ke],i,!0))),We(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}var ro=_e(null),Si=null,cn=null;function Bn(e,t,i){Re(ro,t._currentValue),t._currentValue=i}function fn(e){e._currentValue=ro.current,He(ro)}function uo(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function oo(e,t,i,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var m=c;c=u;for(var v=0;v<t.length;v++)if(m.context===t[v]){c.lanes|=i,m=c.alternate,m!==null&&(m.lanes|=i),uo(c.return,i,e),a||(d=null);break e}c=m.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),uo(d,i,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function us(e,t,i,a){e=null;for(var u=t,c=!1;u!==null;){if(!c){if(u.flags&524288)c=!0;else if(u.flags&262144)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var m=u.type;yt(u.pendingProps.value,d.value)||(e!==null?e.push(m):e=[m])}}else if(u===sa.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Rs):e=[Rs])}u=u.return}e!==null&&oo(t,e,i,a),t.flags|=262144}function ja(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bi(e){Si=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return Kd(Si,e)}function Qa(e,t){return Si===null&&bi(e),Kd(e,t)}function Kd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},cn===null){if(e===null)throw Error(r(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return i}var In=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ne&2){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,t=Aa(e),Oh(e,null,i),t}return Ca(e,a,t,i),Aa(e)}function os(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194176)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Lf(e,i)}}function ho(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?u=c=t:c=c.next=t}else u=c=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var _o=!1;function cs(){if(_o){var e=nl;if(e!==null)throw e}}function fs(e,t,i,a){_o=!1;var u=e.updateQueue;In=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var v=m,S=v.next;v.next=null,d===null?c=S:d.next=S,d=v;var N=e.alternate;N!==null&&(N=N.updateQueue,m=N.lastBaseUpdate,m!==d&&(m===null?N.firstBaseUpdate=S:m.next=S,N.lastBaseUpdate=v))}if(c!==null){var w=u.baseState;d=0,N=S=v=null,m=c;do{var D=m.lane&-536870913,O=D!==m.lane;if(O?(ue&D)===D:(a&D)===D){D!==0&&D===tl&&(_o=!0),N!==null&&(N=N.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var q=e,F=m;D=t;var xe=i;switch(F.tag){case 1:if(q=F.payload,typeof q=="function"){w=q.call(xe,w,D);break e}w=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=F.payload,D=typeof q=="function"?q.call(xe,w,D):q,D==null)break e;w=fe({},w,D);break e;case 2:In=!0}}D=m.callback,D!==null&&(e.flags|=64,O&&(e.flags|=8192),O=u.callbacks,O===null?u.callbacks=[D]:O.push(D))}else O={lane:D,tag:m.tag,payload:m.payload,callback:m.callback,next:null},N===null?(S=N=O,v=w):N=N.next=O,d|=D;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;O=m,m=O.next,O.next=null,u.lastBaseUpdate=O,u.shared.pending=null}}while(!0);N===null&&(v=w),u.baseState=v,u.firstBaseUpdate=S,u.lastBaseUpdate=N,c===null&&(u.shared.lanes=0),Qn|=d,e.lanes=d,e.memoizedState=w}}function Fd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Zd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Fd(i[e],t)}function hs(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var u=a.next;i=u;do{if((i.tag&e)===e){a=void 0;var c=i.create,d=i.inst;a=c(),d.destroy=a}i=i.next}while(i!==u)}}catch(m){ve(t,t.return,m)}}function Yn(e,t,i){try{var a=t.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var c=u.next;a=c;do{if((a.tag&e)===e){var d=a.inst,m=d.destroy;if(m!==void 0){d.destroy=void 0,u=t;var v=i;try{m()}catch(S){ve(u,v,S)}}}a=a.next}while(a!==c)}}catch(S){ve(t,t.return,S)}}function Wd(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Zd(t,i)}catch(a){ve(e,e.return,a)}}}function Pd(e,t,i){i.props=Ei(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){ve(e,t,a)}}function Ti(e,t){try{var i=e.ref;if(i!==null){var a=e.stateNode;switch(e.tag){case 26:case 27:case 5:var u=a;break;default:u=a}typeof i=="function"?e.refCleanup=i(u):i.current=u}}catch(c){ve(e,t,c)}}function Et(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(u){ve(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){ve(e,t,u)}else i.current=null}function Jd(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(u){ve(e,e.return,u)}}function $d(e,t,i){try{var a=e.stateNode;Yy(a,e.type,i,t),a[ut]=t}catch(u){ve(e,e.return,u)}}function e_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function mo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||e_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function go(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=sr));else if(a!==4&&a!==27&&(e=e.child,e!==null))for(go(e,t,i),e=e.sibling;e!==null;)go(e,t,i),e=e.sibling}function Xa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&a!==27&&(e=e.child,e!==null))for(Xa(e,t,i),e=e.sibling;e!==null;)Xa(e,t,i),e=e.sibling}var hn=!1,Me=!1,po=!1,t_=typeof WeakSet=="function"?WeakSet:Set,je=null,n_=!1;function py(e,t){if(e=e.containerInfo,Qo=hr,e=yh(e),vu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,m=-1,v=-1,S=0,N=0,w=e,D=null;t:for(;;){for(var O;w!==i||u!==0&&w.nodeType!==3||(m=d+u),w!==c||a!==0&&w.nodeType!==3||(v=d+a),w.nodeType===3&&(d+=w.nodeValue.length),(O=w.firstChild)!==null;)D=w,w=O;for(;;){if(w===e)break t;if(D===i&&++S===u&&(m=d),D===c&&++N===a&&(v=d),(O=w.nextSibling)!==null)break;w=D,D=w.parentNode}w=O}i=m===-1||v===-1?null:{start:m,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xo={focusedElem:e,selectionRange:i},hr=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){switch(t=je,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&c!==null){e=void 0,i=t,u=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var q=Ei(i.type,u,i.elementType===i.type);e=a.getSnapshotBeforeUpdate(q,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(F){ve(i,i.return,F)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Wo(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return q=n_,n_=!1,q}function i_(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:_n(e,i),a&4&&hs(5,i);break;case 1:if(_n(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){ve(i,i.return,m)}else{var u=Ei(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){ve(i,i.return,m)}}a&64&&Wd(i),a&512&&Ti(i,i.return);break;case 3:if(_n(e,i),a&64&&(a=i.updateQueue,a!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Zd(a,e)}catch(m){ve(i,i.return,m)}}break;case 26:_n(e,i),a&512&&Ti(i,i.return);break;case 27:case 5:_n(e,i),t===null&&a&4&&Jd(i),a&512&&Ti(i,i.return);break;case 12:_n(e,i);break;case 13:_n(e,i),a&4&&a_(e,i);break;case 22:if(u=i.memoizedState!==null||hn,!u){t=t!==null&&t.memoizedState!==null||Me;var c=hn,d=Me;hn=u,(Me=t)&&!d?Gn(e,i,(i.subtreeFlags&8772)!==0):_n(e,i),hn=c,Me=d}a&512&&(i.memoizedProps.mode==="manual"?Ti(i,i.return):Et(i,i.return));break;default:_n(e,i)}}function l_(e){var t=e.alternate;t!==null&&(e.alternate=null,l_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&nu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,St=!1;function dn(e,t,i){for(i=i.child;i!==null;)s_(e,t,i),i=i.sibling}function s_(e,t,i){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Hl,i)}catch{}switch(i.tag){case 26:Me||Et(i,t),dn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Me||Et(i,t);var a=Ie,u=St;for(Ie=i.stateNode,dn(e,t,i),i=i.stateNode,t=i.attributes;t.length;)i.removeAttributeNode(t[0]);nu(i),Ie=a,St=u;break;case 5:Me||Et(i,t);case 6:u=Ie;var c=St;if(Ie=null,dn(e,t,i),Ie=u,St=c,Ie!==null)if(St)try{e=Ie,a=i.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)}catch(d){ve(i,t,d)}else try{Ie.removeChild(i.stateNode)}catch(d){ve(i,t,d)}break;case 18:Ie!==null&&(St?(t=Ie,i=i.stateNode,t.nodeType===8?Zo(t.parentNode,i):t.nodeType===1&&Zo(t,i),Ms(t)):Zo(Ie,i.stateNode));break;case 4:a=Ie,u=St,Ie=i.stateNode.containerInfo,St=!0,dn(e,t,i),Ie=a,St=u;break;case 0:case 11:case 14:case 15:Me||Yn(2,i,t),Me||Yn(4,i,t),dn(e,t,i);break;case 1:Me||(Et(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&Pd(i,t,a)),dn(e,t,i);break;case 21:dn(e,t,i);break;case 22:Me||Et(i,t),Me=(a=Me)||i.memoizedState!==null,dn(e,t,i),Me=a;break;default:dn(e,t,i)}}function a_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ms(e)}catch(i){ve(t,t.return,i)}}function vy(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new t_),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new t_),t;default:throw Error(r(435,e.tag))}}function vo(e,t){var i=vy(e);t.forEach(function(a){var u=wy.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}function zt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a],c=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 27:case 5:Ie=m.stateNode,St=!1;break e;case 3:Ie=m.stateNode.containerInfo,St=!0;break e;case 4:Ie=m.stateNode.containerInfo,St=!0;break e}m=m.return}if(Ie===null)throw Error(r(160));s_(c,d,u),Ie=null,St=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)r_(t,e),t=t.sibling}var kt=null;function r_(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Ut(e),a&4&&(Yn(3,e,e.return),hs(3,e),Yn(5,e,e.return));break;case 1:zt(t,e),Ut(e),a&512&&(Me||i===null||Et(i,i.return)),a&64&&hn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var u=kt;if(zt(t,e),Ut(e),a&512&&(Me||i===null||Et(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":c=u.getElementsByTagName("title")[0],(!c||c[Il]||c[$e]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(a),u.head.insertBefore(c,u.querySelector("head > title"))),Pe(c,a,i),c[$e]=e,Ge(c),a=c;break e;case"link":var d=J_("link","href",u).get(a+(i.href||""));if(d){for(var m=0;m<d.length;m++)if(c=d[m],c.getAttribute("href")===(i.href==null?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(m,1);break t}}c=u.createElement(a),Pe(c,a,i),u.head.appendChild(c);break;case"meta":if(d=J_("meta","content",u).get(a+(i.content||""))){for(m=0;m<d.length;m++)if(c=d[m],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(m,1);break t}}c=u.createElement(a),Pe(c,a,i),u.head.appendChild(c);break;default:throw Error(r(468,a))}c[$e]=e,Ge(c),a=c}e.stateNode=a}else $_(u,e.type,e.stateNode);else e.stateNode=P_(u,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?$_(u,e.type,e.stateNode):P_(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&$d(e,e.memoizedProps,i.memoizedProps)}break;case 27:if(a&4&&e.alternate===null){u=e.stateNode,c=e.memoizedProps;try{for(var v=u.firstChild;v;){var S=v.nextSibling,N=v.nodeName;v[Il]||N==="HEAD"||N==="BODY"||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||u.removeChild(v),v=S}for(var w=e.type,D=u.attributes;D.length;)u.removeAttributeNode(D[0]);Pe(u,w,c),u[$e]=e,u[ut]=c}catch(q){ve(e,e.return,q)}}case 5:if(zt(t,e),Ut(e),a&512&&(Me||i===null||Et(i,i.return)),e.flags&32){u=e.stateNode;try{Vi(u,"")}catch(q){ve(e,e.return,q)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,$d(e,u,i!==null?i.memoizedProps:u)),a&1024&&(po=!0);break;case 6:if(zt(t,e),Ut(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(q){ve(e,e.return,q)}}break;case 3:if(or=null,u=kt,kt=rr(t.containerInfo),zt(t,e),kt=u,Ut(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ms(t.containerInfo)}catch(q){ve(e,e.return,q)}po&&(po=!1,u_(e));break;case 4:a=kt,kt=rr(e.stateNode.containerInfo),zt(t,e),Ut(e),kt=a;break;case 12:zt(t,e),Ut(e);break;case 13:zt(t,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Do=Ft()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,vo(e,a)));break;case 22:if(a&512&&(Me||i===null||Et(i,i.return)),v=e.memoizedState!==null,S=i!==null&&i.memoizedState!==null,N=hn,w=Me,hn=N||v,Me=w||S,zt(t,e),Me=w,hn=N,Ut(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,a&8192&&(t._visibility=v?t._visibility&-2:t._visibility|1,v&&(t=hn||Me,i===null||S||t||al(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(i=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(i===null){S=i=t;try{if(u=S.stateNode,v)c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{d=S.stateNode,m=S.memoizedProps.style;var O=m!=null&&m.hasOwnProperty("display")?m.display:null;d.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(q){ve(S,S.return,q)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=v?"":S.memoizedProps}catch(q){ve(S,S.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,vo(e,i))));break;case 19:zt(t,e),Ut(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,vo(e,a)));break;case 21:break;default:zt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var i=e.return;i!==null;){if(e_(i)){var a=i;break e}i=i.return}throw Error(r(160))}switch(a.tag){case 27:var u=a.stateNode,c=mo(e);Xa(e,c,u);break;case 5:var d=a.stateNode;a.flags&32&&(Vi(d,""),a.flags&=-33);var m=mo(e);Xa(e,m,d);break;case 3:case 4:var v=a.stateNode.containerInfo,S=mo(e);go(e,S,v);break;default:throw Error(r(161))}}}catch(N){ve(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;u_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _n(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)i_(e,t.alternate,t),t=t.sibling}function al(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yn(4,t,t.return),al(t);break;case 1:Et(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Pd(t,t.return,i),al(t);break;case 26:case 27:case 5:Et(t,t.return),al(t);break;case 22:Et(t,t.return),t.memoizedState===null&&al(t);break;default:al(t)}e=e.sibling}}function Gn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,u=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Gn(u,c,i),hs(4,c);break;case 1:if(Gn(u,c,i),a=c,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(S){ve(a,a.return,S)}if(a=c,u=a.updateQueue,u!==null){var m=a.stateNode;try{var v=u.shared.hiddenCallbacks;if(v!==null)for(u.shared.hiddenCallbacks=null,u=0;u<v.length;u++)Fd(v[u],m)}catch(S){ve(a,a.return,S)}}i&&d&64&&Wd(c),Ti(c,c.return);break;case 26:case 27:case 5:Gn(u,c,i),i&&a===null&&d&4&&Jd(c),Ti(c,c.return);break;case 12:Gn(u,c,i);break;case 13:Gn(u,c,i),i&&d&4&&a_(u,c);break;case 22:c.memoizedState===null&&Gn(u,c,i),Ti(c,c.return);break;default:Gn(u,c,i)}t=t.sibling}}function yo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ns(i))}function Eo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ns(e))}function Vn(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)o_(e,t,i,a),t=t.sibling}function o_(e,t,i,a){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Vn(e,t,i,a),u&2048&&hs(9,t);break;case 3:Vn(e,t,i,a),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ns(e)));break;case 12:if(u&2048){Vn(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,m=c.onPostCommit;typeof m=="function"&&m(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){ve(t,t.return,v)}}else Vn(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,t.memoizedState!==null?c._visibility&4?Vn(e,t,i,a):ds(e,t):c._visibility&4?Vn(e,t,i,a):(c._visibility|=4,rl(e,t,i,a,(t.subtreeFlags&10256)!==0)),u&2048&&yo(t.alternate,t);break;case 24:Vn(e,t,i,a),u&2048&&Eo(t.alternate,t);break;default:Vn(e,t,i,a)}}function rl(e,t,i,a,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,m=i,v=a,S=d.flags;switch(d.tag){case 0:case 11:case 15:rl(c,d,m,v,u),hs(8,d);break;case 23:break;case 22:var N=d.stateNode;d.memoizedState!==null?N._visibility&4?rl(c,d,m,v,u):ds(c,d):(N._visibility|=4,rl(c,d,m,v,u)),u&&S&2048&&yo(d.alternate,d);break;case 24:rl(c,d,m,v,u),u&&S&2048&&Eo(d.alternate,d);break;default:rl(c,d,m,v,u)}t=t.sibling}}function ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,u=a.flags;switch(a.tag){case 22:ds(i,a),u&2048&&yo(a.alternate,a);break;case 24:ds(i,a),u&2048&&Eo(a.alternate,a);break;default:ds(i,a)}t=t.sibling}}var _s=8192;function ul(e){if(e.subtreeFlags&_s)for(e=e.child;e!==null;)c_(e),e=e.sibling}function c_(e){switch(e.tag){case 26:ul(e),e.flags&_s&&e.memoizedState!==null&&a0(kt,e.memoizedState,e.memoizedProps);break;case 5:ul(e);break;case 3:case 4:var t=kt;kt=rr(e.stateNode.containerInfo),ul(e),kt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=_s,_s=16777216,ul(e),_s=t):ul(e));break;default:ul(e)}}function f_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ms(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];je=a,d_(a,e)}f_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)h_(e),e=e.sibling}function h_(e){switch(e.tag){case 0:case 11:case 15:ms(e),e.flags&2048&&Yn(9,e,e.return);break;case 3:ms(e);break;case 12:ms(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Ka(e)):ms(e);break;default:ms(e)}}function Ka(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];je=a,d_(a,e)}f_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yn(8,t,t.return),Ka(t);break;case 22:i=t.stateNode,i._visibility&4&&(i._visibility&=-5,Ka(t));break;default:Ka(t)}e=e.sibling}}function d_(e,t){for(;je!==null;){var i=je;switch(i.tag){case 0:case 11:case 15:Yn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ns(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,je=a;else e:for(i=e;je!==null;){a=je;var u=a.sibling,c=a.return;if(l_(a),a===i){je=null;break e}if(u!==null){u.return=c,je=u;break e}je=c}}}function yy(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,i,a){return new yy(e,t,i,a)}function So(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jn(e,t){var i=e.alternate;return i===null?(i=Ht(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&31457280,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function __(e,t){e.flags&=31457282;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fa(e,t,i,a,u,c){var d=0;if(a=e,typeof e=="function")So(e)&&(d=1);else if(typeof e=="string")d=l0(e,i,Kt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case p:return Ci(i.children,u,c,t);case g:d=8,u|=24;break;case T:return e=Ht(12,i,t,u|2),e.elementType=T,e.lanes=c,e;case Y:return e=Ht(13,i,t,u),e.elementType=Y,e.lanes=c,e;case W:return e=Ht(19,i,t,u),e.elementType=W,e.lanes=c,e;case De:return m_(i,u,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case z:d=10;break e;case R:d=9;break e;case H:d=11;break e;case me:d=14;break e;case de:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Ht(d,i,t,u),t.elementType=e,t.type=a,t.lanes=c,t}function Ci(e,t,i,a){return e=Ht(7,e,a,t),e.lanes=i,e}function m_(e,t,i,a){e=Ht(22,e,a,t),e.elementType=De,e.lanes=i;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var c=u._current;if(c===null)throw Error(r(456));if(!(u._pendingVisibility&2)){var d=xn(c,2);d!==null&&(u._pendingVisibility|=2,st(d,c,2))}},attach:function(){var c=u._current;if(c===null)throw Error(r(456));if(u._pendingVisibility&2){var d=xn(c,2);d!==null&&(u._pendingVisibility&=-3,st(d,c,2))}}};return e.stateNode=u,e}function bo(e,t,i){return e=Ht(6,e,null,t),e.lanes=i,e}function To(e,t,i){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mn(e){e.flags|=4}function g_(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!em(t)){if(t=xt.current,t!==null&&((ue&4194176)===ue?Wt!==null:(ue&62914560)!==ue&&!(ue&536870912)||t!==Wt))throw $l=Du,zh;e.flags|=8192}}function Za(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Uf():536870912,e.lanes|=t,cl|=t)}function gs(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&31457280,a|=u.flags&31457280,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Ey(e,t,i){var a=t.pendingProps;switch(Au(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fn(ke),Bi(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(wo(qt),qt=null))),Oe(t),null;case 26:return i=t.memoizedState,e===null?(mn(t),i!==null?(Oe(t),g_(t,i)):(Oe(t),t.flags&=-16777217)):i?i!==e.memoizedState?(mn(t),Oe(t),g_(t,i)):(Oe(t),t.flags&=-16777217):(e.memoizedProps!==a&&mn(t),Oe(t),t.flags&=-16777217),null;case 27:ra(t),i=On.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Oe(t),null}e=Kt.current,Zl(t)?wh(t):(e=X_(u,a,i),t.stateNode=e,mn(t))}return Oe(t),null;case 5:if(ra(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Oe(t),null}if(e=Kt.current,Zl(t))wh(t);else{switch(u=ar(On.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?u.createElement(i,{is:a.is}):u.createElement(i)}}e[$e]=t,e[ut]=a;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(Pe(e,i,a),i){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&mn(t)}}return Oe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=On.current,Zl(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,u=lt,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[$e]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||k_(e.nodeValue,i)),e||_i(t)}else e=ar(e).createTextNode(a),e[$e]=t,t.stateNode=e}return Oe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Zl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[$e]=t}else Wl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),u=!1}else qt!==null&&(wo(qt),qt=null),u=!0;if(!u)return t.flags&256?(rn(t),t):(rn(t),null)}if(rn(t),t.flags&128)return t.lanes=i,t;if(i=a!==null,e=e!==null&&e.memoizedState!==null,i){a=t.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool);var c=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==u&&(a.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Za(t,t.updateQueue),Oe(t),null;case 4:return Bi(),e===null&&Go(t.stateNode.containerInfo),Oe(t),null;case 10:return fn(t.type),Oe(t),null;case 19:if(He(qe),u=t.memoizedState,u===null)return Oe(t),null;if(a=(t.flags&128)!==0,c=u.rendering,c===null)if(a)gs(u,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=xa(e),c!==null){for(t.flags|=128,gs(u,!1),e=c.updateQueue,t.updateQueue=e,Za(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)__(i,e),i=i.sibling;return Re(qe,qe.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ft()>Wa&&(t.flags|=128,a=!0,gs(u,!1),t.lanes=4194304)}else{if(!a)if(e=xa(c),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Za(t,e),gs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!c.alternate&&!oe)return Oe(t),null}else 2*Ft()-u.renderingStartTime>Wa&&i!==536870912&&(t.flags|=128,a=!0,gs(u,!1),t.lanes=4194304);u.isBackwards?(c.sibling=t.child,t.child=c):(e=u.last,e!==null?e.sibling=c:t.child=c,u.last=c)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ft(),t.sibling=null,e=qe.current,Re(qe,a?e&1|2:e&1),t):(Oe(t),null);case 22:case 23:return rn(t),Nu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?i&536870912&&!(t.flags&128)&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),i=t.updateQueue,i!==null&&Za(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&He(gi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),fn(ke),Oe(t),null;case 25:return null}throw Error(r(156,t.tag))}function Sy(e,t){switch(Au(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(ke),Bi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ra(t),null;case 13:if(rn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(qe),null;case 4:return Bi(),null;case 10:return fn(t.type),null;case 22:case 23:return rn(t),Nu(),e!==null&&He(gi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fn(ke),null;case 25:return null;default:return null}}function p_(e,t){switch(Au(t),t.tag){case 3:fn(ke),Bi();break;case 26:case 27:case 5:ra(t);break;case 4:Bi();break;case 13:rn(t);break;case 19:He(qe);break;case 10:fn(t.type);break;case 22:case 23:rn(t),Nu(),e!==null&&He(gi);break;case 24:fn(ke)}}var by={getCacheForType:function(e){var t=et(ke),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},Ty=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Se=null,ie=null,ue=0,be=0,bt=null,gn=!1,ol=!1,Co=!1,pn=0,we=0,Qn=0,Ai=0,Ao=0,Lt=0,cl=0,ps=null,Jt=null,Ro=!1,Do=0,Wa=1/0,Pa=null,Xn=null,Ja=!1,Ri=null,vs=0,Oo=0,No=null,ys=0,Mo=null;function Tt(){if(Ne&2&&ue!==0)return ue&-ue;if(j.T!==null){var e=tl;return e!==0?e:Io()}return If()}function v_(){Lt===0&&(Lt=!(ue&536870912)||oe?zf():536870912);var e=xt.current;return e!==null&&(e.flags|=32),Lt}function st(e,t,i){(e===Se&&be===2||e.cancelPendingCommit!==null)&&(fl(e,0),vn(e,ue,Lt,!1)),Bl(e,i),(!(Ne&2)||e!==Se)&&(e===Se&&(!(Ne&2)&&(Ai|=i),we===4&&vn(e,ue,Lt,!1)),$t(e))}function y_(e,t,i){if(Ne&6)throw Error(r(327));var a=!i&&(t&60)===0&&(t&e.expiredLanes)===0||Ll(e,t),u=a?Ry(e,t):Uo(e,t,!0),c=a;do{if(u===0){ol&&!a&&vn(e,t,0,!1);break}else if(u===6)vn(e,t,0,!gn);else{if(i=e.current.alternate,c&&!Cy(i)){u=Uo(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var m=e;u=ps;var v=m.current.memoizedState.isDehydrated;if(v&&(fl(m,d).flags|=256),d=Uo(m,d,!1),d!==2){if(Co&&!v){m.errorRecoveryDisabledLanes|=c,Ai|=c,u=4;break e}c=Jt,Jt=u,c!==null&&wo(c)}u=d}if(c=!1,u!==2)continue}}if(u===1){fl(e,0),vn(e,t,0,!0);break}e:{switch(a=e,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194176)===t){vn(a,t,Lt,!gn);break e}break;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if(a.finishedWork=i,a.finishedLanes=t,(t&62914560)===t&&(c=Do+300-Ft(),10<c)){if(vn(a,t,Lt,!gn),fa(a,0)!==0)break e;a.timeoutHandle=V_(E_.bind(null,a,i,Jt,Pa,Ro,t,Lt,Ai,cl,gn,2,-0,0),c);break e}E_(a,i,Jt,Pa,Ro,t,Lt,Ai,cl,gn,0,-0,0)}}break}while(!0);$t(e)}function wo(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function E_(e,t,i,a,u,c,d,m,v,S,N,w,D){var O=t.subtreeFlags;if((O&8192||(O&16785408)===16785408)&&(As={stylesheets:null,count:0,unsuspend:s0},c_(t),t=r0(),t!==null)){e.cancelPendingCommit=t(D_.bind(null,e,i,a,u,d,m,v,1,w,D)),vn(e,c,d,!S);return}D_(e,i,a,u,d,m,v,N,w,D)}function Cy(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var u=i[a],c=u.getSnapshot;u=u.value;try{if(!yt(c(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t,i,a){t&=~Ao,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var u=t;0<u;){var c=31-vt(u),d=1<<c;a[c]=-1,u&=~d}i!==0&&Hf(e,i,t)}function $a(){return Ne&6?!0:(Es(0),!1)}function xo(){if(ie!==null){if(be===0)var e=ie.return;else e=ie,cn=Si=null,Bu(e),$i=null,es=0,e=ie;for(;e!==null;)p_(e.alternate,e),e=e.return;ie=null}}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Vy(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),xo(),Se=e,ie=i=jn(e.current,null),ue=t,be=0,bt=null,gn=!1,ol=Ll(e,t),Co=!1,cl=Lt=Ao=Ai=Qn=we=0,Jt=ps=null,Ro=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var u=31-vt(a),c=1<<u;t|=e[u],a&=~c}return pn=t,Ta(),i}function S_(e,t){$=null,j.H=Pt,t===Jl?(t=Lh(),be=3):t===zh?(t=Lh(),be=4):be=t===Ud?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,bt=t,ie===null&&(we=1,Va(e,Nt(t,e.current)))}function b_(){var e=j.H;return j.H=Pt,e===null?Pt:e}function T_(){var e=j.A;return j.A=by,e}function zo(){we=4,gn||(ue&4194176)!==ue&&xt.current!==null||(ol=!0),!(Qn&134217727)&&!(Ai&134217727)||Se===null||vn(Se,ue,Lt,!1)}function Uo(e,t,i){var a=Ne;Ne|=2;var u=b_(),c=T_();(Se!==e||ue!==t)&&(Pa=null,fl(e,t)),t=!1;var d=we;e:do try{if(be!==0&&ie!==null){var m=ie,v=bt;switch(be){case 8:xo(),d=6;break e;case 3:case 2:case 6:xt.current===null&&(t=!0);var S=be;if(be=0,bt=null,hl(e,m,v,S),i&&ol){d=0;break e}break;default:S=be,be=0,bt=null,hl(e,m,v,S)}}Ay(),d=we;break}catch(N){S_(e,N)}while(!0);return t&&e.shellSuspendCounter++,cn=Si=null,Ne=a,j.H=u,j.A=c,ie===null&&(Se=null,ue=0,Ta()),d}function Ay(){for(;ie!==null;)C_(ie)}function Ry(e,t){var i=Ne;Ne|=2;var a=b_(),u=T_();Se!==e||ue!==t?(Pa=null,Wa=Ft()+500,fl(e,t)):ol=Ll(e,t);e:do try{if(be!==0&&ie!==null){t=ie;var c=bt;t:switch(be){case 1:be=0,bt=null,hl(e,t,c,1);break;case 2:if(Uh(c)){be=0,bt=null,A_(t);break}t=function(){be===2&&Se===e&&(be=7),$t(e)},c.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Uh(c)?(be=0,bt=null,A_(t)):(be=0,bt=null,hl(e,t,c,7));break;case 5:var d=null;switch(ie.tag){case 26:d=ie.memoizedState;case 5:case 27:var m=ie;if(!d||em(d)){be=0,bt=null;var v=m.sibling;if(v!==null)ie=v;else{var S=m.return;S!==null?(ie=S,er(S)):ie=null}break t}}be=0,bt=null,hl(e,t,c,5);break;case 6:be=0,bt=null,hl(e,t,c,6);break;case 8:xo(),we=6;break e;default:throw Error(r(462))}}Dy();break}catch(N){S_(e,N)}while(!0);return cn=Si=null,j.H=a,j.A=u,Ne=i,ie!==null?0:(Se=null,ue=0,Ta(),we)}function Dy(){for(;ie!==null&&!Zp();)C_(ie)}function C_(e){var t=Xd(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?er(e):ie=t}function A_(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=kd(i,t,t.pendingProps,t.type,void 0,ue);break;case 11:t=kd(i,t,t.pendingProps,t.type.render,t.ref,ue);break;case 5:Bu(t);default:p_(i,t),t=ie=__(t,pn),t=Xd(i,t,pn)}e.memoizedProps=e.pendingProps,t===null?er(e):ie=t}function hl(e,t,i,a){cn=Si=null,Bu(t),$i=null,es=0;var u=t.return;try{if(my(e,u,t,i,ue)){we=1,Va(e,Nt(i,e.current)),ie=null;return}}catch(c){if(u!==null)throw ie=u,c;we=1,Va(e,Nt(i,e.current)),ie=null;return}t.flags&32768?(oe||a===1?e=!0:ol||ue&536870912?e=!1:(gn=e=!0,(a===2||a===3||a===6)&&(a=xt.current,a!==null&&a.tag===13&&(a.flags|=16384))),R_(t,e)):er(t)}function er(e){var t=e;do{if(t.flags&32768){R_(t,gn);return}e=t.return;var i=Ey(t.alternate,t,pn);if(i!==null){ie=i;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);we===0&&(we=5)}function R_(e,t){do{var i=Sy(e.alternate,e);if(i!==null){i.flags&=32767,ie=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ie=e;return}ie=e=i}while(e!==null);we=6,ie=null}function D_(e,t,i,a,u,c,d,m,v,S){var N=j.T,w=B.p;try{B.p=2,j.T=null,Oy(e,t,i,a,w,u,c,d,m,v,S)}finally{j.T=N,B.p=w}}function Oy(e,t,i,a,u,c,d,m){do dl();while(Ri!==null);if(Ne&6)throw Error(r(327));var v=e.finishedWork;if(a=e.finishedLanes,v===null)return null;if(e.finishedWork=null,e.finishedLanes=0,v===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var S=v.lanes|v.childLanes;if(S|=bu,av(e,a,S,c,d,m),e===Se&&(ie=Se=null,ue=0),!(v.subtreeFlags&10256)&&!(v.flags&10256)||Ja||(Ja=!0,Oo=S,No=i,xy(ua,function(){return dl(),null})),i=(v.flags&15990)!==0,v.subtreeFlags&15990||i?(i=j.T,j.T=null,c=B.p,B.p=2,d=Ne,Ne|=4,py(e,v),r_(v,e),Jv(Xo,e.containerInfo),hr=!!Qo,Xo=Qo=null,e.current=v,i_(e,v.alternate,v),Wp(),Ne=d,B.p=c,j.T=i):e.current=v,Ja?(Ja=!1,Ri=e,vs=a):O_(e,S),S=e.pendingLanes,S===0&&(Xn=null),tv(v.stateNode),$t(e),t!==null)for(u=e.onRecoverableError,v=0;v<t.length;v++)S=t[v],u(S.value,{componentStack:S.stack});return vs&3&&dl(),S=e.pendingLanes,a&4194218&&S&42?e===Mo?ys++:(ys=0,Mo=e):ys=0,Es(0),null}function O_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ns(t)))}function dl(){if(Ri!==null){var e=Ri,t=Oo;Oo=0;var i=Bf(vs),a=j.T,u=B.p;try{if(B.p=32>i?32:i,j.T=null,Ri===null)var c=!1;else{i=No,No=null;var d=Ri,m=vs;if(Ri=null,vs=0,Ne&6)throw Error(r(331));var v=Ne;if(Ne|=4,h_(d.current),o_(d,d.current,m,i),Ne=v,Es(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Hl,d)}catch{}c=!0}return c}finally{B.p=u,j.T=a,O_(e,t)}}return!1}function N_(e,t,i){t=Nt(i,t),t=Pu(e.stateNode,t,2),e=kn(e,t,2),e!==null&&(Bl(e,2),$t(e))}function ve(e,t,i){if(e.tag===3)N_(e,e,i);else for(;t!==null;){if(t.tag===3){N_(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Xn===null||!Xn.has(a))){e=Nt(i,e),i=xd(2),a=kn(t,i,2),a!==null&&(zd(i,a,t,e),Bl(a,2),$t(a));break}}t=t.return}}function Ho(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Ty;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(Co=!0,u.add(i),e=Ny.bind(null,e,t,i),t.then(e,e))}function Ny(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Se===e&&(ue&i)===i&&(we===4||we===3&&(ue&62914560)===ue&&300>Ft()-Do?!(Ne&2)&&fl(e,0):Ao|=i,cl===ue&&(cl=0)),$t(e)}function M_(e,t){t===0&&(t=Uf()),e=xn(e,t),e!==null&&(Bl(e,t),$t(e))}function My(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),M_(e,i)}function wy(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),M_(e,i)}function xy(e,t){return Jr(e,t)}var tr=null,_l=null,Lo=!1,nr=!1,Bo=!1,Di=0;function $t(e){e!==_l&&e.next===null&&(_l===null?tr=_l=e:_l=_l.next=e),nr=!0,Lo||(Lo=!0,Uy(zy))}function Es(e,t){if(!Bo&&nr){Bo=!0;do for(var i=!1,a=tr;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var c=0;else{var d=a.suspendedLanes,m=a.pingedLanes;c=(1<<31-vt(42|e)+1)-1,c&=u&~(d&~m),c=c&201326677?c&201326677|1:c?c|2:0}c!==0&&(i=!0,z_(a,c))}else c=ue,c=fa(a,a===Se?c:0),!(c&3)||Ll(a,c)||(i=!0,z_(a,c));a=a.next}while(i);Bo=!1}}function zy(){nr=Lo=!1;var e=0;Di!==0&&(Gy()&&(e=Di),Di=0);for(var t=Ft(),i=null,a=tr;a!==null;){var u=a.next,c=w_(a,t);c===0?(a.next=null,i===null?tr=u:i.next=u,u===null&&(_l=i)):(i=a,(e!==0||c&3)&&(nr=!0)),a=u}Es(e)}function w_(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-vt(c),m=1<<d,v=u[d];v===-1?(!(m&i)||m&a)&&(u[d]=sv(m,t)):v<=t&&(e.expiredLanes|=m),c&=~m}if(t=Se,i=ue,i=fa(e,e===t?i:0),a=e.callbackNode,i===0||e===t&&be===2||e.cancelPendingCommit!==null)return a!==null&&a!==null&&$r(a),e.callbackNode=null,e.callbackPriority=0;if(!(i&3)||Ll(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&$r(a),Bf(i)){case 2:case 8:i=wf;break;case 32:i=ua;break;case 268435456:i=xf;break;default:i=ua}return a=x_.bind(null,e),i=Jr(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&$r(a),e.callbackPriority=2,e.callbackNode=null,2}function x_(e,t){var i=e.callbackNode;if(dl()&&e.callbackNode!==i)return null;var a=ue;return a=fa(e,e===Se?a:0),a===0?null:(y_(e,a,t),w_(e,Ft()),e.callbackNode!=null&&e.callbackNode===i?x_.bind(null,e):null)}function z_(e,t){if(dl())return null;y_(e,t,!0)}function Uy(e){jy(function(){Ne&6?Jr(Mf,e):e()})}function Io(){return Di===0&&(Di=zf()),Di}function U_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function H_(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Hy(e,t,i,a,u){if(t==="submit"&&i&&i.stateNode===u){var c=U_((u[ut]||null).action),d=a.submitter;d&&(t=(t=d[ut]||null)?U_(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var m=new Ea("action","action",null,a,u);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Di!==0){var v=d?H_(u,d):new FormData(u);Xu(i,{pending:!0,data:v,method:u.method,action:c},null,v)}}else typeof c=="function"&&(m.preventDefault(),v=d?H_(u,d):new FormData(u),Xu(i,{pending:!0,data:v,method:u.method,action:c},c,v))},currentTarget:u}]})}}for(var qo=0;qo<Dh.length;qo++){var ko=Dh[qo],Ly=ko.toLowerCase(),By=ko[0].toUpperCase()+ko.slice(1);It(Ly,"on"+By)}It(bh,"onAnimationEnd"),It(Th,"onAnimationIteration"),It(Ch,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(ey,"onTransitionRun"),It(ty,"onTransitionStart"),It(ny,"onTransitionCancel"),It(Ah,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ss));function L_(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var d=a.length-1;0<=d;d--){var m=a[d],v=m.instance,S=m.currentTarget;if(m=m.listener,v!==c&&u.isPropagationStopped())break e;c=m,u.currentTarget=S;try{c(u)}catch(N){Ga(N)}u.currentTarget=null,c=v}else for(d=0;d<a.length;d++){if(m=a[d],v=m.instance,S=m.currentTarget,m=m.listener,v!==c&&u.isPropagationStopped())break e;c=m,u.currentTarget=S;try{c(u)}catch(N){Ga(N)}u.currentTarget=null,c=v}}}}function se(e,t){var i=t[tu];i===void 0&&(i=t[tu]=new Set);var a=e+"__bubble";i.has(a)||(B_(t,e,2,!1),i.add(a))}function Yo(e,t,i){var a=0;t&&(a|=4),B_(i,e,a,t)}var ir="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[ir]){e[ir]=!0,kf.forEach(function(i){i!=="selectionchange"&&(Iy.has(i)||Yo(i,!1,e),Yo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ir]||(t[ir]=!0,Yo("selectionchange",!1,t))}}function B_(e,t,i,a){switch(am(t)){case 2:var u=c0;break;case 8:u=f0;break;default:u=tc}i=u.bind(null,t,i,e),u=void 0,!ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Vo(e,t,i,a,u){var c=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var m=a.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(d===4)for(d=a.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===u||v.nodeType===8&&v.parentNode===u))return;d=d.return}for(;m!==null;){if(d=ri(m),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){a=c=d;continue e}m=m.parentNode}}a=a.return}Jf(function(){var S=c,N=ru(i),w=[];e:{var D=Rh.get(e);if(D!==void 0){var O=Ea,q=e;switch(e){case"keypress":if(va(i)===0)break e;case"keydown":case"keyup":O=wv;break;case"focusin":q="focus",O=du;break;case"focusout":q="blur",O=du;break;case"beforeblur":case"afterblur":O=du;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Uv;break;case bh:case Th:case Ch:O=bv;break;case Ah:O=Lv;break;case"scroll":case"scrollend":O=pv;break;case"wheel":O=Iv;break;case"copy":case"cut":case"paste":O=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=ih;break;case"toggle":case"beforetoggle":O=kv}var F=(t&4)!==0,xe=!F&&(e==="scroll"||e==="scrollend"),C=F?D!==null?D+"Capture":null:D;F=[];for(var E=S,A;E!==null;){var M=E;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||C===null||(M=kl(E,C),M!=null&&F.push(bs(E,M,A))),xe)break;E=E.return}0<F.length&&(D=new O(D,q,null,i,N),w.push({event:D,listeners:F}))}}if(!(t&7)){e:{if(D=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",D&&i!==au&&(q=i.relatedTarget||i.fromElement)&&(ri(q)||q[Ii]))break e;if((O||D)&&(D=N.window===N?N:(D=N.ownerDocument)?D.defaultView||D.parentWindow:window,O?(q=i.relatedTarget||i.toElement,O=S,q=q?ri(q):null,q!==null&&(xe=X(q),F=q.tag,q!==xe||F!==5&&F!==27&&F!==6)&&(q=null)):(O=null,q=S),O!==q)){if(F=th,M="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(F=ih,M="onPointerLeave",C="onPointerEnter",E="pointer"),xe=O==null?D:ql(O),A=q==null?D:ql(q),D=new F(M,E+"leave",O,i,N),D.target=xe,D.relatedTarget=A,M=null,ri(N)===S&&(F=new F(C,E+"enter",q,i,N),F.target=A,F.relatedTarget=xe,M=F),xe=M,O&&q)t:{for(F=O,C=q,E=0,A=F;A;A=ml(A))E++;for(A=0,M=C;M;M=ml(M))A++;for(;0<E-A;)F=ml(F),E--;for(;0<A-E;)C=ml(C),A--;for(;E--;){if(F===C||C!==null&&F===C.alternate)break t;F=ml(F),C=ml(C)}F=null}else F=null;O!==null&&I_(w,D,O,F,!1),q!==null&&xe!==null&&I_(w,xe,q,F,!0)}}e:{if(D=S?ql(S):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var I=fh;else if(oh(D))if(hh)I=Wv;else{I=Fv;var ee=Kv}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?S&&su(S.elementType)&&(I=fh):I=Zv;if(I&&(I=I(e,S))){ch(w,I,i,N);break e}ee&&ee(e,D,S),e==="focusout"&&S&&D.type==="number"&&S.memoizedProps.value!=null&&lu(D,"number",D.value)}switch(ee=S?ql(S):window,e){case"focusin":(oh(ee)||ee.contentEditable==="true")&&(Ki=ee,yu=S,Fl=null);break;case"focusout":Fl=yu=Ki=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Eh(w,i,N);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Eh(w,i,N)}var k;if(mu)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Xi?rh(e,i)&&(V="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(V="onCompositionStart");V&&(lh&&i.locale!=="ko"&&(Xi||V!=="onCompositionStart"?V==="onCompositionEnd"&&Xi&&(k=$f()):(wn=N,cu="value"in wn?wn.value:wn.textContent,Xi=!0)),ee=lr(S,V),0<ee.length&&(V=new nh(V,e,null,i,N),w.push({event:V,listeners:ee}),k?V.data=k:(k=uh(i),k!==null&&(V.data=k)))),(k=Gv?Vv(e,i):jv(e,i))&&(V=lr(S,"onBeforeInput"),0<V.length&&(ee=new nh("onBeforeInput","beforeinput",null,i,N),w.push({event:ee,listeners:V}),ee.data=k)),Hy(w,e,S,i,N)}L_(w,t)})}function bs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function lr(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,c=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=kl(e,i),u!=null&&a.unshift(bs(e,u,c)),u=kl(e,t),u!=null&&a.push(bs(e,u,c))),e=e.return}return a}function ml(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function I_(e,t,i,a,u){for(var c=t._reactName,d=[];i!==null&&i!==a;){var m=i,v=m.alternate,S=m.stateNode;if(m=m.tag,v!==null&&v===a)break;m!==5&&m!==26&&m!==27||S===null||(v=S,u?(S=kl(i,c),S!=null&&d.unshift(bs(i,S,v))):u||(S=kl(i,c),S!=null&&d.push(bs(i,S,v)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var qy=/\r\n?/g,ky=/\u0000|\uFFFD/g;function q_(e){return(typeof e=="string"?e:""+e).replace(qy,`
`).replace(ky,"")}function k_(e,t){return t=q_(t),q_(e)===t}function sr(){}function pe(e,t,i,a,u,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Vi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Vi(e,""+a);break;case"className":da(e,"class",a);break;case"tabIndex":da(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":da(e,i,a);break;case"style":Wf(e,a,c);break;case"data":if(t!=="object"){da(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=ga(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&pe(e,t,"name",u.name,u,null),pe(e,t,"formEncType",u.formEncType,u,null),pe(e,t,"formMethod",u.formMethod,u,null),pe(e,t,"formTarget",u.formTarget,u,null)):(pe(e,t,"encType",u.encType,u,null),pe(e,t,"method",u.method,u,null),pe(e,t,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=ga(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=sr);break;case"onScroll":a!=null&&se("scroll",e);break;case"onScrollEnd":a!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=ga(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":se("beforetoggle",e),se("toggle",e),ha(e,"popover",a);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ha(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=mv.get(i)||i,ha(e,i,a))}}function jo(e,t,i,a,u,c){switch(i){case"style":Wf(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Vi(e,a):(typeof a=="number"||typeof a=="bigint")&&Vi(e,""+a);break;case"onScroll":a!=null&&se("scroll",e);break;case"onScrollEnd":a!=null&&se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),c=e[ut]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,u);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):ha(e,i,a)}}}function Pe(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var a=!1,u=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:pe(e,t,c,d,i,null)}}u&&pe(e,t,"srcSet",i.srcSet,i,null),a&&pe(e,t,"src",i.src,i,null);return;case"input":se("invalid",e);var m=c=d=u=null,v=null,S=null;for(a in i)if(i.hasOwnProperty(a)){var N=i[a];if(N!=null)switch(a){case"name":u=N;break;case"type":d=N;break;case"checked":v=N;break;case"defaultChecked":S=N;break;case"value":c=N;break;case"defaultValue":m=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:pe(e,t,a,N,i,null)}}Xf(e,c,m,v,S,d,u,!1),_a(e);return;case"select":se("invalid",e),a=d=c=null;for(u in i)if(i.hasOwnProperty(u)&&(m=i[u],m!=null))switch(u){case"value":c=m;break;case"defaultValue":d=m;break;case"multiple":a=m;default:pe(e,t,u,m,i,null)}t=c,i=d,e.multiple=!!a,t!=null?Gi(e,!!a,t,!1):i!=null&&Gi(e,!!a,i,!0);return;case"textarea":se("invalid",e),c=u=a=null;for(d in i)if(i.hasOwnProperty(d)&&(m=i[d],m!=null))switch(d){case"value":a=m;break;case"defaultValue":u=m;break;case"children":c=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:pe(e,t,d,m,i,null)}Ff(e,a,u,c),_a(e);return;case"option":for(v in i)if(i.hasOwnProperty(v)&&(a=i[v],a!=null))switch(v){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:pe(e,t,v,a,i,null)}return;case"dialog":se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(a=0;a<Ss.length;a++)se(Ss[a],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in i)if(i.hasOwnProperty(S)&&(a=i[S],a!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:pe(e,t,S,a,i,null)}return;default:if(su(t)){for(N in i)i.hasOwnProperty(N)&&(a=i[N],a!==void 0&&jo(e,t,N,a,i,void 0));return}}for(m in i)i.hasOwnProperty(m)&&(a=i[m],a!=null&&pe(e,t,m,a,i,null))}function Yy(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,m=null,v=null,S=null,N=null;for(O in i){var w=i[O];if(i.hasOwnProperty(O)&&w!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":v=w;default:a.hasOwnProperty(O)||pe(e,t,O,null,a,w)}}for(var D in a){var O=a[D];if(w=i[D],a.hasOwnProperty(D)&&(O!=null||w!=null))switch(D){case"type":c=O;break;case"name":u=O;break;case"checked":S=O;break;case"defaultChecked":N=O;break;case"value":d=O;break;case"defaultValue":m=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:O!==w&&pe(e,t,D,O,a,w)}}iu(e,d,m,v,S,N,c,u);return;case"select":O=d=m=D=null;for(c in i)if(v=i[c],i.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":O=v;default:a.hasOwnProperty(c)||pe(e,t,c,null,a,v)}for(u in a)if(c=a[u],v=i[u],a.hasOwnProperty(u)&&(c!=null||v!=null))switch(u){case"value":D=c;break;case"defaultValue":m=c;break;case"multiple":d=c;default:c!==v&&pe(e,t,u,c,a,v)}t=m,i=d,a=O,D!=null?Gi(e,!!i,D,!1):!!a!=!!i&&(t!=null?Gi(e,!!i,t,!0):Gi(e,!!i,i?[]:"",!1));return;case"textarea":O=D=null;for(m in i)if(u=i[m],i.hasOwnProperty(m)&&u!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:pe(e,t,m,null,a,u)}for(d in a)if(u=a[d],c=i[d],a.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":D=u;break;case"defaultValue":O=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==c&&pe(e,t,d,u,a,c)}Kf(e,D,O);return;case"option":for(var q in i)if(D=i[q],i.hasOwnProperty(q)&&D!=null&&!a.hasOwnProperty(q))switch(q){case"selected":e.selected=!1;break;default:pe(e,t,q,null,a,D)}for(v in a)if(D=a[v],O=i[v],a.hasOwnProperty(v)&&D!==O&&(D!=null||O!=null))switch(v){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:pe(e,t,v,D,a,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in i)D=i[F],i.hasOwnProperty(F)&&D!=null&&!a.hasOwnProperty(F)&&pe(e,t,F,null,a,D);for(S in a)if(D=a[S],O=i[S],a.hasOwnProperty(S)&&D!==O&&(D!=null||O!=null))switch(S){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:pe(e,t,S,D,a,O)}return;default:if(su(t)){for(var xe in i)D=i[xe],i.hasOwnProperty(xe)&&D!==void 0&&!a.hasOwnProperty(xe)&&jo(e,t,xe,void 0,a,D);for(N in a)D=a[N],O=i[N],!a.hasOwnProperty(N)||D===O||D===void 0&&O===void 0||jo(e,t,N,D,a,O);return}}for(var C in i)D=i[C],i.hasOwnProperty(C)&&D!=null&&!a.hasOwnProperty(C)&&pe(e,t,C,null,a,D);for(w in a)D=a[w],O=i[w],!a.hasOwnProperty(w)||D===O||D==null&&O==null||pe(e,t,w,D,a,O)}var Qo=null,Xo=null;function ar(e){return e.nodeType===9?e:e.ownerDocument}function Y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=null;function Gy(){var e=window.event;return e&&e.type==="popstate"?e===Fo?!1:(Fo=e,!0):(Fo=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,jy=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(e){return j_.resolve(null).then(e).catch(Qy)}:V_;function Qy(e){setTimeout(function(){throw e})}function Zo(e,t){var i=t,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),Ms(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);Ms(t)}function Wo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Wo(i),nu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Xy(e,t,i,a){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Il])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function Ky(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Yt(e.nextSibling),e===null))return null;return e}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Q_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function X_(e,t,i){switch(t=ar(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var Bt=new Map,K_=new Set;function rr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var yn=B.d;B.d={f:Fy,r:Zy,D:Wy,C:Py,L:Jy,m:$y,X:t0,S:e0,M:n0};function Fy(){var e=yn.f(),t=$a();return e||t}function Zy(e){var t=qi(e);t!==null&&t.tag===5&&t.type==="form"?Ed(t):yn.r(e)}var gl=typeof document>"u"?null:document;function F_(e,t,i){var a=gl;if(a&&typeof t=="string"&&t){var u=Dt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),K_.has(u)||(K_.add(u),e={rel:e,crossOrigin:i,href:t},a.querySelector(u)===null&&(t=a.createElement("link"),Pe(t,"link",e),Ge(t),a.head.appendChild(t)))}}function Wy(e){yn.D(e),F_("dns-prefetch",e,null)}function Py(e,t){yn.C(e,t),F_("preconnect",e,t)}function Jy(e,t,i){yn.L(e,t,i);var a=gl;if(a&&e&&t){var u='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Dt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Dt(i.imageSizes)+'"]')):u+='[href="'+Dt(e)+'"]';var c=u;switch(t){case"style":c=pl(e);break;case"script":c=vl(e)}Bt.has(c)||(e=fe({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Bt.set(c,e),a.querySelector(u)!==null||t==="style"&&a.querySelector(Ts(c))||t==="script"&&a.querySelector(Cs(c))||(t=a.createElement("link"),Pe(t,"link",e),Ge(t),a.head.appendChild(t)))}}function $y(e,t){yn.m(e,t);var i=gl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Dt(a)+'"][href="'+Dt(e)+'"]',c=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=vl(e)}if(!Bt.has(c)&&(e=fe({rel:"modulepreload",href:e},t),Bt.set(c,e),i.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Cs(c)))return}a=i.createElement("link"),Pe(a,"link",e),Ge(a),i.head.appendChild(a)}}}function e0(e,t,i){yn.S(e,t,i);var a=gl;if(a&&e){var u=ki(a).hoistableStyles,c=pl(e);t=t||"default";var d=u.get(c);if(!d){var m={loading:0,preload:null};if(d=a.querySelector(Ts(c)))m.loading=5;else{e=fe({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Bt.get(c))&&Po(e,i);var v=d=a.createElement("link");Ge(v),Pe(v,"link",e),v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),v.addEventListener("load",function(){m.loading|=1}),v.addEventListener("error",function(){m.loading|=2}),m.loading|=4,ur(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:m},u.set(c,d)}}}function t0(e,t){yn.X(e,t);var i=gl;if(i&&e){var a=ki(i).hoistableScripts,u=vl(e),c=a.get(u);c||(c=i.querySelector(Cs(u)),c||(e=fe({src:e,async:!0},t),(t=Bt.get(u))&&Jo(e,t),c=i.createElement("script"),Ge(c),Pe(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(u,c))}}function n0(e,t){yn.M(e,t);var i=gl;if(i&&e){var a=ki(i).hoistableScripts,u=vl(e),c=a.get(u);c||(c=i.querySelector(Cs(u)),c||(e=fe({src:e,async:!0,type:"module"},t),(t=Bt.get(u))&&Jo(e,t),c=i.createElement("script"),Ge(c),Pe(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(u,c))}}function Z_(e,t,i,a){var u=(u=On.current)?rr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=pl(i.href),i=ki(u).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=pl(i.href);var c=ki(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ts(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Bt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bt.set(e,i),c||i0(u,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vl(i),i=ki(u).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function pl(e){return'href="'+Dt(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function W_(e){return fe({},e,{"data-precedence":e.precedence,precedence:null})}function i0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Pe(t,"link",i),Ge(t),e.head.appendChild(t))}function vl(e){return'[src="'+Dt(e)+'"]'}function Cs(e){return"script[async]"+e}function P_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Dt(i.href)+'"]');if(a)return t.instance=a,Ge(a),a;var u=fe({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ge(a),Pe(a,"style",u),ur(a,i.precedence,e),t.instance=a;case"stylesheet":u=pl(i.href);var c=e.querySelector(Ts(u));if(c)return t.state.loading|=4,t.instance=c,Ge(c),c;a=W_(i),(u=Bt.get(u))&&Po(a,u),c=(e.ownerDocument||e).createElement("link"),Ge(c);var d=c;return d._p=new Promise(function(m,v){d.onload=m,d.onerror=v}),Pe(c,"link",a),t.state.loading|=4,ur(c,i.precedence,e),t.instance=c;case"script":return c=vl(i.src),(u=e.querySelector(Cs(c)))?(t.instance=u,Ge(u),u):(a=i,(u=Bt.get(c))&&(a=fe({},i),Jo(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),Ge(u),Pe(u,"link",a),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,ur(a,i.precedence,e));return t.instance}function ur(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,c=u,d=0;d<a.length;d++){var m=a[d];if(m.dataset.precedence===t)c=m;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Po(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Jo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var or=null;function J_(e,t,i){if(or===null){var a=new Map,u=or=new Map;u.set(i,a)}else u=or,a=u.get(i),a||(a=new Map,u.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var c=i[u];if(!(c[Il]||c[$e]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var m=a.get(d);m?m.push(c):a.set(d,[c])}}return a}function $_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function l0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function em(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var As=null;function s0(){}function a0(e,t,i){if(As===null)throw Error(r(475));var a=As;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var u=pl(i.href),c=e.querySelector(Ts(u));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=cr.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=c,Ge(c);return}c=e.ownerDocument||e,i=W_(i),(u=Bt.get(u))&&Po(i,u),c=c.createElement("link"),Ge(c);var d=c;d._p=new Promise(function(m,v){d.onload=m,d.onerror=v}),Pe(c,"link",i),t.instance=c}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=cr.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function r0(){if(As===null)throw Error(r(475));var e=As;return e.stylesheets&&e.count===0&&$o(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&$o(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function cr(){if(this.count--,this.count===0){if(this.stylesheets)$o(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fr=null;function $o(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fr=new Map,t.forEach(u0,e),fr=null,cr.call(e))}function u0(e,t){if(!(t.state.loading&4)){var i=fr.get(e);if(i)var a=i.get(null);else{i=new Map,fr.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}u=t.instance,d=u.getAttribute("data-precedence"),c=i.get(d)||a,c===a&&i.set(null,u),i.set(d,u),this.count++,a=cr.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Rs={$$typeof:z,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function o0(e,t,i,a,u,c,d,m){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function tm(e,t,i,a,u,c,d,m,v,S,N,w){return e=new o0(e,t,i,d,m,v,S,w),t=1,c===!0&&(t|=24),c=Ht(3,null,null,t),e.current=c,c.stateNode=e,t=Mu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},co(c),e}function nm(e){return e?(e=Wi,e):Wi}function im(e,t,i,a,u,c){u=nm(u),a.context===null?a.context=u:a.pendingContext=u,a=qn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=kn(e,a,t),i!==null&&(st(i,e,t),os(i,e,t))}function lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ec(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function sm(e){if(e.tag===13){var t=xn(e,67108864);t!==null&&st(t,e,67108864),ec(e,67108864)}}var hr=!0;function c0(e,t,i,a){var u=j.T;j.T=null;var c=B.p;try{B.p=2,tc(e,t,i,a)}finally{B.p=c,j.T=u}}function f0(e,t,i,a){var u=j.T;j.T=null;var c=B.p;try{B.p=8,tc(e,t,i,a)}finally{B.p=c,j.T=u}}function tc(e,t,i,a){if(hr){var u=nc(a);if(u===null)Vo(e,t,a,dr,i),rm(e,a);else if(d0(u,e,t,i,a))a.stopPropagation();else if(rm(e,a),t&4&&-1<h0.indexOf(e)){for(;u!==null;){var c=qi(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=ai(c.pendingLanes);if(d!==0){var m=c;for(m.pendingLanes|=2,m.entangledLanes|=2;d;){var v=1<<31-vt(d);m.entanglements[1]|=v,d&=~v}$t(c),!(Ne&6)&&(Wa=Ft()+500,Es(0))}}break;case 13:m=xn(c,2),m!==null&&st(m,c,2),$a(),ec(c,2)}if(c=nc(a),c===null&&Vo(e,t,a,dr,i),c===u)break;u=c}u!==null&&a.stopPropagation()}else Vo(e,t,a,null,i)}}function nc(e){return e=ru(e),ic(e)}var dr=null;function ic(e){if(dr=null,e=ri(e),e!==null){var t=X(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=Ee(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dr=e,null}function am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pp()){case Mf:return 2;case wf:return 8;case ua:case Jp:return 32;case xf:return 268435456;default:return 32}default:return 32}}var lc=!1,Kn=null,Fn=null,Zn=null,Ds=new Map,Os=new Map,Wn=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rm(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(t.pointerId)}}function Ns(e,t,i,a,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[u]},t!==null&&(t=qi(t),t!==null&&sm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function d0(e,t,i,a,u){switch(t){case"focusin":return Kn=Ns(Kn,e,t,i,a,u),!0;case"dragenter":return Fn=Ns(Fn,e,t,i,a,u),!0;case"mouseover":return Zn=Ns(Zn,e,t,i,a,u),!0;case"pointerover":var c=u.pointerId;return Ds.set(c,Ns(Ds.get(c)||null,e,t,i,a,u)),!0;case"gotpointercapture":return c=u.pointerId,Os.set(c,Ns(Os.get(c)||null,e,t,i,a,u)),!0}return!1}function um(e){var t=ri(e.target);if(t!==null){var i=X(t);if(i!==null){if(t=i.tag,t===13){if(t=Ee(i),t!==null){e.blockedOn=t,rv(e.priority,function(){if(i.tag===13){var a=Tt(),u=xn(i,a);u!==null&&st(u,i,a),ec(i,a)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _r(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=nc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);au=a,i.target.dispatchEvent(a),au=null}else return t=qi(i),t!==null&&sm(t),e.blockedOn=i,!1;t.shift()}return!0}function om(e,t,i){_r(e)&&i.delete(t)}function _0(){lc=!1,Kn!==null&&_r(Kn)&&(Kn=null),Fn!==null&&_r(Fn)&&(Fn=null),Zn!==null&&_r(Zn)&&(Zn=null),Ds.forEach(om),Os.forEach(om)}function mr(e,t){e.blockedOn===t&&(e.blockedOn=null,lc||(lc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_0)))}var gr=null;function cm(e){gr!==e&&(gr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){gr===e&&(gr=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],u=e[t+2];if(typeof a!="function"){if(ic(a||i)===null)continue;break}var c=qi(i);c!==null&&(e.splice(t,3),t-=3,Xu(c,{pending:!0,data:u,method:i.method,action:a},a,u))}}))}function Ms(e){function t(v){return mr(v,e)}Kn!==null&&mr(Kn,e),Fn!==null&&mr(Fn,e),Zn!==null&&mr(Zn,e),Ds.forEach(t),Os.forEach(t);for(var i=0;i<Wn.length;i++){var a=Wn[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Wn.length&&(i=Wn[0],i.blockedOn===null);)um(i),i.blockedOn===null&&Wn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var u=i[a],c=i[a+1],d=u[ut]||null;if(typeof c=="function")d||cm(i);else if(d){var m=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[ut]||null)m=d.formAction;else if(ic(u)!==null)continue}else m=d.action;typeof m=="function"?i[a+1]=m:(i.splice(a,3),a-=3),cm(i)}}}function sc(e){this._internalRoot=e}pr.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=Tt();im(i,a,e,t,null,null)},pr.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&dl(),im(e.current,2,null,e,null,null),$a(),t[Ii]=null}};function pr(e){this._internalRoot=e}pr.prototype.unstable_scheduleHydration=function(e){if(e){var t=If();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Wn.length&&t!==0&&t<Wn[i].priority;i++);Wn.splice(i,0,e),i===0&&um(e)}};var fm=n.version;if(fm!=="19.0.0")throw Error(r(527,fm,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=x(t),e=e!==null?Q(e):null,e=e===null?null:e.stateNode,e};var m0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:j,findFiberByHostInstance:ri,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vr.isDisabled&&vr.supportsFiber)try{Hl=vr.inject(m0),pt=vr}catch{}}return xs.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,a="",u=Od,c=Nd,d=Md,m=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(m=t.unstable_transitionCallbacks)),t=tm(e,1,!1,null,null,i,a,u,c,d,m,null),e[Ii]=t.current,Go(e.nodeType===8?e.parentNode:e),new sc(t)},xs.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var a=!1,u="",c=Od,d=Nd,m=Md,v=null,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(m=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(v=i.unstable_transitionCallbacks),i.formState!==void 0&&(S=i.formState)),t=tm(e,1,!0,t,i??null,a,u,c,d,m,v,S),t.context=nm(null),i=t.current,a=Tt(),u=qn(a),u.callback=null,kn(i,u,a),t.current.lanes=a,Bl(t,a),$t(t),e[Ii]=t.current,Go(e),new pr(t)},xs.version="19.0.0",xs}var Sm;function R0(){if(Sm)return uc.exports;Sm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),uc.exports=A0(),uc.exports}var D0=R0(),hc,bm;function O0(){if(bm)return hc;bm=1;var s={linear:function(n,l,r,o){var f=r-l;return f*n/o+l},easeInQuad:function(n,l,r,o){var f=r-l;return f*(n/=o)*n+l},easeOutQuad:function(n,l,r,o){var f=r-l;return-f*(n/=o)*(n-2)+l},easeInOutQuad:function(n,l,r,o){var f=r-l;return(n/=o/2)<1?f/2*n*n+l:-f/2*(--n*(n-2)-1)+l},easeInCubic:function(n,l,r,o){var f=r-l;return f*(n/=o)*n*n+l},easeOutCubic:function(n,l,r,o){var f=r-l;return f*((n=n/o-1)*n*n+1)+l},easeInOutCubic:function(n,l,r,o){var f=r-l;return(n/=o/2)<1?f/2*n*n*n+l:f/2*((n-=2)*n*n+2)+l},easeInQuart:function(n,l,r,o){var f=r-l;return f*(n/=o)*n*n*n+l},easeOutQuart:function(n,l,r,o){var f=r-l;return-f*((n=n/o-1)*n*n*n-1)+l},easeInOutQuart:function(n,l,r,o){var f=r-l;return(n/=o/2)<1?f/2*n*n*n*n+l:-f/2*((n-=2)*n*n*n-2)+l},easeInQuint:function(n,l,r,o){var f=r-l;return f*(n/=o)*n*n*n*n+l},easeOutQuint:function(n,l,r,o){var f=r-l;return f*((n=n/o-1)*n*n*n*n+1)+l},easeInOutQuint:function(n,l,r,o){var f=r-l;return(n/=o/2)<1?f/2*n*n*n*n*n+l:f/2*((n-=2)*n*n*n*n+2)+l},easeInSine:function(n,l,r,o){var f=r-l;return-f*Math.cos(n/o*(Math.PI/2))+f+l},easeOutSine:function(n,l,r,o){var f=r-l;return f*Math.sin(n/o*(Math.PI/2))+l},easeInOutSine:function(n,l,r,o){var f=r-l;return-f/2*(Math.cos(Math.PI*n/o)-1)+l},easeInExpo:function(n,l,r,o){var f=r-l;return n==0?l:f*Math.pow(2,10*(n/o-1))+l},easeOutExpo:function(n,l,r,o){var f=r-l;return n==o?l+f:f*(-Math.pow(2,-10*n/o)+1)+l},easeInOutExpo:function(n,l,r,o){var f=r-l;return n===0?l:n===o?l+f:(n/=o/2)<1?f/2*Math.pow(2,10*(n-1))+l:f/2*(-Math.pow(2,-10*--n)+2)+l},easeInCirc:function(n,l,r,o){var f=r-l;return-f*(Math.sqrt(1-(n/=o)*n)-1)+l},easeOutCirc:function(n,l,r,o){var f=r-l;return f*Math.sqrt(1-(n=n/o-1)*n)+l},easeInOutCirc:function(n,l,r,o){var f=r-l;return(n/=o/2)<1?-f/2*(Math.sqrt(1-n*n)-1)+l:f/2*(Math.sqrt(1-(n-=2)*n)+1)+l},easeInElastic:function(n,l,r,o){var f=r-l,h,_,p;return p=1.70158,_=0,h=f,n===0?l:(n/=o)===1?l+f:(_||(_=o*.3),h<Math.abs(f)?(h=f,p=_/4):p=_/(2*Math.PI)*Math.asin(f/h),-(h*Math.pow(2,10*(n-=1))*Math.sin((n*o-p)*(2*Math.PI)/_))+l)},easeOutElastic:function(n,l,r,o){var f=r-l,h,_,p;return p=1.70158,_=0,h=f,n===0?l:(n/=o)===1?l+f:(_||(_=o*.3),h<Math.abs(f)?(h=f,p=_/4):p=_/(2*Math.PI)*Math.asin(f/h),h*Math.pow(2,-10*n)*Math.sin((n*o-p)*(2*Math.PI)/_)+f+l)},easeInOutElastic:function(n,l,r,o){var f=r-l,h,_,p;return p=1.70158,_=0,h=f,n===0?l:(n/=o/2)===2?l+f:(_||(_=o*(.3*1.5)),h<Math.abs(f)?(h=f,p=_/4):p=_/(2*Math.PI)*Math.asin(f/h),n<1?-.5*(h*Math.pow(2,10*(n-=1))*Math.sin((n*o-p)*(2*Math.PI)/_))+l:h*Math.pow(2,-10*(n-=1))*Math.sin((n*o-p)*(2*Math.PI)/_)*.5+f+l)},easeInBack:function(n,l,r,o,f){var h=r-l;return f===void 0&&(f=1.70158),h*(n/=o)*n*((f+1)*n-f)+l},easeOutBack:function(n,l,r,o,f){var h=r-l;return f===void 0&&(f=1.70158),h*((n=n/o-1)*n*((f+1)*n+f)+1)+l},easeInOutBack:function(n,l,r,o,f){var h=r-l;return f===void 0&&(f=1.70158),(n/=o/2)<1?h/2*(n*n*(((f*=1.525)+1)*n-f))+l:h/2*((n-=2)*n*(((f*=1.525)+1)*n+f)+2)+l},easeInBounce:function(n,l,r,o){var f=r-l,h;return h=s.easeOutBounce(o-n,0,f,o),f-h+l},easeOutBounce:function(n,l,r,o){var f=r-l;return(n/=o)<1/2.75?f*(7.5625*n*n)+l:n<2/2.75?f*(7.5625*(n-=1.5/2.75)*n+.75)+l:n<2.5/2.75?f*(7.5625*(n-=2.25/2.75)*n+.9375)+l:f*(7.5625*(n-=2.625/2.75)*n+.984375)+l},easeInOutBounce:function(n,l,r,o){var f=r-l,h;return n<o/2?(h=s.easeInBounce(n*2,0,f,o),h*.5+l):(h=s.easeOutBounce(n*2-o,0,f,o),h*.5+f*.5+l)}};return hc=s,hc}var N0=O0();function M0(s){return s*Math.PI/180}function Ct(s,n){return s+Math.random()*(n-s)}function w0(s,n){return Math.floor(s+Math.random()*(n-s+1))}var Bs;(function(s){s[s.Circle=0]="Circle",s[s.Square=1]="Square",s[s.Strip=2]="Strip"})(Bs||(Bs={}));var $n;(function(s){s[s.Positive=1]="Positive",s[s.Negative=-1]="Negative"})($n||($n={}));class x0{constructor(n,l,r,o){this.getOptions=l;const{colors:f,initialVelocityX:h,initialVelocityY:_}=this.getOptions();this.context=n,this.x=r,this.y=o,this.w=Ct(5,20),this.h=Ct(5,20),this.radius=Ct(5,10),this.vx=typeof h=="number"?Ct(-h,h):Ct(h.min,h.max),this.vy=typeof _=="number"?Ct(-_,0):Ct(_.min,_.max),this.shape=w0(0,2),this.angle=M0(Ct(0,360)),this.angularSpin=Ct(-.2,.2),this.color=f[Math.floor(Math.random()*f.length)],this.rotateY=Ct(0,1),this.rotationDirection=Ct(0,1)?$n.Positive:$n.Negative}update(){const{gravity:n,wind:l,friction:r,opacity:o,drawShape:f}=this.getOptions();this.x+=this.vx,this.y+=this.vy,this.vy+=n,this.vx+=l,this.vx*=r,this.vy*=r,this.rotateY>=1&&this.rotationDirection===$n.Positive?this.rotationDirection=$n.Negative:this.rotateY<=-1&&this.rotationDirection===$n.Negative&&(this.rotationDirection=$n.Positive);const h=.1*this.rotationDirection;if(this.rotateY+=h,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,f&&typeof f=="function")f.call(this,this.context);else switch(this.shape){case Bs.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Bs.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Bs.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class z0{constructor(n,l){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenInitTime=Date.now(),this.particles=[],this.particlesGenerated=0,this.removeParticleAt=o=>{this.particles.splice(o,1)},this.getParticle=()=>{const o=Ct(this.x,this.w+this.x),f=Ct(this.y,this.h+this.y);return new x0(this.context,this.getOptions,o,f)},this.animate=()=>{const{canvas:o,context:f,particlesGenerated:h,lastNumberOfPieces:_}=this,{run:p,recycle:g,numberOfPieces:T,debug:b,tweenFunction:R,tweenDuration:z}=this.getOptions();if(!p)return!1;const H=this.particles.length,Y=g?H:h,W=Date.now();if(Y<T){_!==T&&(this.tweenInitTime=W,this.lastNumberOfPieces=T);const{tweenInitTime:me}=this,de=W-me>z?z:Math.max(0,W-me),De=R(de,Y,T,z),gt=Math.round(De-Y);for(let ae=0;ae<gt;ae++)this.particles.push(this.getParticle());this.particlesGenerated+=gt}return b&&(f.font="12px sans-serif",f.fillStyle="#333",f.textAlign="right",f.fillText(`Particles: ${H}`,o.width-10,o.height-20)),this.particles.forEach((me,de)=>{me.update(),(me.y>o.height||me.y<-100||me.x>o.width+100||me.x<-100)&&(g&&Y<=T?this.particles[de]=this.getParticle():this.removeParticleAt(de))}),H>0||Y<T},this.canvas=n;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=l}}const Qc={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:N0.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class U0{constructor(n,l){this.lastFrameTime=Date.now(),this.setOptionsWithDefaults=o=>{const f={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...f,...Qc,...o},Object.assign(this,o.confettiSource)},this.update=()=>{const{options:{run:o,onConfettiComplete:f,frameRate:h},canvas:_,context:p}=this;if(h){const g=Date.now(),T=g-this.lastFrameTime;if(T<1e3/h){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=g-T%h}o&&(p.fillStyle="white",p.clearRect(0,0,_.width,_.height)),this.generator.animate()?this.rafId=requestAnimationFrame(this.update):(f&&typeof f=="function"&&this.generator.particlesGenerated>0&&f.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=n;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new z0(this.canvas,()=>this.options),this.options=l,this.update()}get options(){return this._options}set options(n){var o,f;const l=(o=this._options)==null?void 0:o.run,r=(f=this._options)==null?void 0:f.recycle;this.setOptionsWithDefaults(n),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof n.recycle=="boolean"&&n.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof n.run=="boolean"&&n.run&&l===!1&&this.update()}}const H0=br.createRef();class Xc extends br.Component{constructor(n){super(n),this.canvas=br.createRef(),this.canvas=n.canvasRef||H0}componentDidMount(){if(this.canvas.current){const n=dc(this.props)[0];this.confetti=new U0(this.canvas.current,n)}}componentDidUpdate(){const n=dc(this.props)[0];this.confetti&&(this.confetti.options=n)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[n,l]=dc(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...l.style};return ft.jsx("canvas",{width:n.width,height:n.height,ref:this.canvas,...l,style:r})}}Xc.defaultProps={...Qc};Xc.displayName="ReactConfetti";function dc(s){const n={},l={},r={},o=[...Object.keys(Qc),"confettiSource","drawShape","onConfettiComplete","frameRate"],f=["canvasRef"];for(const h in s){const _=s[h];o.includes(h)?n[h]=_:f.includes(h)?f[h]=_:r[h]=_}return[n,r,l]}const L0=br.forwardRef((s,n)=>ft.jsx(Xc,{canvasRef:n,...s}));var Tm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(s,n){if(!s)throw Nl(n)},Nl=function(s){return new Error("Firebase Database ("+vg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},B0=function(s){const n=[];let l=0,r=0;for(;l<s.length;){const o=s[l++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[l++];n[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[l++],h=s[l++],_=s[l++],p=((o&7)<<18|(f&63)<<12|(h&63)<<6|_&63)-65536;n[r++]=String.fromCharCode(55296+(p>>10)),n[r++]=String.fromCharCode(56320+(p&1023))}else{const f=s[l++],h=s[l++];n[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Kc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const f=s[o],h=o+1<s.length,_=h?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,T=f>>2,b=(f&3)<<4|_>>4;let R=(_&15)<<2|g>>6,z=g&63;p||(z=64,h||(R=64)),r.push(l[T],l[b],l[R],l[z])}return r.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(yg(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):B0(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const f=l[s.charAt(o++)],_=o<s.length?l[s.charAt(o)]:0;++o;const g=o<s.length?l[s.charAt(o)]:64;++o;const b=o<s.length?l[s.charAt(o)]:64;if(++o,f==null||_==null||g==null||b==null)throw new I0;const R=f<<2|_>>4;if(r.push(R),g!==64){const z=_<<4&240|g>>2;if(r.push(z),b!==64){const H=g<<6&192|b;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class I0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Eg=function(s){const n=yg(s);return Kc.encodeByteArray(n,!0)},Tr=function(s){return Eg(s).replace(/\./g,"")},Ac=function(s){try{return Kc.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(s){return Sg(void 0,s)}function Sg(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!k0(l)||(s[l]=Sg(s[l],n[l]));return s}function k0(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=()=>Y0().__FIREBASE_DEFAULTS__,V0=()=>{if(typeof process>"u"||typeof Tm>"u")return;const s=Tm.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},j0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&Ac(s[1]);return n&&JSON.parse(n)},bg=()=>{try{return G0()||V0()||j0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Q0=s=>{var n,l;return(l=(n=bg())===null||n===void 0?void 0:n.emulatorHosts)===null||l===void 0?void 0:l[s]},X0=s=>{const n=Q0(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},Tg=()=>{var s;return(s=bg())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Tr(JSON.stringify(l)),Tr(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F0())}function Z0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W0(){return vg.NODE_ADMIN===!0}function P0(){try{return typeof indexedDB=="object"}catch{return!1}}function J0(){return new Promise((s,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{var f;n(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="FirebaseError";class $s extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=$0,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ag.prototype.create)}}class Ag{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?eE(f,r):"Error",_=`${this.serviceName}: ${h} (${o}).`;return new $s(o,_,r)}}function eE(s,n){return s.replace(tE,(l,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const tE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(s){return JSON.parse(s)}function Fe(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=function(s){let n={},l={},r={},o="";try{const f=s.split(".");n=Vs(Ac(f[0])||""),l=Vs(Ac(f[1])||""),o=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:o}},nE=function(s){const n=Rg(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},iE=function(s){const n=Rg(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function Al(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Cm(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Cr(s,n,l){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=n.call(l,s[o],o,s));return r}function Rc(s,n){if(s===n)return!0;const l=Object.keys(s),r=Object.keys(n);for(const o of l){if(!r.includes(o))return!1;const f=s[o],h=n[o];if(Am(f)&&Am(h)){if(!Rc(f,h))return!1}else if(f!==h)return!1}for(const o of r)if(!l.includes(o))return!1;return!0}function Am(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(s){const n=[];for(const[l,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)r[b]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let b=0;b<16;b++)r[b]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let b=16;b<80;b++){const R=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(R<<1|R>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],_=this.chain_[3],p=this.chain_[4],g,T;for(let b=0;b<80;b++){b<40?b<20?(g=_^f&(h^_),T=1518500249):(g=f^h^_,T=1859775393):b<60?(g=f&h|_&(f|h),T=2400959708):(g=f^h^_,T=3395469782);const R=(o<<5|o>>>27)+g+p+T+r[b]&4294967295;p=_,_=h,h=(f<<30|f>>>2)&4294967295,f=o,o=R}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+_&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<l;){if(h===0)for(;o<=r;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<l;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[o]>>f&255,++r;return n}}function Fc(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const f=o-55296;r++,U(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;o=65536+(f<<10)+h}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},Yr=function(s){let n=0;for(let l=0;l<s.length;l++){const r=s.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(s){return s&&s._delegate?s._delegate:s}class js{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new kr;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){var l;const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),o=(l=n==null?void 0:n.optional)!==null&&l!==void 0?l:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(oE(n))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(n=Oi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Oi){return this.instances.has(n)}getOptions(n=Oi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);r===_&&h.resolve(o)}return o}onInit(n,l){var r;const o=this.normalizeInstanceIdentifier(l),f=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;f.add(n),this.onInitCallbacks.set(o,f);const h=this.instances.get(o);return h&&n(h,o),()=>{f.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const o of r)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uE(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Oi){return this.component?this.component.multipleInstances?n:Oi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uE(s){return s===Oi?void 0:s}function oE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new rE(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Te||(Te={}));const fE={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},hE=Te.INFO,dE={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},_E=(s,n,...l)=>{if(n<s.logLevel)return;const r=new Date().toISOString(),o=dE[n];if(o)console[o](`[${r}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Dg{constructor(n){this.name=n,this._logLevel=hE,this._logHandler=_E,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Te))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?fE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...n),this._logHandler(this,Te.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...n),this._logHandler(this,Te.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...n),this._logHandler(this,Te.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...n),this._logHandler(this,Te.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...n),this._logHandler(this,Te.ERROR,...n)}}const mE=(s,n)=>n.some(l=>s instanceof l);let Rm,Dm;function gE(){return Rm||(Rm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pE(){return Dm||(Dm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Og=new WeakMap,Dc=new WeakMap,Ng=new WeakMap,_c=new WeakMap,Zc=new WeakMap;function vE(s){const n=new Promise((l,r)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",h)},f=()=>{l(ei(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&Og.set(l,s)}).catch(()=>{}),Zc.set(n,s),n}function yE(s){if(Dc.has(s))return;const n=new Promise((l,r)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",h),s.removeEventListener("abort",h)},f=()=>{l(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",h),s.addEventListener("abort",h)});Dc.set(s,n)}let Oc={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Dc.get(s);if(n==="objectStoreNames")return s.objectStoreNames||Ng.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ei(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function EE(s){Oc=s(Oc)}function SE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=s.call(mc(this),n,...l);return Ng.set(r,n.sort?n.sort():[n]),ei(r)}:pE().includes(s)?function(...n){return s.apply(mc(this),n),ei(Og.get(this))}:function(...n){return ei(s.apply(mc(this),n))}}function bE(s){return typeof s=="function"?SE(s):(s instanceof IDBTransaction&&yE(s),mE(s,gE())?new Proxy(s,Oc):s)}function ei(s){if(s instanceof IDBRequest)return vE(s);if(_c.has(s))return _c.get(s);const n=bE(s);return n!==s&&(_c.set(s,n),Zc.set(n,s)),n}const mc=s=>Zc.get(s);function TE(s,n,{blocked:l,upgrade:r,blocking:o,terminated:f}={}){const h=indexedDB.open(s,n),_=ei(h);return r&&h.addEventListener("upgradeneeded",p=>{r(ei(h.result),p.oldVersion,p.newVersion,ei(h.transaction),p)}),l&&h.addEventListener("blocked",p=>l(p.oldVersion,p.newVersion,p)),_.then(p=>{f&&p.addEventListener("close",()=>f()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),_}const CE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],gc=new Map;function Om(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(gc.get(n))return gc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,o=AE.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(o||CE.includes(l)))return;const f=async function(h,..._){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(_.shift())),(await Promise.all([g[l](..._),o&&p.done]))[0]};return gc.set(n,f),f}EE(s=>({...s,get:(n,l,r)=>Om(n,l)||s.get(n,l,r),has:(n,l)=>!!Om(n,l)||s.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(DE(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function DE(s){const n=s.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Nc="@firebase/app",Nm="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Dg("@firebase/app"),OE="@firebase/app-compat",NE="@firebase/analytics-compat",ME="@firebase/analytics",wE="@firebase/app-check-compat",xE="@firebase/app-check",zE="@firebase/auth",UE="@firebase/auth-compat",HE="@firebase/database",LE="@firebase/data-connect",BE="@firebase/database-compat",IE="@firebase/functions",qE="@firebase/functions-compat",kE="@firebase/installations",YE="@firebase/installations-compat",GE="@firebase/messaging",VE="@firebase/messaging-compat",jE="@firebase/performance",QE="@firebase/performance-compat",XE="@firebase/remote-config",KE="@firebase/remote-config-compat",FE="@firebase/storage",ZE="@firebase/storage-compat",WE="@firebase/firestore",PE="@firebase/vertexai",JE="@firebase/firestore-compat",$E="firebase",eS="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc="[DEFAULT]",tS={[Nc]:"fire-core",[OE]:"fire-core-compat",[ME]:"fire-analytics",[NE]:"fire-analytics-compat",[xE]:"fire-app-check",[wE]:"fire-app-check-compat",[zE]:"fire-auth",[UE]:"fire-auth-compat",[HE]:"fire-rtdb",[LE]:"fire-data-connect",[BE]:"fire-rtdb-compat",[IE]:"fire-fn",[qE]:"fire-fn-compat",[kE]:"fire-iid",[YE]:"fire-iid-compat",[GE]:"fire-fcm",[VE]:"fire-fcm-compat",[jE]:"fire-perf",[QE]:"fire-perf-compat",[XE]:"fire-rc",[KE]:"fire-rc-compat",[FE]:"fire-gcs",[ZE]:"fire-gcs-compat",[WE]:"fire-fst",[JE]:"fire-fst-compat",[PE]:"fire-vertex","fire-js":"fire-js",[$E]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Map,nS=new Map,wc=new Map;function Mm(s,n){try{s.container.addComponent(n)}catch(l){bn.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Rr(s){const n=s.name;if(wc.has(n))return bn.debug(`There were multiple attempts to register component ${n}.`),!1;wc.set(n,s);for(const l of Ar.values())Mm(l,s);for(const l of nS.values())Mm(l,s);return!0}function iS(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function lS(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new Ag("app","Firebase",sS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(n,l,r){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},l),this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=eS;function Mg(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const r=Object.assign({name:Mc,automaticDataCollectionEnabled:!1},n),o=r.name;if(typeof o!="string"||!o)throw ti.create("bad-app-name",{appName:String(o)});if(l||(l=Tg()),!l)throw ti.create("no-options");const f=Ar.get(o);if(f){if(Rc(l,f.options)&&Rc(r,f.config))return f;throw ti.create("duplicate-app",{appName:o})}const h=new cE(o);for(const p of wc.values())h.addComponent(p);const _=new aS(l,r,h);return Ar.set(o,_),_}function uS(s=Mc){const n=Ar.get(s);if(!n&&s===Mc&&Tg())return Mg();if(!n)throw ti.create("no-app",{appName:s});return n}function Sl(s,n,l){var r;let o=(r=tS[s])!==null&&r!==void 0?r:s;l&&(o+=`-${l}`);const f=o.match(/\s|\//),h=n.match(/\s|\//);if(f||h){const _=[`Unable to register library "${o}" with version "${n}":`];f&&_.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&h&&_.push("and"),h&&_.push(`version name "${n}" contains illegal characters (whitespace or "/")`),bn.warn(_.join(" "));return}Rr(new js(`${o}-version`,()=>({library:o,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firebase-heartbeat-database",cS=1,Qs="firebase-heartbeat-store";let pc=null;function wg(){return pc||(pc=TE(oS,cS,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Qs)}catch(l){console.warn(l)}}}}).catch(s=>{throw ti.create("idb-open",{originalErrorMessage:s.message})})),pc}async function fS(s){try{const l=(await wg()).transaction(Qs),r=await l.objectStore(Qs).get(xg(s));return await l.done,r}catch(n){if(n instanceof $s)bn.warn(n.message);else{const l=ti.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});bn.warn(l.message)}}}async function wm(s,n){try{const r=(await wg()).transaction(Qs,"readwrite");await r.objectStore(Qs).put(n,xg(s)),await r.done}catch(l){if(l instanceof $s)bn.warn(l.message);else{const r=ti.create("idb-set",{originalErrorMessage:l==null?void 0:l.message});bn.warn(r.message)}}}function xg(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=1024,dS=30;class _S{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new gS(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,l;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=xm();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((l=this._heartbeatsCache)===null||l===void 0?void 0:l.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>dS){const h=pS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bn.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const l=xm(),{heartbeatsToSend:r,unsentEntries:o}=mS(this._heartbeatsCache.heartbeats),f=Tr(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=l,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(l){return bn.warn(l),""}}}function xm(){return new Date().toISOString().substring(0,10)}function mS(s,n=hS){const l=[];let r=s.slice();for(const o of s){const f=l.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),zm(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),zm(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class gS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P0()?J0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await fS(this.app);return l!=null&&l.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var l;if(await this._canUseIndexedDBPromise){const o=await this.read();return wm(this.app,{lastSentHeartbeatDate:(l=n.lastSentHeartbeatDate)!==null&&l!==void 0?l:o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var l;if(await this._canUseIndexedDBPromise){const o=await this.read();return wm(this.app,{lastSentHeartbeatDate:(l=n.lastSentHeartbeatDate)!==null&&l!==void 0?l:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}else return}}function zm(s){return Tr(JSON.stringify({version:2,heartbeats:s})).length}function pS(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let r=1;r<s.length;r++)s[r].date<l&&(l=s[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(s){Rr(new js("platform-logger",n=>new RE(n),"PRIVATE")),Rr(new js("heartbeat",n=>new _S(n),"PRIVATE")),Sl(Nc,Nm,s),Sl(Nc,Nm,"esm2017"),Sl("fire-js","")}vS("");var yS="firebase",ES="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl(yS,ES,"app");var Um={};const Hm="@firebase/database",Lm="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg="";function SS(s){zg=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Fe(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:Vs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return An(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new bS(n)}}catch{}return new TS},Mi=Ug("localStorage"),CS=Ug("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Dg("@firebase/database"),AS=function(){let s=1;return function(){return s++}}(),Hg=function(s){const n=aE(s),l=new sE;l.update(n);const r=l.digest();return Kc.encodeByteArray(r)},ea=function(...s){let n="";for(let l=0;l<s.length;l++){const r=s[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=ea.apply(null,r):typeof r=="object"?n+=Fe(r):n+=r,n+=" "}return n};let Is=null,Bm=!0;const RS=function(s,n){U(!0,"Can't turn on custom loggers persistently."),bl.logLevel=Te.VERBOSE,Is=bl.log.bind(bl)},nt=function(...s){if(Bm===!0&&(Bm=!1,Is===null&&CS.get("logging_enabled")===!0&&RS()),Is){const n=ea.apply(null,s);Is(n)}},ta=function(s){return function(...n){nt(s,...n)}},xc=function(...s){const n="FIREBASE INTERNAL ERROR: "+ea(...s);bl.error(n)},Tn=function(...s){const n=`FIREBASE FATAL ERROR: ${ea(...s)}`;throw bl.error(n),new Error(n)},_t=function(...s){const n="FIREBASE WARNING: "+ea(...s);bl.warn(n)},DS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lg=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},OS=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Rl="[MIN_NAME]",xi="[MAX_NAME]",wl=function(s,n){if(s===n)return 0;if(s===Rl||n===xi)return-1;if(n===Rl||s===xi)return 1;{const l=Im(s),r=Im(n);return l!==null?r!==null?l-r===0?s.length-n.length:l-r:-1:r!==null?1:s<n?-1:1}},NS=function(s,n){return s===n?0:s<n?-1:1},zs=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+Fe(n))},Wc=function(s){if(typeof s!="object"||s===null)return Fe(s);const n=[];for(const r in s)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=Fe(n[r]),l+=":",l+=Wc(s[n[r]]);return l+="}",l},Bg=function(s,n){const l=s.length;if(l<=n)return[s];const r=[];for(let o=0;o<l;o+=n)o+n>l?r.push(s.substring(o,l)):r.push(s.substring(o,o+n));return r};function mt(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const Ig=function(s){U(!Lg(s),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let o,f,h,_,p;s===0?(f=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(_=Math.min(Math.floor(Math.log(s)/Math.LN2),r),f=_+r,h=Math.round(s*Math.pow(2,l-_)-Math.pow(2,l))):(f=0,h=Math.round(s/Math.pow(2,1-r-l))));const g=[];for(p=l;p;p-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(p=n;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(o?1:0),g.reverse();const T=g.join("");let b="";for(p=0;p<64;p+=8){let R=parseInt(T.substr(p,8),2).toString(16);R.length===1&&(R="0"+R),b=b+R}return b.toLowerCase()},MS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xS(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const r=new Error(s+" at "+n._path.toString()+": "+l);return r.code=s.toUpperCase(),r}const zS=new RegExp("^-?(0*)\\d{1,10}$"),US=-2147483648,HS=2147483647,Im=function(s){if(zS.test(s)){const n=Number(s);if(n>=US&&n<=HS)return n}return null},xl=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw _t("Exception was thrown by user callback.",l),n},Math.floor(0))}},LS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qs=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,lS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l==null?void 0:l.getImmediate({optional:!0}),this.appCheck||l==null||l.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){var l;(l=this.appCheckProvider)===null||l===void 0||l.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){_t(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_t(n)}}class Sr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Sr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc="5",qg="v",kg="s",Yg="r",Gg="f",Vg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jg="ls",Qg="p",zc="ac",Xg="websocket",Kg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(n,l,r,o,f=!1,h="",_=!1,p=!1){this.secure=l,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mi.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Mi.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function qS(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Zg(s,n,l){U(typeof n=="string","typeof type must == string"),U(typeof l=="object","typeof params must == object");let r;if(n===Xg)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===Kg)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);qS(s)&&(l.ns=s.namespace);const o=[];return mt(l,(f,h)=>{o.push(f+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.counters_={}}incrementCounter(n,l=1){An(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return q0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={},yc={};function Jc(s){const n=s.toString();return vc[n]||(vc[n]=new kS),vc[n]}function YS(s,n){const l=s.toString();return yc[l]||(yc[l]=n()),yc[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&xl(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="start",VS="close",jS="pLPCommand",QS="pRTLPCB",Wg="id",Pg="pw",Jg="ser",XS="cb",KS="seg",FS="ts",ZS="d",WS="dframe",$g=1870,ep=30,PS=$g-ep,JS=25e3,$S=3e4;class El{constructor(n,l,r,o,f,h,_){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ta(n),this.stats_=Jc(l),this.urlFn=p=>(this.appCheckToken&&(p[zc]=this.appCheckToken),Zg(l,Kg,p))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new GS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($S)),OS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $c((...f)=>{const[h,_,p,g,T]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===qm)this.id=_,this.password=p;else if(h===VS)_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,_]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const r={};r[qm]="t",r[Jg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[XS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[qg]=Pc,this.transportSessionId&&(r[kg]=this.transportSessionId),this.lastSessionId&&(r[jg]=this.lastSessionId),this.applicationId&&(r[Qg]=this.applicationId),this.appCheckToken&&(r[zc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Vg.test(location.hostname)&&(r[Yg]=Gg);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){El.forceAllow_=!0}static forceDisallow(){El.forceDisallow_=!0}static isAvailable(){return El.forceAllow_?!0:!El.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MS()&&!wS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Fe(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Eg(l),o=Bg(r,PS);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[WS]="t",r[Wg]=n,r[Pg]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Fe(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class $c{constructor(n,l,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AS(),window[jS+this.uniqueCallbackIdentifier]=n,window[QS+this.uniqueCallbackIdentifier]=l,this.myIFrame=$c.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){nt("frame writing exception"),_.stack&&nt(_.stack),nt(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||nt("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Wg]=this.myID,n[Pg]=this.myPW,n[Jg]=this.currentSerial;let l=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ep+r.length<=$g;){const h=this.pendingSegs.shift();r=r+"&"+KS+o+"="+h.seg+"&"+FS+o+"="+h.ts+"&"+ZS+o+"="+h.d,o++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(r,Math.floor(JS)),f=()=>{clearTimeout(o),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{nt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=16384,t1=45e3;let Dr=null;typeof MozWebSocket<"u"?Dr=MozWebSocket:typeof WebSocket<"u"&&(Dr=WebSocket);class Gt{constructor(n,l,r,o,f,h,_){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ta(this.connId),this.stats_=Jc(l),this.connURL=Gt.connectionURL_(l,h,_,o,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,o,f){const h={};return h[qg]=Pc,typeof location<"u"&&location.hostname&&Vg.test(location.hostname)&&(h[Yg]=Gg),l&&(h[kg]=l),r&&(h[jg]=r),o&&(h[zc]=o),f&&(h[Qg]=f),Zg(n,Xg,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mi.set("previous_websocket_failure",!0);try{let r;W0(),this.mySock=new Dr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Gt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Dr!==null&&!Gt.forceDisallow_}static previouslyFailed(){return Mi.isInMemoryStorage||Mi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Mi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=Vs(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(U(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=Fe(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Bg(l,e1);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(t1))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gt.responsesRequiredToBeHealthy=2;Gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static get ALL_TRANSPORTS(){return[El,Gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=Gt&&Gt.isAvailable();let r=l&&!Gt.previouslyFailed();if(n.webSocketOnly&&(l||_t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Gt];else{const o=this.transports_=[];for(const f of Xs.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Xs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=6e4,i1=5e3,l1=10*1024,s1=100*1024,Ec="t",km="d",a1="s",Ym="r",r1="e",Gm="o",Vm="a",jm="n",Qm="p",u1="h";class o1{constructor(n,l,r,o,f,h,_,p,g,T){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ta("c:"+this.id+":"),this.transportManager_=new Xs(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=qs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>s1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>l1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Ec in n){const l=n[Ec];l===Vm?this.upgradeIfSecondaryHealthy_():l===Ym?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Gm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=zs("t",n),r=zs("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Qm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=zs("t",n),r=zs("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=zs(Ec,n);if(km in n){const r=n[km];if(l===u1){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===jm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===a1?this.onConnectionShutdown_(r):l===Ym?this.onReset_(r):l===r1?xc("Server Error: "+r):l===Gm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xc("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Pc!==r&&_t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),qs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(n1))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(i1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Qm,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{put(n,l,r,o){}merge(n,l,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(n){this.allowedEvents_=n,this.listeners_={},U(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const o=this.getInitialEvent(n);o&&l.apply(r,o)}off(n,l,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!r||r===o[f].context)){o.splice(f,1);return}}validateEventType_(n){U(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends np{static getInstance(){return new Or}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return U(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=32,Km=768;class ye{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function he(){return new ye("")}function te(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ii(s){return s.pieces_.length-s.pieceNum_}function Ce(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new ye(s.pieces_,n)}function ip(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function c1(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function lp(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function sp(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new ye(n,0)}function Ye(s,n){const l=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)l.push(s.pieces_[r]);if(n instanceof ye)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&l.push(r[o])}return new ye(l,0)}function le(s){return s.pieceNum_>=s.pieces_.length}function ht(s,n){const l=te(s),r=te(n);if(l===null)return n;if(l===r)return ht(Ce(s),Ce(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function ef(s,n){if(ii(s)!==ii(n))return!1;for(let l=s.pieceNum_,r=n.pieceNum_;l<=s.pieces_.length;l++,r++)if(s.pieces_[l]!==n.pieces_[r])return!1;return!0}function Vt(s,n){let l=s.pieceNum_,r=n.pieceNum_;if(ii(s)>ii(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class f1{constructor(n,l){this.errorPrefix_=l,this.parts_=lp(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yr(this.parts_[r]);ap(this)}}function h1(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Yr(n),ap(s)}function d1(s){const n=s.parts_.pop();s.byteLength_-=Yr(n),s.parts_.length>0&&(s.byteLength_-=1)}function ap(s){if(s.byteLength_>Km)throw new Error(s.errorPrefix_+"has a key path longer than "+Km+" bytes ("+s.byteLength_+").");if(s.parts_.length>Xm)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Xm+") or object contains a cycle "+Ni(s))}function Ni(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends np{static getInstance(){return new tf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return U(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=1e3,_1=60*5*1e3,Fm=30*1e3,m1=1.3,g1=3e4,p1="server_kill",Zm=3;class Sn extends tp{constructor(n,l,r,o,f,h,_,p){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=_,this.authOverride_=p,this.id=Sn.nextPersistentConnectionId_++,this.log_=ta("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Us,this.maxReconnectDelay_=_1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Or.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_(Fe(f)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();const l=new kr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const _=h.d;h.s==="ok"?l.resolve(_):l.reject(_)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const _={onComplete:o,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+r+" for "+o);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,_=>{const p=_.d,g=_.s;Sn.warnOnListenWarnings_(p,l),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",_),g!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(g,p))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&An(n,"w")){const r=Al(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();_t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||iE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Fm)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=nE(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,l)}sendUnlisten_(n,l,r,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";o&&(f.q=r,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,o){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,l,r,o){this.putInternal("p",n,l,r,o)}merge(n,l,r,o){this.putInternal("m",n,l,r,o)}putInternal(n,l,r,o,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const _=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(_):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Fe(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):xc("Unrecognized action received from server: "+Fe(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>g1&&(this.reconnectDelay_=Us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*m1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Sn.nextConnectionId_++,f=this.lastSessionId;let h=!1,_=null;const p=function(){_?_.close():(h=!0,r())},g=function(b){U(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(b)};this.realtime_={close:p,sendRequest:g};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,R]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);h?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=R&&R.token,_=new o1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,z=>{_t(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(p1)},f))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&_t(b),p())}}}interrupt(n){nt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){nt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Cm(this.interruptReasons_)&&(this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>Wc(f)).join("$"):r="default";const o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const r=new ye(n).toString();let o;if(this.listens.has(r)){const f=this.listens.get(r);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,l){nt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zm&&(this.reconnectDelay_=Fm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){nt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+zg.replace(/\./g,"-")]=1,Cg()?n["framework.cordova"]=1:Z0()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Or.getInstance().currentlyOnline();return Cm(this.interruptReasons_)&&n}}Sn.nextPersistentConnectionId_=0;Sn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ne(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new ne(Rl,n),o=new ne(Rl,l);return this.compare(r,o)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr;class rp extends Gr{static get __EMPTY_NODE(){return yr}static set __EMPTY_NODE(n){yr=n}compare(n,l){return wl(n.name,l.name)}isDefinedOn(n){throw Nl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ne.MIN}maxPost(){return new ne(xi,yr)}makePost(n,l){return U(typeof n=="string","KeyIndex indexValue must always be a string."),new ne(n,yr)}toString(){return".key"}}const Tl=new rp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(n,l,r,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Ke{constructor(n,l,r,o,f){this.key=n,this.value=l,this.color=r??Ke.RED,this.left=o??dt.EMPTY_NODE,this.right=f??dt.EMPTY_NODE}copy(n,l,r,o,f){return new Ke(n??this.key,l??this.value,r??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let o=this;const f=r(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,r),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,o;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return dt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class v1{copy(n,l,r,o,f){return this}insert(n,l,r){return new Ke(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(n,l=dt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new dt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(n){return new dt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,o=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Er(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Er(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Er(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Er(this.root_,null,this.comparator_,!0,n)}}dt.EMPTY_NODE=new v1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(s,n){return wl(s.name,n.name)}function nf(s,n){return wl(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;function E1(s){Uc=s}const up=function(s){return typeof s=="number"?"number:"+Ig(s):"string:"+s},op=function(s){if(s.isLeafNode()){const n=s.val();U(typeof n=="string"||typeof n=="number"||typeof n=="object"&&An(n,".sv"),"Priority must be a string or number.")}else U(s===Uc||s.isEmpty(),"priority of unexpected type.");U(s===Uc||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm;class Xe{static set __childrenNodeConstructor(n){Wm=n}static get __childrenNodeConstructor(){return Wm}constructor(n,l=Xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),op(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Xe(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Xe.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return le(n)?this:te(n)===".priority"?this.priorityNode_:Xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:Xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=te(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||ii(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+up(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Ig(this.value_):n+=this.value_,this.lazyHash_=Hg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Xe.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Xe.__childrenNodeConstructor?-1:(U(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,o=Xe.VALUE_TYPE_ORDER.indexOf(l),f=Xe.VALUE_TYPE_ORDER.indexOf(r);return U(o>=0,"Unknown leaf type: "+l),U(f>=0,"Unknown leaf type: "+r),o===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}Xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp,fp;function S1(s){cp=s}function b1(s){fp=s}class T1 extends Gr{compare(n,l){const r=n.node.getPriority(),o=l.node.getPriority(),f=r.compareTo(o);return f===0?wl(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(xi,new Xe("[PRIORITY-POST]",fp))}makePost(n,l){const r=cp(n);return new ne(l,new Xe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ze=new T1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=Math.log(2);class A1{constructor(n){const l=f=>parseInt(Math.log(f)/C1,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=r(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Nr=function(s,n,l,r){s.sort(n);const o=function(p,g){const T=g-p;let b,R;if(T===0)return null;if(T===1)return b=s[p],R=l?l(b):b,new Ke(R,b.node,Ke.BLACK,null,null);{const z=parseInt(T/2,10)+p,H=o(p,z),Y=o(z+1,g);return b=s[z],R=l?l(b):b,new Ke(R,b.node,Ke.BLACK,H,Y)}},f=function(p){let g=null,T=null,b=s.length;const R=function(H,Y){const W=b-H,me=b;b-=H;const de=o(W+1,me),De=s[W],gt=l?l(De):De;z(new Ke(gt,De.node,Y,null,de))},z=function(H){g?(g.left=H,g=H):(T=H,g=H)};for(let H=0;H<p.count;++H){const Y=p.nextBitIsOne(),W=Math.pow(2,p.count-(H+1));Y?R(W,Ke.BLACK):(R(W,Ke.BLACK),R(W,Ke.RED))}return T},h=new A1(s.length),_=f(h);return new dt(r||n,_)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc;const yl={};class En{static get Default(){return U(yl&&ze,"ChildrenNode.ts has not been loaded"),Sc=Sc||new En({".priority":yl},{".priority":ze}),Sc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Al(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof dt?l:null}hasIndex(n){return An(this.indexSet_,n.toString())}addIndex(n,l){U(n!==Tl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const f=l.getIterator(ne.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let _;o?_=Nr(r,n.getCompare()):_=yl;const p=n.toString(),g=Object.assign({},this.indexSet_);g[p]=n;const T=Object.assign({},this.indexes_);return T[p]=_,new En(T,g)}addToIndexes(n,l){const r=Cr(this.indexes_,(o,f)=>{const h=Al(this.indexSet_,f);if(U(h,"Missing index implementation for "+f),o===yl)if(h.isDefinedOn(n.node)){const _=[],p=l.getIterator(ne.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&_.push(g),g=p.getNext();return _.push(n),Nr(_,h.getCompare())}else return yl;else{const _=l.get(n.name);let p=o;return _&&(p=p.remove(new ne(n.name,_))),p.insert(n,n.node)}});return new En(r,this.indexSet_)}removeFromIndexes(n,l){const r=Cr(this.indexes_,o=>{if(o===yl)return o;{const f=l.get(n.name);return f?o.remove(new ne(n.name,f)):o}});return new En(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs;class K{static get EMPTY_NODE(){return Hs||(Hs=new K(new dt(nf),null,En.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&op(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hs}updatePriority(n){return this.children_.isEmpty()?this:new K(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Hs:l}}getChild(n){const l=te(n);return l===null?this:this.getImmediateChild(l).getChild(Ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(U(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new ne(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?Hs:this.priorityNode_;return new K(o,h,f)}}updateChild(n,l){const r=te(n);if(r===null)return l;{U(te(n)!==".priority"||ii(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ce(n),l);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,o=0,f=!0;if(this.forEachChild(ze,(h,_)=>{l[h]=_.val(n),r++,f&&K.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*r){const h=[];for(const _ in l)h[_]=l[_];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+up(this.getPriority().val())+":"),this.forEachChild(ze,(l,r)=>{const o=r.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":Hg(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const o=this.resolveIndex_(r);if(o){const f=o.getPredecessorKey(new ne(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ne(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ne(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ne.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ne.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===na?-1:0}withIndex(n){if(n===Tl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new K(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Tl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(ze),o=l.getIterator(ze);let f=r.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Tl?null:this.indexMap_.get(n.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class R1 extends K{constructor(){super(new dt(nf),K.EMPTY_NODE,En.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return K.EMPTY_NODE}isEmpty(){return!1}}const na=new R1;Object.defineProperties(ne,{MIN:{value:new ne(Rl,K.EMPTY_NODE)},MAX:{value:new ne(xi,na)}});rp.__EMPTY_NODE=K.EMPTY_NODE;Xe.__childrenNodeConstructor=K;E1(na);b1(na);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=!0;function Je(s,n=null){if(s===null)return K.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),U(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new Xe(l,Je(n))}if(!(s instanceof Array)&&D1){const l=[];let r=!1;if(mt(s,(h,_)=>{if(h.substring(0,1)!=="."){const p=Je(_);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),l.push(new ne(h,p)))}}),l.length===0)return K.EMPTY_NODE;const f=Nr(l,y1,h=>h.name,nf);if(r){const h=Nr(l,ze.getCompare());return new K(f,Je(n),new En({".priority":h},{".priority":ze}))}else return new K(f,Je(n),En.Default)}else{let l=K.EMPTY_NODE;return mt(s,(r,o)=>{if(An(s,r)&&r.substring(0,1)!=="."){const f=Je(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(Je(n))}}S1(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Gr{constructor(n){super(),this.indexPath_=n,U(!le(n)&&te(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),o=this.extractChild(l.node),f=r.compareTo(o);return f===0?wl(n.name,l.name):f}makePost(n,l){const r=Je(n),o=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(l,o)}maxPost(){const n=K.EMPTY_NODE.updateChild(this.indexPath_,na);return new ne(xi,n)}toString(){return lp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends Gr{compare(n,l){const r=n.node.compareTo(l.node);return r===0?wl(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(n,l){const r=Je(n);return new ne(l,r)}toString(){return".value"}}const M1=new N1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(s){return{type:"value",snapshotNode:s}}function Dl(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function Ks(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Fs(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function w1(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(n){this.index_=n}updateChild(n,l,r,o,f,h){U(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(l);return _.getChild(o).equals(r.getChild(o))&&_.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(Ks(l,_)):U(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(Dl(l,r)):h.trackChildChange(Fs(l,r,_))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(ze,(o,f)=>{l.hasChild(o)||r.trackChildChange(Ks(o,f))}),l.isLeafNode()||l.forEachChild(ze,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||r.trackChildChange(Fs(o,f,h))}else r.trackChildChange(Dl(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?K.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(n){this.indexedFilter_=new lf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Zs.getStartPost_(n),this.endPost_=Zs.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,o,f,h){return this.matches(new ne(l,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,o,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=K.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(K.EMPTY_NODE);const f=this;return l.forEachChild(ze,(h,_)=>{f.matches(new ne(h,_))||(o=o.updateImmediateChild(h,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zs(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,o,f,h){return this.rangedFilter_.matches(new ne(l,r))||(r=K.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,o,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let o;if(l.isLeafNode()||l.isEmpty())o=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=K.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const _=f.getNext();if(this.withinDirectionalStart(_))if(this.withinDirectionalEnd(_))o=o.updateImmediateChild(_.name,_.node),h++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(K.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const _=f.getNext();h<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?h++:o=o.updateImmediateChild(_.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,o,f){let h;if(this.reverse_){const b=this.index_.getCompare();h=(R,z)=>b(z,R)}else h=this.index_.getCompare();const _=n;U(_.numChildren()===this.limit_,"");const p=new ne(l,r),g=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),T=this.rangedFilter_.matches(p);if(_.hasChild(l)){const b=_.getImmediateChild(l);let R=o.getChildAfterChild(this.index_,g,this.reverse_);for(;R!=null&&(R.name===l||_.hasChild(R.name));)R=o.getChildAfterChild(this.index_,R,this.reverse_);const z=R==null?1:h(R,p);if(T&&!r.isEmpty()&&z>=0)return f!=null&&f.trackChildChange(Fs(l,r,b)),_.updateImmediateChild(l,r);{f!=null&&f.trackChildChange(Ks(l,b));const Y=_.updateImmediateChild(l,K.EMPTY_NODE);return R!=null&&this.rangedFilter_.matches(R)?(f!=null&&f.trackChildChange(Dl(R.name,R.node)),Y.updateImmediateChild(R.name,R.node)):Y}}else return r.isEmpty()?n:T&&h(g,p)>=0?(f!=null&&(f.trackChildChange(Ks(g.name,g.node)),f.trackChildChange(Dl(l,r))),_.updateImmediateChild(l,r).updateImmediateChild(g.name,K.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rl}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const n=new sf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function z1(s){return s.loadsAllData()?new lf(s.getIndex()):s.hasLimit()?new x1(s):new Zs(s)}function Pm(s){const n={};if(s.isDefault())return n;let l;if(s.index_===ze?l="$priority":s.index_===M1?l="$value":s.index_===Tl?l="$key":(U(s.index_ instanceof O1,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=Fe(l),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";n[r]=Fe(s.indexStartValue_),s.startNameSet_&&(n[r]+=","+Fe(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";n[r]=Fe(s.indexEndValue_),s.endNameSet_&&(n[r]+=","+Fe(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function Jm(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==ze&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends tp{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(U(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ta("p:rest:"),this.listens_={}}listen(n,l,r,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Mr.getListenId_(n,r),_={};this.listens_[h]=_;const p=Pm(n._queryParams);this.restRequest_(f+".json",p,(g,T)=>{let b=T;if(g===404&&(b=null,g=null),g===null&&this.onDataUpdate_(f,b,!1,r),Al(this.listens_,h)===_){let R;g?g===401?R="permission_denied":R="rest_error:"+g:R="ok",o(R,null)}})}unlisten(n,l){const r=Mr.getListenId_(n,l);delete this.listens_[r]}get(n){const l=Pm(n._queryParams),r=n._path.toString(),o=new kr;return this.restRequest_(r+".json",l,(f,h)=>{let _=h;f===404&&(_=null,f=null),f===null?(this.onDataUpdate_(r,_,!1,null),o.resolve(_)):o.reject(new Error(_))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+lE(l);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(r&&_.readyState===4){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let p=null;if(_.status>=200&&_.status<300){try{p=Vs(_.responseText)}catch{_t("Failed to parse JSON response for "+h+": "+_.responseText)}r(null,p)}else _.status!==401&&_.status!==404&&_t("Got unsuccessful REST response for "+h+" Status: "+_.status),r(_.status);r=null}},_.open("GET",h,!0),_.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return{value:null,children:new Map}}function dp(s,n,l){if(le(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const r=te(n);s.children.has(r)||s.children.set(r,wr());const o=s.children.get(r);n=Ce(n),dp(o,n,l)}}function Hc(s,n,l){s.value!==null?l(n,s.value):H1(s,(r,o)=>{const f=new ye(n.toString()+"/"+r);Hc(o,f,l)})}function H1(s,n){s.children.forEach((l,r)=>{n(r,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l=Object.assign({},n);return this.last_&&mt(this.last_,(r,o)=>{l[r]=l[r]-o}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=10*1e3,B1=30*1e3,I1=5*60*1e3;class q1{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new L1(n);const r=$m+(B1-$m)*Math.random();qs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;mt(n,(o,f)=>{f>0&&An(this.statsToReport_,o)&&(l[o]=f,r=!0)}),r&&this.server_.reportStats(l),qs(this.reportStats_.bind(this),Math.floor(Math.random()*2*I1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jt||(jt={}));function _p(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function af(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rf(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=jt.ACK_USER_WRITE,this.source=_p()}operationForChild(n){if(le(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new ye(n));return new xr(he(),l,this.revert)}}else return U(te(this.path)===n,"operationForChild called for unrelated child."),new xr(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(n,l){this.source=n,this.path=l,this.type=jt.LISTEN_COMPLETE}operationForChild(n){return le(this.path)?new Ws(this.source,he()):new Ws(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=jt.OVERWRITE}operationForChild(n){return le(this.path)?new zi(this.source,he(),this.snap.getImmediateChild(n)):new zi(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=jt.MERGE}operationForChild(n){if(le(this.path)){const l=this.children.subtree(new ye(n));return l.isEmpty()?null:l.value?new zi(this.source,he(),l.value):new Ps(this.source,he(),l)}else return U(te(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ps(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(le(n))return this.isFullyInitialized()&&!this.filtered_;const l=te(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Y1(s,n,l,r){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(w1(h.childName,h.snapshotNode))}),Ls(s,o,"child_removed",n,r,l),Ls(s,o,"child_added",n,r,l),Ls(s,o,"child_moved",f,r,l),Ls(s,o,"child_changed",n,r,l),Ls(s,o,"value",n,r,l),o}function Ls(s,n,l,r,o,f){const h=r.filter(_=>_.type===l);h.sort((_,p)=>V1(s,_,p)),h.forEach(_=>{const p=G1(s,_,f);o.forEach(g=>{g.respondsTo(_.type)&&n.push(g.createEvent(p,s.query_))})})}function G1(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function V1(s,n,l){if(n.childName==null||l.childName==null)throw Nl("Should only compare child_ events.");const r=new ne(n.childName,n.snapshotNode),o=new ne(l.childName,l.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(s,n){return{eventCache:s,serverCache:n}}function ks(s,n,l,r){return Vr(new Ui(n,l,r),s.serverCache)}function mp(s,n,l,r){return Vr(s.eventCache,new Ui(n,l,r))}function Lc(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Hi(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc;const j1=()=>(bc||(bc=new dt(NS)),bc);class Ae{static fromObject(n){let l=new Ae(null);return mt(n,(r,o)=>{l=l.set(new ye(r),o)}),l}constructor(n,l=j1()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:he(),value:this.value};if(le(n))return null;{const r=te(n),o=this.children.get(r);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Ce(n),l);return f!=null?{path:Ye(new ye(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(le(n))return this;{const l=te(n),r=this.children.get(l);return r!==null?r.subtree(Ce(n)):new Ae(null)}}set(n,l){if(le(n))return new Ae(l,this.children);{const r=te(n),f=(this.children.get(r)||new Ae(null)).set(Ce(n),l),h=this.children.insert(r,f);return new Ae(this.value,h)}}remove(n){if(le(n))return this.children.isEmpty()?new Ae(null):new Ae(null,this.children);{const l=te(n),r=this.children.get(l);if(r){const o=r.remove(Ce(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new Ae(null):new Ae(this.value,f)}else return this}}get(n){if(le(n))return this.value;{const l=te(n),r=this.children.get(l);return r?r.get(Ce(n)):null}}setTree(n,l){if(le(n))return l;{const r=te(n),f=(this.children.get(r)||new Ae(null)).setTree(Ce(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Ae(this.value,h)}}fold(n){return this.fold_(he(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((o,f)=>{r[o]=f.fold_(Ye(n,o),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,he(),l)}findOnPath_(n,l,r){const o=this.value?r(l,this.value):!1;if(o)return o;if(le(n))return null;{const f=te(n),h=this.children.get(f);return h?h.findOnPath_(Ce(n),Ye(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,he(),l)}foreachOnPath_(n,l,r){if(le(n))return this;{this.value&&r(l,this.value);const o=te(n),f=this.children.get(o);return f?f.foreachOnPath_(Ce(n),Ye(l,o),r):new Ae(null)}}foreach(n){this.foreach_(he(),n)}foreach_(n,l){this.children.inorderTraversal((r,o)=>{o.foreach_(Ye(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(n){this.writeTree_=n}static empty(){return new Qt(new Ae(null))}}function Ys(s,n,l){if(le(n))return new Qt(new Ae(l));{const r=s.writeTree_.findRootMostValueAndPath(n);if(r!=null){const o=r.path;let f=r.value;const h=ht(o,n);return f=f.updateChild(h,l),new Qt(s.writeTree_.set(o,f))}else{const o=new Ae(l),f=s.writeTree_.setTree(n,o);return new Qt(f)}}}function eg(s,n,l){let r=s;return mt(l,(o,f)=>{r=Ys(r,Ye(n,o),f)}),r}function tg(s,n){if(le(n))return Qt.empty();{const l=s.writeTree_.setTree(n,new Ae(null));return new Qt(l)}}function Bc(s,n){return Li(s,n)!=null}function Li(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(ht(l.path,n)):null}function ng(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(ze,(r,o)=>{n.push(new ne(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&n.push(new ne(r,o.value))}),n}function ni(s,n){if(le(n))return s;{const l=Li(s,n);return l!=null?new Qt(new Ae(l)):new Qt(s.writeTree_.subtree(n))}}function Ic(s){return s.writeTree_.isEmpty()}function Ol(s,n){return gp(he(),s.writeTree_,n)}function gp(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let r=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(U(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=gp(Ye(s,o),f,l)}),!l.getChild(s).isEmpty()&&r!==null&&(l=l.updateChild(Ye(s,".priority"),r)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(s,n){return Ep(n,s)}function Q1(s,n,l,r,o){U(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:l,writeId:r,visible:o}),o&&(s.visibleWrites=Ys(s.visibleWrites,n,l)),s.lastWriteId=r}function X1(s,n){for(let l=0;l<s.allWrites.length;l++){const r=s.allWrites[l];if(r.writeId===n)return r}return null}function K1(s,n){const l=s.allWrites.findIndex(_=>_.writeId===n);U(l>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[l];s.allWrites.splice(l,1);let o=r.visible,f=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const _=s.allWrites[h];_.visible&&(h>=l&&F1(_,r.path)?o=!1:Vt(r.path,_.path)&&(f=!0)),h--}if(o){if(f)return Z1(s),!0;if(r.snap)s.visibleWrites=tg(s.visibleWrites,r.path);else{const _=r.children;mt(_,p=>{s.visibleWrites=tg(s.visibleWrites,Ye(r.path,p))})}return!0}else return!1}function F1(s,n){if(s.snap)return Vt(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&Vt(Ye(s.path,l),n))return!0;return!1}function Z1(s){s.visibleWrites=pp(s.allWrites,W1,he()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function W1(s){return s.visible}function pp(s,n,l){let r=Qt.empty();for(let o=0;o<s.length;++o){const f=s[o];if(n(f)){const h=f.path;let _;if(f.snap)Vt(l,h)?(_=ht(l,h),r=Ys(r,_,f.snap)):Vt(h,l)&&(_=ht(h,l),r=Ys(r,he(),f.snap.getChild(_)));else if(f.children){if(Vt(l,h))_=ht(l,h),r=eg(r,_,f.children);else if(Vt(h,l))if(_=ht(h,l),le(_))r=eg(r,he(),f.children);else{const p=Al(f.children,te(_));if(p){const g=p.getChild(Ce(_));r=Ys(r,he(),g)}}}else throw Nl("WriteRecord should have .snap or .children")}}return r}function vp(s,n,l,r,o){if(!r&&!o){const f=Li(s.visibleWrites,n);if(f!=null)return f;{const h=ni(s.visibleWrites,n);if(Ic(h))return l;if(l==null&&!Bc(h,he()))return null;{const _=l||K.EMPTY_NODE;return Ol(h,_)}}}else{const f=ni(s.visibleWrites,n);if(!o&&Ic(f))return l;if(!o&&l==null&&!Bc(f,he()))return null;{const h=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(Vt(g.path,n)||Vt(n,g.path))},_=pp(s.allWrites,h,n),p=l||K.EMPTY_NODE;return Ol(_,p)}}}function P1(s,n,l){let r=K.EMPTY_NODE;const o=Li(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(ze,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=ni(s.visibleWrites,n);return l.forEachChild(ze,(h,_)=>{const p=Ol(ni(f,new ye(h)),_);r=r.updateImmediateChild(h,p)}),ng(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=ni(s.visibleWrites,n);return ng(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function J1(s,n,l,r,o){U(r||o,"Either existingEventSnap or existingServerSnap must exist");const f=Ye(n,l);if(Bc(s.visibleWrites,f))return null;{const h=ni(s.visibleWrites,f);return Ic(h)?o.getChild(l):Ol(h,o.getChild(l))}}function $1(s,n,l,r){const o=Ye(n,l),f=Li(s.visibleWrites,o);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=ni(s.visibleWrites,o);return Ol(h,r.getNode().getImmediateChild(l))}else return null}function eb(s,n){return Li(s.visibleWrites,n)}function tb(s,n,l,r,o,f,h){let _;const p=ni(s.visibleWrites,n),g=Li(p,he());if(g!=null)_=g;else if(l!=null)_=Ol(p,l);else return[];if(_=_.withIndex(h),!_.isEmpty()&&!_.isLeafNode()){const T=[],b=h.getCompare(),R=f?_.getReverseIteratorFrom(r,h):_.getIteratorFrom(r,h);let z=R.getNext();for(;z&&T.length<o;)b(z,r)!==0&&T.push(z),z=R.getNext();return T}else return[]}function nb(){return{visibleWrites:Qt.empty(),allWrites:[],lastWriteId:-1}}function zr(s,n,l,r){return vp(s.writeTree,s.treePath,n,l,r)}function of(s,n){return P1(s.writeTree,s.treePath,n)}function ig(s,n,l,r){return J1(s.writeTree,s.treePath,n,l,r)}function Ur(s,n){return eb(s.writeTree,Ye(s.treePath,n))}function ib(s,n,l,r,o,f){return tb(s.writeTree,s.treePath,n,l,r,o,f)}function cf(s,n,l){return $1(s.writeTree,s.treePath,n,l)}function yp(s,n){return Ep(Ye(s.treePath,n),s.writeTree)}function Ep(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;U(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,Fs(r,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,Ks(r,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,Dl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,Fs(r,n.snapshotNode,o.oldSnap));else throw Nl("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const Sp=new sb;class ff{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new Ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hi(this.viewCache_),f=ib(this.writes_,o,l,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(s){return{filter:s}}function rb(s,n){U(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),U(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function ub(s,n,l,r,o){const f=new lb;let h,_;if(l.type===jt.OVERWRITE){const g=l;g.source.fromUser?h=qc(s,n,g.path,g.snap,r,o,f):(U(g.source.fromServer,"Unknown source."),_=g.source.tagged||n.serverCache.isFiltered()&&!le(g.path),h=Hr(s,n,g.path,g.snap,r,o,_,f))}else if(l.type===jt.MERGE){const g=l;g.source.fromUser?h=cb(s,n,g.path,g.children,r,o,f):(U(g.source.fromServer,"Unknown source."),_=g.source.tagged||n.serverCache.isFiltered(),h=kc(s,n,g.path,g.children,r,o,_,f))}else if(l.type===jt.ACK_USER_WRITE){const g=l;g.revert?h=db(s,n,g.path,r,o,f):h=fb(s,n,g.path,g.affectedTree,r,o,f)}else if(l.type===jt.LISTEN_COMPLETE)h=hb(s,n,l.path,r,f);else throw Nl("Unknown operation type: "+l.type);const p=f.getChanges();return ob(n,h,p),{viewCache:h,changes:p}}function ob(s,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Lc(s);(l.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(hp(Lc(n)))}}function bp(s,n,l,r,o,f){const h=n.eventCache;if(Ur(r,l)!=null)return n;{let _,p;if(le(l))if(U(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Hi(n),T=g instanceof K?g:K.EMPTY_NODE,b=of(r,T);_=s.filter.updateFullNode(n.eventCache.getNode(),b,f)}else{const g=zr(r,Hi(n));_=s.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=te(l);if(g===".priority"){U(ii(l)===1,"Can't have a priority with additional path components");const T=h.getNode();p=n.serverCache.getNode();const b=ig(r,l,T,p);b!=null?_=s.filter.updatePriority(T,b):_=h.getNode()}else{const T=Ce(l);let b;if(h.isCompleteForChild(g)){p=n.serverCache.getNode();const R=ig(r,l,h.getNode(),p);R!=null?b=h.getNode().getImmediateChild(g).updateChild(T,R):b=h.getNode().getImmediateChild(g)}else b=cf(r,g,n.serverCache);b!=null?_=s.filter.updateChild(h.getNode(),g,b,T,o,f):_=h.getNode()}}return ks(n,_,h.isFullyInitialized()||le(l),s.filter.filtersNodes())}}function Hr(s,n,l,r,o,f,h,_){const p=n.serverCache;let g;const T=h?s.filter:s.filter.getIndexedFilter();if(le(l))g=T.updateFullNode(p.getNode(),r,null);else if(T.filtersNodes()&&!p.isFiltered()){const z=p.getNode().updateChild(l,r);g=T.updateFullNode(p.getNode(),z,null)}else{const z=te(l);if(!p.isCompleteForPath(l)&&ii(l)>1)return n;const H=Ce(l),W=p.getNode().getImmediateChild(z).updateChild(H,r);z===".priority"?g=T.updatePriority(p.getNode(),W):g=T.updateChild(p.getNode(),z,W,H,Sp,null)}const b=mp(n,g,p.isFullyInitialized()||le(l),T.filtersNodes()),R=new ff(o,b,f);return bp(s,b,l,o,R,_)}function qc(s,n,l,r,o,f,h){const _=n.eventCache;let p,g;const T=new ff(o,n,f);if(le(l))g=s.filter.updateFullNode(n.eventCache.getNode(),r,h),p=ks(n,g,!0,s.filter.filtersNodes());else{const b=te(l);if(b===".priority")g=s.filter.updatePriority(n.eventCache.getNode(),r),p=ks(n,g,_.isFullyInitialized(),_.isFiltered());else{const R=Ce(l),z=_.getNode().getImmediateChild(b);let H;if(le(R))H=r;else{const Y=T.getCompleteChild(b);Y!=null?ip(R)===".priority"&&Y.getChild(sp(R)).isEmpty()?H=Y:H=Y.updateChild(R,r):H=K.EMPTY_NODE}if(z.equals(H))p=n;else{const Y=s.filter.updateChild(_.getNode(),b,H,R,T,h);p=ks(n,Y,_.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function lg(s,n){return s.eventCache.isCompleteForChild(n)}function cb(s,n,l,r,o,f,h){let _=n;return r.foreach((p,g)=>{const T=Ye(l,p);lg(n,te(T))&&(_=qc(s,_,T,g,o,f,h))}),r.foreach((p,g)=>{const T=Ye(l,p);lg(n,te(T))||(_=qc(s,_,T,g,o,f,h))}),_}function sg(s,n,l){return l.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function kc(s,n,l,r,o,f,h,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,g;le(l)?g=r:g=new Ae(null).setTree(l,r);const T=n.serverCache.getNode();return g.children.inorderTraversal((b,R)=>{if(T.hasChild(b)){const z=n.serverCache.getNode().getImmediateChild(b),H=sg(s,z,R);p=Hr(s,p,new ye(b),H,o,f,h,_)}}),g.children.inorderTraversal((b,R)=>{const z=!n.serverCache.isCompleteForChild(b)&&R.value===null;if(!T.hasChild(b)&&!z){const H=n.serverCache.getNode().getImmediateChild(b),Y=sg(s,H,R);p=Hr(s,p,new ye(b),Y,o,f,h,_)}}),p}function fb(s,n,l,r,o,f,h){if(Ur(o,l)!=null)return n;const _=n.serverCache.isFiltered(),p=n.serverCache;if(r.value!=null){if(le(l)&&p.isFullyInitialized()||p.isCompleteForPath(l))return Hr(s,n,l,p.getNode().getChild(l),o,f,_,h);if(le(l)){let g=new Ae(null);return p.getNode().forEachChild(Tl,(T,b)=>{g=g.set(new ye(T),b)}),kc(s,n,l,g,o,f,_,h)}else return n}else{let g=new Ae(null);return r.foreach((T,b)=>{const R=Ye(l,T);p.isCompleteForPath(R)&&(g=g.set(T,p.getNode().getChild(R)))}),kc(s,n,l,g,o,f,_,h)}}function hb(s,n,l,r,o){const f=n.serverCache,h=mp(n,f.getNode(),f.isFullyInitialized()||le(l),f.isFiltered());return bp(s,h,l,r,Sp,o)}function db(s,n,l,r,o,f){let h;if(Ur(r,l)!=null)return n;{const _=new ff(r,n,o),p=n.eventCache.getNode();let g;if(le(l)||te(l)===".priority"){let T;if(n.serverCache.isFullyInitialized())T=zr(r,Hi(n));else{const b=n.serverCache.getNode();U(b instanceof K,"serverChildren would be complete if leaf node"),T=of(r,b)}T=T,g=s.filter.updateFullNode(p,T,f)}else{const T=te(l);let b=cf(r,T,n.serverCache);b==null&&n.serverCache.isCompleteForChild(T)&&(b=p.getImmediateChild(T)),b!=null?g=s.filter.updateChild(p,T,b,Ce(l),_,f):n.eventCache.getNode().hasChild(T)?g=s.filter.updateChild(p,T,K.EMPTY_NODE,Ce(l),_,f):g=p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=zr(r,Hi(n)),h.isLeafNode()&&(g=s.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||Ur(r,he())!=null,ks(n,g,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new lf(r.getIndex()),f=z1(r);this.processor_=ab(f);const h=l.serverCache,_=l.eventCache,p=o.updateFullNode(K.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(K.EMPTY_NODE,_.getNode(),null),T=new Ui(p,h.isFullyInitialized(),o.filtersNodes()),b=new Ui(g,_.isFullyInitialized(),f.filtersNodes());this.viewCache_=Vr(b,T),this.eventGenerator_=new k1(this.query_)}get query(){return this.query_}}function mb(s){return s.viewCache_.serverCache.getNode()}function gb(s,n){const l=Hi(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!le(n)&&!l.getImmediateChild(te(n)).isEmpty())?l.getChild(n):null}function ag(s){return s.eventRegistrations_.length===0}function pb(s,n){s.eventRegistrations_.push(n)}function rg(s,n,l){const r=[];if(l){U(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,o);h&&r.push(h)})}if(n){let o=[];for(let f=0;f<s.eventRegistrations_.length;++f){const h=s.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function ug(s,n,l,r){n.type===jt.MERGE&&n.source.queryId!==null&&(U(Hi(s.viewCache_),"We should always have a full cache before handling merges"),U(Lc(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,f=ub(s.processor_,o,n,l,r);return rb(s.processor_,f.viewCache),U(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,Tp(s,f.changes,f.viewCache.eventCache.getNode(),null)}function vb(s,n){const l=s.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(ze,(f,h)=>{r.push(Dl(f,h))}),l.isFullyInitialized()&&r.push(hp(l.getNode())),Tp(s,r,l.getNode(),n)}function Tp(s,n,l,r){const o=r?[r]:s.eventRegistrations_;return Y1(s.eventGenerator_,n,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr;class yb{constructor(){this.views=new Map}}function Eb(s){U(!Lr,"__referenceConstructor has already been defined"),Lr=s}function Sb(){return U(Lr,"Reference.ts has not been loaded"),Lr}function bb(s){return s.views.size===0}function hf(s,n,l,r){const o=n.source.queryId;if(o!==null){const f=s.views.get(o);return U(f!=null,"SyncTree gave us an op for an invalid query."),ug(f,n,l,r)}else{let f=[];for(const h of s.views.values())f=f.concat(ug(h,n,l,r));return f}}function Tb(s,n,l,r,o){const f=n._queryIdentifier,h=s.views.get(f);if(!h){let _=zr(l,o?r:null),p=!1;_?p=!0:r instanceof K?(_=of(l,r),p=!1):(_=K.EMPTY_NODE,p=!1);const g=Vr(new Ui(_,p,!1),new Ui(r,o,!1));return new _b(n,g)}return h}function Cb(s,n,l,r,o,f){const h=Tb(s,n,r,o,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,h),pb(h,l),vb(h,l)}function Ab(s,n,l,r){const o=n._queryIdentifier,f=[];let h=[];const _=li(s);if(o==="default")for(const[p,g]of s.views.entries())h=h.concat(rg(g,l,r)),ag(g)&&(s.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=s.views.get(o);p&&(h=h.concat(rg(p,l,r)),ag(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||f.push(p.query)))}return _&&!li(s)&&f.push(new(Sb())(n._repo,n._path)),{removed:f,events:h}}function Cp(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Cl(s,n){let l=null;for(const r of s.views.values())l=l||gb(r,n);return l}function Ap(s,n){if(n._queryParams.loadsAllData())return jr(s);{const r=n._queryIdentifier;return s.views.get(r)}}function Rp(s,n){return Ap(s,n)!=null}function li(s){return jr(s)!=null}function jr(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br;function Rb(s){U(!Br,"__referenceConstructor has already been defined"),Br=s}function Db(){return U(Br,"Reference.ts has not been loaded"),Br}let Ob=1;class og{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ae(null),this.pendingWriteTree_=nb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Dp(s,n,l,r,o){return Q1(s.pendingWriteTree_,n,l,r,o),o?ia(s,new zi(_p(),n,l)):[]}function wi(s,n,l=!1){const r=X1(s.pendingWriteTree_,n);if(K1(s.pendingWriteTree_,n)){let f=new Ae(null);return r.snap!=null?f=f.set(he(),!0):mt(r.children,h=>{f=f.set(new ye(h),!0)}),ia(s,new xr(r.path,f,l))}else return[]}function Qr(s,n,l){return ia(s,new zi(af(),n,l))}function Nb(s,n,l){const r=Ae.fromObject(l);return ia(s,new Ps(af(),n,r))}function Mb(s,n){return ia(s,new Ws(af(),n))}function wb(s,n,l){const r=_f(s,l);if(r){const o=mf(r),f=o.path,h=o.queryId,_=ht(f,n),p=new Ws(rf(h),_);return gf(s,f,p)}else return[]}function Yc(s,n,l,r,o=!1){const f=n._path,h=s.syncPointTree_.get(f);let _=[];if(h&&(n._queryIdentifier==="default"||Rp(h,n))){const p=Ab(h,n,l,r);bb(h)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const g=p.removed;if(_=p.events,!o){const T=g.findIndex(R=>R._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(f,(R,z)=>li(z));if(T&&!b){const R=s.syncPointTree_.subtree(f);if(!R.isEmpty()){const z=Ub(R);for(let H=0;H<z.length;++H){const Y=z[H],W=Y.query,me=Mp(s,Y);s.listenProvider_.startListening(Gs(W),Ir(s,W),me.hashFn,me.onComplete)}}}!b&&g.length>0&&!r&&(T?s.listenProvider_.stopListening(Gs(n),null):g.forEach(R=>{const z=s.queryToTagMap.get(Xr(R));s.listenProvider_.stopListening(Gs(R),z)}))}Hb(s,g)}return _}function xb(s,n,l,r){const o=_f(s,r);if(o!=null){const f=mf(o),h=f.path,_=f.queryId,p=ht(h,n),g=new zi(rf(_),p,l);return gf(s,h,g)}else return[]}function zb(s,n,l,r){const o=_f(s,r);if(o){const f=mf(o),h=f.path,_=f.queryId,p=ht(h,n),g=Ae.fromObject(l),T=new Ps(rf(_),p,g);return gf(s,h,T)}else return[]}function cg(s,n,l,r=!1){const o=n._path;let f=null,h=!1;s.syncPointTree_.foreachOnPath(o,(R,z)=>{const H=ht(R,o);f=f||Cl(z,H),h=h||li(z)});let _=s.syncPointTree_.get(o);_?(h=h||li(_),f=f||Cl(_,he())):(_=new yb,s.syncPointTree_=s.syncPointTree_.set(o,_));let p;f!=null?p=!0:(p=!1,f=K.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((z,H)=>{const Y=Cl(H,he());Y&&(f=f.updateImmediateChild(z,Y))}));const g=Rp(_,n);if(!g&&!n._queryParams.loadsAllData()){const R=Xr(n);U(!s.queryToTagMap.has(R),"View does not exist, but we have a tag");const z=Lb();s.queryToTagMap.set(R,z),s.tagToQueryMap.set(z,R)}const T=uf(s.pendingWriteTree_,o);let b=Cb(_,n,l,T,f,p);if(!g&&!h&&!r){const R=Ap(_,n);b=b.concat(Bb(s,n,R))}return b}function df(s,n,l){const o=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(h,_)=>{const p=ht(h,n),g=Cl(_,p);if(g)return g});return vp(o,n,f,l,!0)}function ia(s,n){return Op(n,s.syncPointTree_,null,uf(s.pendingWriteTree_,he()))}function Op(s,n,l,r){if(le(s.path))return Np(s,n,l,r);{const o=n.get(he());l==null&&o!=null&&(l=Cl(o,he()));let f=[];const h=te(s.path),_=s.operationForChild(h),p=n.children.get(h);if(p&&_){const g=l?l.getImmediateChild(h):null,T=yp(r,h);f=f.concat(Op(_,p,g,T))}return o&&(f=f.concat(hf(o,s,r,l))),f}}function Np(s,n,l,r){const o=n.get(he());l==null&&o!=null&&(l=Cl(o,he()));let f=[];return n.children.inorderTraversal((h,_)=>{const p=l?l.getImmediateChild(h):null,g=yp(r,h),T=s.operationForChild(h);T&&(f=f.concat(Np(T,_,p,g)))}),o&&(f=f.concat(hf(o,s,r,l))),f}function Mp(s,n){const l=n.query,r=Ir(s,l);return{hashFn:()=>(mb(n)||K.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?wb(s,l._path,r):Mb(s,l._path);{const f=xS(o,l);return Yc(s,l,null,f)}}}}function Ir(s,n){const l=Xr(n);return s.queryToTagMap.get(l)}function Xr(s){return s._path.toString()+"$"+s._queryIdentifier}function _f(s,n){return s.tagToQueryMap.get(n)}function mf(s){const n=s.indexOf("$");return U(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new ye(s.substr(0,n))}}function gf(s,n,l){const r=s.syncPointTree_.get(n);U(r,"Missing sync point for query tag that we're tracking");const o=uf(s.pendingWriteTree_,n);return hf(r,l,o,null)}function Ub(s){return s.fold((n,l,r)=>{if(l&&li(l))return[jr(l)];{let o=[];return l&&(o=Cp(l)),mt(r,(f,h)=>{o=o.concat(h)}),o}})}function Gs(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(Db())(s._repo,s._path):s}function Hb(s,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const o=Xr(r),f=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(f)}}}function Lb(){return Ob++}function Bb(s,n,l){const r=n._path,o=Ir(s,n),f=Mp(s,l),h=s.listenProvider_.startListening(Gs(n),o,f.hashFn,f.onComplete),_=s.syncPointTree_.subtree(r);if(o)U(!li(_.value),"If we're adding a query, it shouldn't be shadowed");else{const p=_.fold((g,T,b)=>{if(!le(g)&&T&&li(T))return[jr(T).query];{let R=[];return T&&(R=R.concat(Cp(T).map(z=>z.query))),mt(b,(z,H)=>{R=R.concat(H)}),R}});for(let g=0;g<p.length;++g){const T=p[g];s.listenProvider_.stopListening(Gs(T),Ir(s,T))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new pf(l)}node(){return this.node_}}class vf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Ye(this.path_,n);return new vf(this.syncTree_,l)}node(){return df(this.syncTree_,this.path_)}}const Ib=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},fg=function(s,n,l){if(!s||typeof s!="object")return s;if(U(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return qb(s[".sv"],n,l);if(typeof s[".sv"]=="object")return kb(s[".sv"],n);U(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},qb=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:U(!1,"Unexpected server value: "+s)}},kb=function(s,n,l){s.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const o=n.node();if(U(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},Yb=function(s,n,l,r){return yf(n,new vf(l,s),r)},wp=function(s,n,l){return yf(s,new pf(n),l)};function yf(s,n,l){const r=s.getPriority().val(),o=fg(r,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const h=s,_=fg(h.getValue(),n,l);return _!==h.getValue()||o!==h.getPriority().val()?new Xe(_,Je(o)):s}else{const h=s;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new Xe(o))),h.forEachChild(ze,(_,p)=>{const g=yf(p,n.getImmediateChild(_),l);g!==p&&(f=f.updateImmediateChild(_,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function Sf(s,n){let l=n instanceof ye?n:new ye(n),r=s,o=te(l);for(;o!==null;){const f=Al(r.node.children,o)||{children:{},childCount:0};r=new Ef(o,r,f),l=Ce(l),o=te(l)}return r}function zl(s){return s.node.value}function xp(s,n){s.node.value=n,Gc(s)}function zp(s){return s.node.childCount>0}function Gb(s){return zl(s)===void 0&&!zp(s)}function Kr(s,n){mt(s.node.children,(l,r)=>{n(new Ef(l,s,r))})}function Up(s,n,l,r){l&&n(s),Kr(s,o=>{Up(o,n,!0)})}function Vb(s,n,l){let r=s.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function la(s){return new ye(s.parent===null?s.name:la(s.parent)+"/"+s.name)}function Gc(s){s.parent!==null&&jb(s.parent,s.name,s)}function jb(s,n,l){const r=Gb(l),o=An(s.node.children,n);r&&o?(delete s.node.children[n],s.node.childCount--,Gc(s)):!r&&!o&&(s.node.children[n]=l.node,s.node.childCount++,Gc(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=/[\[\].#$\/\u0000-\u001F\u007F]/,Xb=/[\[\].#$\u0000-\u001F\u007F]/,Tc=10*1024*1024,Hp=function(s){return typeof s=="string"&&s.length!==0&&!Qb.test(s)},Lp=function(s){return typeof s=="string"&&s.length!==0&&!Xb.test(s)},Kb=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Lp(s)},Bp=function(s,n,l,r){r&&n===void 0||bf(Fc(s,"value"),n,l)},bf=function(s,n,l){const r=l instanceof ye?new f1(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+Ni(r));if(typeof n=="function")throw new Error(s+"contains a function "+Ni(r)+" with contents = "+n.toString());if(Lg(n))throw new Error(s+"contains "+n.toString()+" "+Ni(r));if(typeof n=="string"&&n.length>Tc/3&&Yr(n)>Tc)throw new Error(s+"contains a string greater than "+Tc+" utf8 bytes "+Ni(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(mt(n,(h,_)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Hp(h)))throw new Error(s+" contains an invalid key ("+h+") "+Ni(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);h1(r,h),bf(s,_,r),d1(r)}),o&&f)throw new Error(s+' contains ".value" child '+Ni(r)+" in addition to actual children.")}},Ip=function(s,n,l,r){if(!Lp(l))throw new Error(Fc(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fb=function(s,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Ip(s,n,l)},qp=function(s,n){if(te(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},Zb=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Hp(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!Kb(l))throw new Error(Fc(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tf(s,n){let l=null;for(let r=0;r<n.length;r++){const o=n[r],f=o.getPath();l!==null&&!ef(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&s.eventLists_.push(l)}function kp(s,n,l){Tf(s,l),Yp(s,r=>ef(r,n))}function Cn(s,n,l){Tf(s,l),Yp(s,r=>Vt(r,n)||Vt(n,r))}function Yp(s,n){s.recursionDepth_++;let l=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const f=o.path;n(f)?(Pb(s.eventLists_[r]),s.eventLists_[r]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function Pb(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const r=l.getEventRunner();Is&&nt("event: "+l.toString()),xl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="repo_interrupt",$b=25;class eT{constructor(n,l,r,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wr(),this.transactionQueueTree_=new Ef,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tT(s,n,l){if(s.stats_=Jc(s.repoInfo_),s.forceRestClient_||LS())s.server_=new Mr(s.repoInfo_,(r,o,f,h)=>{hg(s,r,o,f,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>dg(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Sn(s.repoInfo_,n,(r,o,f,h)=>{hg(s,r,o,f,h)},r=>{dg(s,r)},r=>{nT(s,r)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=YS(s.repoInfo_,()=>new q1(s.stats_,s.server_)),s.infoData_=new U1,s.infoSyncTree_=new og({startListening:(r,o,f,h)=>{let _=[];const p=s.infoData_.getNode(r._path);return p.isEmpty()||(_=Qr(s.infoSyncTree_,r._path,p),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),Af(s,"connected",!1),s.serverSyncTree_=new og({startListening:(r,o,f,h)=>(s.server_.listen(r,f,o,(_,p)=>{const g=h(_,p);Cn(s.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function Gp(s){const l=s.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Cf(s){return Ib({timestamp:Gp(s)})}function hg(s,n,l,r,o){s.dataUpdateCount++;const f=new ye(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let h=[];if(o)if(r){const p=Cr(l,g=>Je(g));h=zb(s.serverSyncTree_,f,p,o)}else{const p=Je(l);h=xb(s.serverSyncTree_,f,p,o)}else if(r){const p=Cr(l,g=>Je(g));h=Nb(s.serverSyncTree_,f,p)}else{const p=Je(l);h=Qr(s.serverSyncTree_,f,p)}let _=f;h.length>0&&(_=Fr(s,f)),Cn(s.eventQueue_,_,h)}function dg(s,n){Af(s,"connected",n),n===!1&&lT(s)}function nT(s,n){mt(n,(l,r)=>{Af(s,l,r)})}function Af(s,n,l){const r=new ye("/.info/"+n),o=Je(l);s.infoData_.updateSnapshot(r,o);const f=Qr(s.infoSyncTree_,r,o);Cn(s.eventQueue_,r,f)}function Vp(s){return s.nextWriteId_++}function iT(s,n,l,r,o){Rf(s,"set",{path:n.toString(),value:l,priority:r});const f=Cf(s),h=Je(l,r),_=df(s.serverSyncTree_,n),p=wp(h,_,f),g=Vp(s),T=Dp(s.serverSyncTree_,n,p,g,!0);Tf(s.eventQueue_,T),s.server_.put(n.toString(),h.val(!0),(R,z)=>{const H=R==="ok";H||_t("set at "+n+" failed: "+R);const Y=wi(s.serverSyncTree_,g,!H);Cn(s.eventQueue_,n,Y),uT(s,o,R,z)});const b=Fp(s,n);Fr(s,b),Cn(s.eventQueue_,b,[])}function lT(s){Rf(s,"onDisconnectEvents");const n=Cf(s),l=wr();Hc(s.onDisconnect_,he(),(o,f)=>{const h=Yb(o,f,s.serverSyncTree_,n);dp(l,o,h)});let r=[];Hc(l,he(),(o,f)=>{r=r.concat(Qr(s.serverSyncTree_,o,f));const h=Fp(s,o);Fr(s,h)}),s.onDisconnect_=wr(),Cn(s.eventQueue_,he(),r)}function sT(s,n,l){let r;te(n._path)===".info"?r=cg(s.infoSyncTree_,n,l):r=cg(s.serverSyncTree_,n,l),kp(s.eventQueue_,n._path,r)}function aT(s,n,l){let r;te(n._path)===".info"?r=Yc(s.infoSyncTree_,n,l):r=Yc(s.serverSyncTree_,n,l),kp(s.eventQueue_,n._path,r)}function rT(s){s.persistentConnection_&&s.persistentConnection_.interrupt(Jb)}function Rf(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),nt(l,...n)}function uT(s,n,l,r){n&&xl(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let f=o;r&&(f+=": "+r);const h=new Error(f);h.code=o,n(h)}})}function jp(s,n,l){return df(s.serverSyncTree_,n,l)||K.EMPTY_NODE}function Df(s,n=s.transactionQueueTree_){if(n||Zr(s,n),zl(n)){const l=Xp(s,n);U(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&oT(s,la(n),l)}else zp(n)&&Kr(n,l=>{Df(s,l)})}function oT(s,n,l){const r=l.map(g=>g.currentWriteId),o=jp(s,n,r);let f=o;const h=o.hash();for(let g=0;g<l.length;g++){const T=l[g];U(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const b=ht(n,T.path);f=f.updateChild(b,T.currentOutputSnapshotRaw)}const _=f.val(!0),p=n;s.server_.put(p.toString(),_,g=>{Rf(s,"transaction put response",{path:p.toString(),status:g});let T=[];if(g==="ok"){const b=[];for(let R=0;R<l.length;R++)l[R].status=2,T=T.concat(wi(s.serverSyncTree_,l[R].currentWriteId)),l[R].onComplete&&b.push(()=>l[R].onComplete(null,!0,l[R].currentOutputSnapshotResolved)),l[R].unwatcher();Zr(s,Sf(s.transactionQueueTree_,n)),Df(s,s.transactionQueueTree_),Cn(s.eventQueue_,n,T);for(let R=0;R<b.length;R++)xl(b[R])}else{if(g==="datastale")for(let b=0;b<l.length;b++)l[b].status===3?l[b].status=4:l[b].status=0;else{_t("transaction at "+p.toString()+" failed: "+g);for(let b=0;b<l.length;b++)l[b].status=4,l[b].abortReason=g}Fr(s,n)}},h)}function Fr(s,n){const l=Qp(s,n),r=la(l),o=Xp(s,l);return cT(s,o,r),r}function cT(s,n,l){if(n.length===0)return;const r=[];let o=[];const h=n.filter(_=>_.status===0).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const p=n[_],g=ht(l,p.path);let T=!1,b;if(U(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)T=!0,b=p.abortReason,o=o.concat(wi(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=$b)T=!0,b="maxretry",o=o.concat(wi(s.serverSyncTree_,p.currentWriteId,!0));else{const R=jp(s,p.path,h);p.currentInputSnapshot=R;const z=n[_].update(R.val());if(z!==void 0){bf("transaction failed: Data returned ",z,p.path);let H=Je(z);typeof z=="object"&&z!=null&&An(z,".priority")||(H=H.updatePriority(R.getPriority()));const W=p.currentWriteId,me=Cf(s),de=wp(H,R,me);p.currentOutputSnapshotRaw=H,p.currentOutputSnapshotResolved=de,p.currentWriteId=Vp(s),h.splice(h.indexOf(W),1),o=o.concat(Dp(s.serverSyncTree_,p.path,de,p.currentWriteId,p.applyLocally)),o=o.concat(wi(s.serverSyncTree_,W,!0))}else T=!0,b="nodata",o=o.concat(wi(s.serverSyncTree_,p.currentWriteId,!0))}Cn(s.eventQueue_,l,o),o=[],T&&(n[_].status=2,function(R){setTimeout(R,Math.floor(0))}(n[_].unwatcher),n[_].onComplete&&(b==="nodata"?r.push(()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot)):r.push(()=>n[_].onComplete(new Error(b),!1,null))))}Zr(s,s.transactionQueueTree_);for(let _=0;_<r.length;_++)xl(r[_]);Df(s,s.transactionQueueTree_)}function Qp(s,n){let l,r=s.transactionQueueTree_;for(l=te(n);l!==null&&zl(r)===void 0;)r=Sf(r,l),n=Ce(n),l=te(n);return r}function Xp(s,n){const l=[];return Kp(s,n,l),l.sort((r,o)=>r.order-o.order),l}function Kp(s,n,l){const r=zl(n);if(r)for(let o=0;o<r.length;o++)l.push(r[o]);Kr(n,o=>{Kp(s,o,l)})}function Zr(s,n){const l=zl(n);if(l){let r=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[r]=l[o],r++);l.length=r,xp(n,l.length>0?l:void 0)}Kr(n,r=>{Zr(s,r)})}function Fp(s,n){const l=la(Qp(s,n)),r=Sf(s.transactionQueueTree_,n);return Vb(r,o=>{Cc(s,o)}),Cc(s,r),Up(r,o=>{Cc(s,o)}),l}function Cc(s,n){const l=zl(n);if(l){const r=[];let o=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(U(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(U(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),o=o.concat(wi(s.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?xp(n,void 0):l.length=f+1,Cn(s.eventQueue_,la(n),o);for(let h=0;h<r.length;h++)xl(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(s){let n="";const l=s.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let o=l[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function hT(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_t(`Invalid query segment '${l}' in query '${s}'`)}return n}const _g=function(s,n){const l=dT(s),r=l.namespace;l.domain==="firebase.com"&&Tn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||DS();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Fg(l.host,l.secure,r,o,n,"",r!==l.subdomain),path:new ye(l.pathString)}},dT=function(s){let n="",l="",r="",o="",f="",h=!0,_="https",p=443;if(typeof s=="string"){let g=s.indexOf("//");g>=0&&(_=s.substring(0,g-1),s=s.substring(g+2));let T=s.indexOf("/");T===-1&&(T=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),n=s.substring(0,Math.min(T,b)),T<b&&(o=fT(s.substring(T,b)));const R=hT(s.substring(Math.min(s.length,b)));g=n.indexOf(":"),g>=0?(h=_==="https"||_==="wss",p=parseInt(n.substring(g+1),10)):g=n.length;const z=n.slice(0,g);if(z.toLowerCase()==="localhost")l="localhost";else if(z.split(".").length<=2)l=z;else{const H=n.indexOf(".");r=n.substring(0,H).toLowerCase(),l=n.substring(H+1),f=r}"ns"in R&&(f=R.ns)}return{host:n,port:p,domain:l,subdomain:r,secure:h,scheme:_,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_T=function(){let s=0;const n=[];return function(l){const r=l===s;s=l;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=mg.charAt(l%64),l=Math.floor(l/64);U(l===0,"Cannot push at time == 0");let h=f.join("");if(r){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=mg.charAt(n[o]);return U(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(n,l,r,o){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fe(this.snapshot.exportVal())}}class gT{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(n,l,r,o){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=o}get key(){return le(this._path)?null:ip(this._path)}get ref(){return new si(this._repo,this._path)}get _queryIdentifier(){const n=Jm(this._queryParams),l=Wc(n);return l==="{}"?"default":l}get _queryObject(){return Jm(this._queryParams)}isEqual(n){if(n=Ml(n),!(n instanceof Of))return!1;const l=this._repo===n._repo,r=ef(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+c1(this._path)}}class si extends Of{constructor(n,l){super(n,l,new sf,!1)}get parent(){const n=sp(this._path);return n===null?null:new si(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class qr{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new ye(n),r=Js(this.ref,n);return new qr(this._node.getChild(l),r,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>n(new qr(o,Js(this.ref,r),ze)))}hasChild(n){const l=new ye(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gg(s,n){return s=Ml(s),s._checkNotDeleted("ref"),Js(s._root,n)}function Js(s,n){return s=Ml(s),te(s._path)===null?Fb("child","path",n):Ip("child","path",n),new si(s._repo,Ye(s._path,n))}function vT(s,n){s=Ml(s),qp("push",s._path),Bp("push",n,s._path,!0);const l=Gp(s._repo),r=_T(l),o=Js(s,r),f=Js(s,r);let h;return h=Promise.resolve(f),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function yT(s,n){s=Ml(s),qp("set",s._path),Bp("set",n,s._path,!1);const l=new kr;return iT(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}class Nf{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new mT("value",this,new qr(n.snapshotNode,new si(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new gT(this,n,l):null}matches(n){return n instanceof Nf?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ET(s,n,l,r,o){const f=new pT(l,void 0),h=new Nf(f);return sT(s._repo,s,h),()=>aT(s._repo,s,h)}function ST(s,n,l,r){return ET(s,"value",n)}Eb(si);Rb(si);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="FIREBASE_DATABASE_EMULATOR_HOST",Vc={};let TT=!1;function CT(s,n,l,r){s.repoInfo_=new Fg(`${n}:${l}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),r&&(s.authTokenProvider_=r)}function AT(s,n,l,r,o){let f=r||s.options.databaseURL;f===void 0&&(s.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=_g(f,o),_=h.repoInfo,p;typeof process<"u"&&Um&&(p=Um[bT]),p?(f=`http://${p}?ns=${_.namespace}`,h=_g(f,o),_=h.repoInfo):h.repoInfo.secure;const g=new IS(s.name,s.options,n);Zb("Invalid Firebase Database URL",h),le(h.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const T=DT(_,s,g,new BS(s,l));return new OT(T,s)}function RT(s,n){const l=Vc[n];(!l||l[s.key]!==s)&&Tn(`Database ${n}(${s.repoInfo_}) has already been deleted.`),rT(s),delete l[s.key]}function DT(s,n,l,r){let o=Vc[n.name];o||(o={},Vc[n.name]=o);let f=o[s.toURLString()];return f&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new eT(s,TT,l,r),o[s.toURLString()]=f,f}class OT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new si(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Tn("Cannot call "+n+" on a deleted database.")}}function NT(s=uS(),n){const l=iS(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=X0("database");r&&MT(l,...r)}return l}function MT(s,n,l,r={}){s=Ml(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&Tn("Cannot call useEmulator() after instance has already been initialized.");const o=s._repoInternal;let f;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Sr(Sr.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:K0(r.mockUserToken,s.app.options.projectId);f=new Sr(h)}CT(o,n,l,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(s){SS(rS),Rr(new js("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return AT(r,o,f,l)},"PUBLIC").setMultipleInstances(!0)),Sl(Hm,Lm,s),Sl(Hm,Lm,"esm2017")}Sn.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Sn.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};wT();const xT={apiKey:"AIzaSyCJ7BWfArna55_PHHHunJnjzlFXA_J3WgA",authDomain:"ld-highscore-c08ed.firebaseapp.com",databaseURL:"https://ld-highscore-c08ed-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"ld-highscore-c08ed",storageBucket:"ld-highscore-c08ed.firebasestorage.app",messagingSenderId:"1011318501781",appId:"1:1011318501781:web:862b01f9a13bf55997469c"},zT=Mg(xT),pg=NT(zT);function UT(){const s="0123456789ABCDEF";let n="#";for(let l=0;l<6;l++)n+=s[Math.floor(Math.random()*16)];return n}function HT(){const[s,n]=Jn.useState("#ffffff"),[l,r]=Jn.useState(0),[o,f]=Jn.useState(0),[h,_]=Jn.useState(!1),[p,g]=Jn.useState([]);Jn.useEffect(()=>{T()},[]);const T=()=>{const H=gg(pg,"leaderboard");ST(H,Y=>{const W=Y.val();if(W){const me=Object.values(W);g(me.sort((de,De)=>De.score-de.score).slice(0,10))}})},b=(H,Y)=>{const W=vT(gg(pg,"leaderboard"));yT(W,{name:H,score:Y}).then(()=>T())},R=()=>{new Audio("./highscore.mp3").play()},z=()=>{var de;f(o+1);const H=l*.05,Y=1/(1+o*.002),W=H*Y;if(Math.random()<W){if(p.length<10||l>p[p.length-1].score){const De=(de=prompt("🎉 Ny high score! Ange dina 3 bokstäver (A-Z):"))==null?void 0:de.toUpperCase();De&&/^[A-Z]{3}$/.test(De)&&(b(De,l),_(!0),R(),setTimeout(()=>_(!1),3e3))}r(0)}else r(l+1),n(UT())};return ft.jsxs("div",{style:{backgroundColor:s,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"background-color 0.5s ease",margin:0,padding:0,overflow:"hidden"},children:[h&&ft.jsx(L0,{width:window.innerWidth,height:window.innerHeight}),ft.jsx("div",{style:{fontSize:"50px",marginBottom:"20px",transition:"transform 0.2s ease-in-out"},children:"🐱"}),ft.jsx("button",{onClick:z,style:{backgroundColor:"red",color:"white",width:"80px",height:"80px",fontSize:"18px",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",marginBottom:"20px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)"},children:"Tryck!"}),ft.jsxs("h2",{style:{fontSize:"24px",color:"#333"},children:["Antal klick: ",l]}),ft.jsx("h3",{style:{fontSize:"20px",color:"#555",marginTop:"20px"},children:"🏆 Leaderboard"}),ft.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.8)",padding:"10px",borderRadius:"10px",textAlign:"center",width:"200px"},children:p.length===0?ft.jsx("p",{style:{fontSize:"14px",color:"#777"},children:"Inga high scores än!"}):ft.jsx("ol",{style:{paddingLeft:"15px",fontSize:"16px",color:"#333"},children:p.map((H,Y)=>ft.jsxs("li",{children:[H.name," - ",H.score]},Y))})})]})}D0.createRoot(document.getElementById("root")).render(ft.jsx(Jn.StrictMode,{children:ft.jsx(HT,{})}));
